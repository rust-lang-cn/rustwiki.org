<!DOCTYPE html>
<html>
<head>
<title>{{ page.title }} | {{ config.title }}</title>
<meta charset="utf-8">
<link rel="icon" href="{{ get_url(path="img/favicon.ico") | safe }}">
<!-- Include rust.css after light.css so its rules take priority. -->
<link rel="stylesheet" type="text/css" href="{{ get_url(path="css/light1.52.0.css") | safe }}"/>
<link rel="stylesheet" type="text/css" href="{{ get_url(path="css/rust.css") | safe }}"/>
<style>
.error-undescribed {
    display: none;
}
</style>
</head>
<body>
<h1>{{ page.title }}</h1>
<div class="error-described"><h2 id="E0001" class="section-header"><a href="#E0001">E0001</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>This error suggests that the expression arm corresponding to the noted pattern
will never be reached as for all possible values of the expression being
matched, one of the preceding patterns will match.</p>
<p>This means that perhaps some of the preceding patterns are too general, this
one is too specific or the ordering is incorrect.</p>
<p>For example, the following <code>match</code> block has too many arms:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">match</span> <span class="prelude-val">Some</span>(<span class="number">0</span>) {
    <span class="prelude-val">Some</span>(<span class="ident">bar</span>) <span class="op">=</span><span class="op">&gt;</span> {<span class="comment">/* ... */</span>}
    <span class="ident">x</span> <span class="op">=</span><span class="op">&gt;</span> {<span class="comment">/* ... */</span>} <span class="comment">// This handles the `None` case</span>
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> {<span class="comment">/* ... */</span>} <span class="comment">// All possible cases have already been handled</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amatch%20Some(0)%20%7B%0A%20%20%20%20Some(bar)%20%3D%3E%20%7B%2F*%20...%20*%2F%7D%0A%20%20%20%20x%20%3D%3E%20%7B%2F*%20...%20*%2F%7D%20%2F%2F%20This%20handles%20the%20%60None%60%20case%0A%20%20%20%20_%20%3D%3E%20%7B%2F*%20...%20*%2F%7D%20%2F%2F%20All%20possible%20cases%20have%20already%20been%20handled%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p><code>match</code> blocks have their patterns matched in order, so, for example, putting
a wildcard arm above a more specific arm will make the latter arm irrelevant.</p>
<p>Ensure the ordering of the match arm is correct and remove any superfluous
arms.</p>
</div>
<div class="error-described"><h2 id="E0002" class="section-header"><a href="#E0002">E0002</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-1" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-1">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>This error indicates that an empty match expression is invalid because the type
it is matching on is non-empty (there exist values of this type). In safe code
it is impossible to create an instance of an empty type, so empty match
expressions are almost never desired. This error is typically fixed by adding
one or more cases to the match expression.</p>
<p>An example of an empty type is <code>enum Empty { }</code>. So, the following will work:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">Empty</span> {}

<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="ident">Empty</span>) {
    <span class="kw">match</span> <span class="ident">x</span> {
        <span class="comment">// empty</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Empty%20%7B%7D%0A%0Afn%20foo(x%3A%20Empty)%20%7B%0A%20%20%20%20match%20x%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20empty%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>However, this won’t:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">String</span><span class="op">&gt;</span>) {
    <span class="kw">match</span> <span class="ident">x</span> {
        <span class="comment">// empty</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo(x%3A%20Option%3CString%3E)%20%7B%0A%20%20%20%20match%20x%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20empty%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0004" class="section-header"><a href="#E0004">E0004</a></h2>
<p>This error indicates that the compiler cannot guarantee a matching pattern for
one or more possible inputs to a match expression. Guaranteed matches are
required in order to assign values to match expressions, or alternatively,
determine the flow of execution.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">Terminator</span> {
    <span class="ident">HastaLaVistaBaby</span>,
    <span class="ident">TalkToMyHand</span>,
}

<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Terminator</span>::<span class="ident">HastaLaVistaBaby</span>;

<span class="kw">match</span> <span class="ident">x</span> { <span class="comment">// error: non-exhaustive patterns: `HastaLaVistaBaby` not covered</span>
    <span class="ident">Terminator</span>::<span class="ident">TalkToMyHand</span> <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Terminator%20%7B%0A%20%20%20%20HastaLaVistaBaby%2C%0A%20%20%20%20TalkToMyHand%2C%0A%7D%0A%0Alet%20x%20%3D%20Terminator%3A%3AHastaLaVistaBaby%3B%0A%0Amatch%20x%20%7B%20%2F%2F%20error%3A%20non-exhaustive%20patterns%3A%20%60HastaLaVistaBaby%60%20not%20covered%0A%20%20%20%20Terminator%3A%3ATalkToMyHand%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>If you encounter this error you must alter your patterns so that every possible
value of the input type is matched. For types with a small number of variants
(like enums) you should probably cover all cases explicitly. Alternatively, the
underscore <code>_</code> wildcard pattern can be added after all other patterns to match
“anything else”. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">Terminator</span> {
    <span class="ident">HastaLaVistaBaby</span>,
    <span class="ident">TalkToMyHand</span>,
}

<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Terminator</span>::<span class="ident">HastaLaVistaBaby</span>;

<span class="kw">match</span> <span class="ident">x</span> {
    <span class="ident">Terminator</span>::<span class="ident">TalkToMyHand</span> <span class="op">=</span><span class="op">&gt;</span> {}
    <span class="ident">Terminator</span>::<span class="ident">HastaLaVistaBaby</span> <span class="op">=</span><span class="op">&gt;</span> {}
}

<span class="comment">// or:</span>

<span class="kw">match</span> <span class="ident">x</span> {
    <span class="ident">Terminator</span>::<span class="ident">TalkToMyHand</span> <span class="op">=</span><span class="op">&gt;</span> {}
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Terminator%20%7B%0A%20%20%20%20HastaLaVistaBaby%2C%0A%20%20%20%20TalkToMyHand%2C%0A%7D%0A%0Alet%20x%20%3D%20Terminator%3A%3AHastaLaVistaBaby%3B%0A%0Amatch%20x%20%7B%0A%20%20%20%20Terminator%3A%3ATalkToMyHand%20%3D%3E%20%7B%7D%0A%20%20%20%20Terminator%3A%3AHastaLaVistaBaby%20%3D%3E%20%7B%7D%0A%7D%0A%0A%2F%2F%20or%3A%0A%0Amatch%20x%20%7B%0A%20%20%20%20Terminator%3A%3ATalkToMyHand%20%3D%3E%20%7B%7D%0A%20%20%20%20_%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0005" class="section-header"><a href="#E0005">E0005</a></h2>
<p>Patterns used to bind names must be irrefutable, that is, they must guarantee
that a name will be extracted in all cases.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="prelude-val">Some</span>(<span class="number">1</span>);
<span class="kw">let</span> <span class="prelude-val">Some</span>(<span class="ident">y</span>) <span class="op">=</span> <span class="ident">x</span>;
<span class="comment">// error: refutable pattern in local binding: `None` not covered</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%20Some(1)%3B%0Alet%20Some(y)%20%3D%20x%3B%0A%2F%2F%20error%3A%20refutable%20pattern%20in%20local%20binding%3A%20%60None%60%20not%20covered%0A%7D&amp;edition=2015">Run</a></div>
<p>If you encounter this error you probably need to use a <code>match</code> or <code>if let</code> to
deal with the possibility of failure. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="prelude-val">Some</span>(<span class="number">1</span>);

<span class="kw">match</span> <span class="ident">x</span> {
    <span class="prelude-val">Some</span>(<span class="ident">y</span>) <span class="op">=</span><span class="op">&gt;</span> {
        <span class="comment">// do something</span>
    },
    <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> {}
}

<span class="comment">// or:</span>

<span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Some</span>(<span class="ident">y</span>) <span class="op">=</span> <span class="ident">x</span> {
    <span class="comment">// do something</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%20Some(1)%3B%0A%0Amatch%20x%20%7B%0A%20%20%20%20Some(y)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20do%20something%0A%20%20%20%20%7D%2C%0A%20%20%20%20None%20%3D%3E%20%7B%7D%0A%7D%0A%0A%2F%2F%20or%3A%0A%0Aif%20let%20Some(y)%20%3D%20x%20%7B%0A%20%20%20%20%2F%2F%20do%20something%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0007" class="section-header"><a href="#E0007">E0007</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-2" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-2">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>This error indicates that the bindings in a match arm would require a value to
be moved into more than one location, thus violating unique ownership. Code
like the following is invalid as it requires the entire <code>Option&lt;String&gt;</code> to be
moved into a variable called <code>op_string</code> while simultaneously requiring the
inner <code>String</code> to be moved into a variable called <code>s</code>.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">bindings_after_at</span>)]</span>

<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="prelude-val">Some</span>(<span class="string">&quot;s&quot;</span>.<span class="ident">to_string</span>());

<span class="kw">match</span> <span class="ident">x</span> {
    <span class="ident">op_string</span> @ <span class="prelude-val">Some</span>(<span class="ident">s</span>) <span class="op">=</span><span class="op">&gt;</span> {}, <span class="comment">// error: use of moved value</span>
    <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> {},
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(bindings_after_at)%5D%0A%0Afn%20main()%20%7B%0Alet%20x%20%3D%20Some(%22s%22.to_string())%3B%0A%0Amatch%20x%20%7B%0A%20%20%20%20op_string%20%40%20Some(s)%20%3D%3E%20%7B%7D%2C%20%2F%2F%20error%3A%20use%20of%20moved%20value%0A%20%20%20%20None%20%3D%3E%20%7B%7D%2C%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>See also the error E0303.</p>
</div>
<div class="error-described"><h2 id="E0009" class="section-header"><a href="#E0009">E0009</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-3" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-3">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>In a pattern, all values that don’t implement the <code>Copy</code> trait have to be bound
the same way. The goal here is to avoid binding simultaneously by-move and
by-ref.</p>
<p>This limitation may be removed in a future version of Rust.</p>
<p>Erroneous code example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">move_ref_pattern</span>)]</span>

<span class="kw">struct</span> <span class="ident">X</span> { <span class="ident">x</span>: (), }

<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="prelude-val">Some</span>((<span class="ident">X</span> { <span class="ident">x</span>: () }, <span class="ident">X</span> { <span class="ident">x</span>: () }));
<span class="kw">match</span> <span class="ident">x</span> {
    <span class="prelude-val">Some</span>((<span class="ident">y</span>, <span class="kw-2">ref</span> <span class="ident">z</span>)) <span class="op">=</span><span class="op">&gt;</span> {}, <span class="comment">// error: cannot bind by-move and by-ref in the</span>
                            <span class="comment">//        same pattern</span>
    <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">panic</span><span class="macro">!</span>()
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(move_ref_pattern)%5D%0A%0Afn%20main()%20%7B%0Astruct%20X%20%7B%20x%3A%20()%2C%20%7D%0A%0Alet%20x%20%3D%20Some((X%20%7B%20x%3A%20()%20%7D%2C%20X%20%7B%20x%3A%20()%20%7D))%3B%0Amatch%20x%20%7B%0A%20%20%20%20Some((y%2C%20ref%20z))%20%3D%3E%20%7B%7D%2C%20%2F%2F%20error%3A%20cannot%20bind%20by-move%20and%20by-ref%20in%20the%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20same%20pattern%0A%20%20%20%20None%20%3D%3E%20panic!()%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>You have two solutions:</p>
<p>Solution #1: Bind the pattern’s values the same way.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">X</span> { <span class="ident">x</span>: (), }

<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="prelude-val">Some</span>((<span class="ident">X</span> { <span class="ident">x</span>: () }, <span class="ident">X</span> { <span class="ident">x</span>: () }));
<span class="kw">match</span> <span class="ident">x</span> {
    <span class="prelude-val">Some</span>((<span class="kw-2">ref</span> <span class="ident">y</span>, <span class="kw-2">ref</span> <span class="ident">z</span>)) <span class="op">=</span><span class="op">&gt;</span> {},
    <span class="comment">// or Some((y, z)) =&gt; {}</span>
    <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">panic</span><span class="macro">!</span>()
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20X%20%7B%20x%3A%20()%2C%20%7D%0A%0Alet%20x%20%3D%20Some((X%20%7B%20x%3A%20()%20%7D%2C%20X%20%7B%20x%3A%20()%20%7D))%3B%0Amatch%20x%20%7B%0A%20%20%20%20Some((ref%20y%2C%20ref%20z))%20%3D%3E%20%7B%7D%2C%0A%20%20%20%20%2F%2F%20or%20Some((y%2C%20z))%20%3D%3E%20%7B%7D%0A%20%20%20%20None%20%3D%3E%20panic!()%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Solution #2: Implement the <code>Copy</code> trait for the <code>X</code> structure.</p>
<p>However, please keep in mind that the first solution should be preferred.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>, <span class="ident">Copy</span>)]</span>
<span class="kw">struct</span> <span class="ident">X</span> { <span class="ident">x</span>: (), }

<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="prelude-val">Some</span>((<span class="ident">X</span> { <span class="ident">x</span>: () }, <span class="ident">X</span> { <span class="ident">x</span>: () }));
<span class="kw">match</span> <span class="ident">x</span> {
    <span class="prelude-val">Some</span>((<span class="ident">y</span>, <span class="kw-2">ref</span> <span class="ident">z</span>)) <span class="op">=</span><span class="op">&gt;</span> {},
    <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">panic</span><span class="macro">!</span>()
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bderive(Clone%2C%20Copy)%5D%0Astruct%20X%20%7B%20x%3A%20()%2C%20%7D%0A%0Alet%20x%20%3D%20Some((X%20%7B%20x%3A%20()%20%7D%2C%20X%20%7B%20x%3A%20()%20%7D))%3B%0Amatch%20x%20%7B%0A%20%20%20%20Some((y%2C%20ref%20z))%20%3D%3E%20%7B%7D%2C%0A%20%20%20%20None%20%3D%3E%20panic!()%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0010" class="section-header"><a href="#E0010">E0010</a></h2>
<p>The value of statics and constants must be known at compile time, and they live
for the entire lifetime of a program. Creating a boxed value allocates memory on
the heap at runtime, and therefore cannot be done at compile time.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">box_syntax</span>)]</span>

<span class="kw">const</span> <span class="ident">CON</span> : <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span> <span class="op">=</span> <span class="kw">box</span> <span class="number">0</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(box_syntax)%5D%0A%0Afn%20main()%20%7B%0Aconst%20CON%20%3A%20Box%3Ci32%3E%20%3D%20box%200%3B%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0013" class="section-header"><a href="#E0013">E0013</a></h2>
<p>Static and const variables can refer to other const variables. But a const
variable cannot refer to a static variable.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">static</span> <span class="ident">X</span>: <span class="ident">i32</span> <span class="op">=</span> <span class="number">42</span>;
<span class="kw">const</span> <span class="ident">Y</span>: <span class="ident">i32</span> <span class="op">=</span> <span class="ident">X</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astatic%20X%3A%20i32%20%3D%2042%3B%0Aconst%20Y%3A%20i32%20%3D%20X%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>In this example, <code>Y</code> cannot refer to <code>X</code>. To fix this, the value can be
extracted as a const and then used:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">const</span> <span class="ident">A</span>: <span class="ident">i32</span> <span class="op">=</span> <span class="number">42</span>;
<span class="kw">static</span> <span class="ident">X</span>: <span class="ident">i32</span> <span class="op">=</span> <span class="ident">A</span>;
<span class="kw">const</span> <span class="ident">Y</span>: <span class="ident">i32</span> <span class="op">=</span> <span class="ident">A</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aconst%20A%3A%20i32%20%3D%2042%3B%0Astatic%20X%3A%20i32%20%3D%20A%3B%0Aconst%20Y%3A%20i32%20%3D%20A%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0014" class="section-header"><a href="#E0014">E0014</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-4" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-4">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>Constants can only be initialized by a constant value or, in a future
version of Rust, a call to a const function. This error indicates the use
of a path (like a::b, or x) denoting something other than one of these
allowed items.</p>
<p>Erroneous code example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">const</span> <span class="ident">FOO</span>: <span class="ident">i32</span> <span class="op">=</span> { <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">0</span>; <span class="ident">x</span> }; <span class="comment">// &#39;x&#39; isn&#39;t a constant nor a function!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aconst%20FOO%3A%20i32%20%3D%20%7B%20let%20x%20%3D%200%3B%20x%20%7D%3B%20%2F%2F%20'x'%20isn't%20a%20constant%20nor%20a%20function!%0A%7D&amp;edition=2015">Run</a></div>
<p>To avoid it, you have to replace the non-constant value:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">const</span> <span class="ident">FOO</span>: <span class="ident">i32</span> <span class="op">=</span> { <span class="kw">const</span> <span class="ident">X</span> : <span class="ident">i32</span> <span class="op">=</span> <span class="number">0</span>; <span class="ident">X</span> };
<span class="comment">// or even:</span>
<span class="kw">const</span> <span class="ident">FOO2</span>: <span class="ident">i32</span> <span class="op">=</span> { <span class="number">0</span> }; <span class="comment">// but brackets are useless here</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aconst%20FOO%3A%20i32%20%3D%20%7B%20const%20X%20%3A%20i32%20%3D%200%3B%20X%20%7D%3B%0A%2F%2F%20or%20even%3A%0Aconst%20FOO2%3A%20i32%20%3D%20%7B%200%20%7D%3B%20%2F%2F%20but%20brackets%20are%20useless%20here%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0015" class="section-header"><a href="#E0015">E0015</a></h2>
<p>A constant item was initialized with something that is not a constant
expression.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">create_some</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span> {
    <span class="prelude-val">Some</span>(<span class="number">1</span>)
}

<span class="kw">const</span> <span class="ident">FOO</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">create_some</span>(); <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20create_some()%20-%3E%20Option%3Cu8%3E%20%7B%0A%20%20%20%20Some(1)%0A%7D%0A%0Aconst%20FOO%3A%20Option%3Cu8%3E%20%3D%20create_some()%3B%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>The only functions that can be called in static or constant expressions are
<code>const</code> functions, and struct/enum constructors.</p>
<p>To fix this error, you can declare <code>create_some</code> as a constant function:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">const</span> <span class="kw">fn</span> <span class="ident">create_some</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span> { <span class="comment">// declared as a const function</span>
    <span class="prelude-val">Some</span>(<span class="number">1</span>)
}

<span class="kw">const</span> <span class="ident">FOO</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">create_some</span>(); <span class="comment">// ok!</span>

<span class="comment">// These are also working:</span>
<span class="kw">struct</span> <span class="ident">Bar</span> {
    <span class="ident">x</span>: <span class="ident">u8</span>,
}

<span class="kw">const</span> <span class="ident">OTHER_FOO</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span> <span class="op">=</span> <span class="prelude-val">Some</span>(<span class="number">1</span>);
<span class="kw">const</span> <span class="ident">BAR</span>: <span class="ident">Bar</span> <span class="op">=</span> <span class="ident">Bar</span> {<span class="ident">x</span>: <span class="number">1</span>};</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aconst%20fn%20create_some()%20-%3E%20Option%3Cu8%3E%20%7B%20%2F%2F%20declared%20as%20a%20const%20function%0A%20%20%20%20Some(1)%0A%7D%0A%0Aconst%20FOO%3A%20Option%3Cu8%3E%20%3D%20create_some()%3B%20%2F%2F%20ok!%0A%0A%2F%2F%20These%20are%20also%20working%3A%0Astruct%20Bar%20%7B%0A%20%20%20%20x%3A%20u8%2C%0A%7D%0A%0Aconst%20OTHER_FOO%3A%20Option%3Cu8%3E%20%3D%20Some(1)%3B%0Aconst%20BAR%3A%20Bar%20%3D%20Bar%20%7Bx%3A%201%7D%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0023" class="section-header"><a href="#E0023">E0023</a></h2>
<p>A pattern attempted to extract an incorrect number of fields from a variant.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">Fruit</span> {
    <span class="ident">Apple</span>(<span class="ident">String</span>, <span class="ident">String</span>),
    <span class="ident">Pear</span>(<span class="ident">u32</span>),
}

<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Fruit</span>::<span class="ident">Apple</span>(<span class="ident">String</span>::<span class="ident">new</span>(), <span class="ident">String</span>::<span class="ident">new</span>());

<span class="kw">match</span> <span class="ident">x</span> {
    <span class="ident">Fruit</span>::<span class="ident">Apple</span>(<span class="ident">a</span>) <span class="op">=</span><span class="op">&gt;</span> {}, <span class="comment">// error!</span>
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Fruit%20%7B%0A%20%20%20%20Apple(String%2C%20String)%2C%0A%20%20%20%20Pear(u32)%2C%0A%7D%0A%0Alet%20x%20%3D%20Fruit%3A%3AApple(String%3A%3Anew()%2C%20String%3A%3Anew())%3B%0A%0Amatch%20x%20%7B%0A%20%20%20%20Fruit%3A%3AApple(a)%20%3D%3E%20%7B%7D%2C%20%2F%2F%20error!%0A%20%20%20%20_%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>A pattern used to match against an enum variant must provide a sub-pattern for
each field of the enum variant.</p>
<p>Here the <code>Apple</code> variant has two fields, and should be matched against like so:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">Fruit</span> {
    <span class="ident">Apple</span>(<span class="ident">String</span>, <span class="ident">String</span>),
    <span class="ident">Pear</span>(<span class="ident">u32</span>),
}

<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Fruit</span>::<span class="ident">Apple</span>(<span class="ident">String</span>::<span class="ident">new</span>(), <span class="ident">String</span>::<span class="ident">new</span>());

<span class="comment">// Correct.</span>
<span class="kw">match</span> <span class="ident">x</span> {
    <span class="ident">Fruit</span>::<span class="ident">Apple</span>(<span class="ident">a</span>, <span class="ident">b</span>) <span class="op">=</span><span class="op">&gt;</span> {},
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Fruit%20%7B%0A%20%20%20%20Apple(String%2C%20String)%2C%0A%20%20%20%20Pear(u32)%2C%0A%7D%0A%0Alet%20x%20%3D%20Fruit%3A%3AApple(String%3A%3Anew()%2C%20String%3A%3Anew())%3B%0A%0A%2F%2F%20Correct.%0Amatch%20x%20%7B%0A%20%20%20%20Fruit%3A%3AApple(a%2C%20b)%20%3D%3E%20%7B%7D%2C%0A%20%20%20%20_%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Matching with the wrong number of fields has no sensible interpretation:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">Fruit</span> {
    <span class="ident">Apple</span>(<span class="ident">String</span>, <span class="ident">String</span>),
    <span class="ident">Pear</span>(<span class="ident">u32</span>),
}

<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Fruit</span>::<span class="ident">Apple</span>(<span class="ident">String</span>::<span class="ident">new</span>(), <span class="ident">String</span>::<span class="ident">new</span>());

<span class="comment">// Incorrect.</span>
<span class="kw">match</span> <span class="ident">x</span> {
    <span class="ident">Fruit</span>::<span class="ident">Apple</span>(<span class="ident">a</span>) <span class="op">=</span><span class="op">&gt;</span> {},
    <span class="ident">Fruit</span>::<span class="ident">Apple</span>(<span class="ident">a</span>, <span class="ident">b</span>, <span class="ident">c</span>) <span class="op">=</span><span class="op">&gt;</span> {},
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Fruit%20%7B%0A%20%20%20%20Apple(String%2C%20String)%2C%0A%20%20%20%20Pear(u32)%2C%0A%7D%0A%0Alet%20x%20%3D%20Fruit%3A%3AApple(String%3A%3Anew()%2C%20String%3A%3Anew())%3B%0A%0A%2F%2F%20Incorrect.%0Amatch%20x%20%7B%0A%20%20%20%20Fruit%3A%3AApple(a)%20%3D%3E%20%7B%7D%2C%0A%20%20%20%20Fruit%3A%3AApple(a%2C%20b%2C%20c)%20%3D%3E%20%7B%7D%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Check how many fields the enum was declared with and ensure that your pattern
uses the same number.</p>
</div>
<div class="error-described"><h2 id="E0025" class="section-header"><a href="#E0025">E0025</a></h2>
<p>Each field of a struct can only be bound once in a pattern.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">a</span>: <span class="ident">u8</span>,
    <span class="ident">b</span>: <span class="ident">u8</span>,
}

<span class="kw">fn</span> <span class="ident">main</span>(){
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">a</span>:<span class="number">1</span>, <span class="ident">b</span>:<span class="number">2</span> };

    <span class="kw">let</span> <span class="ident">Foo</span> { <span class="ident">a</span>: <span class="ident">x</span>, <span class="ident">a</span>: <span class="ident">y</span> } <span class="op">=</span> <span class="ident">x</span>;
    <span class="comment">// error: field `a` bound multiple times in the pattern</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Foo%20%7B%0A%20%20%20%20a%3A%20u8%2C%0A%20%20%20%20b%3A%20u8%2C%0A%7D%0A%0Afn%20main()%7B%0A%20%20%20%20let%20x%20%3D%20Foo%20%7B%20a%3A1%2C%20b%3A2%20%7D%3B%0A%0A%20%20%20%20let%20Foo%20%7B%20a%3A%20x%2C%20a%3A%20y%20%7D%20%3D%20x%3B%0A%20%20%20%20%2F%2F%20error%3A%20field%20%60a%60%20bound%20multiple%20times%20in%20the%20pattern%0A%7D&amp;edition=2015">Run</a></div>
<p>Each occurrence of a field name binds the value of that field, so to fix this
error you will have to remove or alter the duplicate uses of the field name.
Perhaps you misspelled another field name? Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">a</span>: <span class="ident">u8</span>,
    <span class="ident">b</span>: <span class="ident">u8</span>,
}

<span class="kw">fn</span> <span class="ident">main</span>(){
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">a</span>:<span class="number">1</span>, <span class="ident">b</span>:<span class="number">2</span> };

    <span class="kw">let</span> <span class="ident">Foo</span> { <span class="ident">a</span>: <span class="ident">x</span>, <span class="ident">b</span>: <span class="ident">y</span> } <span class="op">=</span> <span class="ident">x</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Foo%20%7B%0A%20%20%20%20a%3A%20u8%2C%0A%20%20%20%20b%3A%20u8%2C%0A%7D%0A%0Afn%20main()%7B%0A%20%20%20%20let%20x%20%3D%20Foo%20%7B%20a%3A1%2C%20b%3A2%20%7D%3B%0A%0A%20%20%20%20let%20Foo%20%7B%20a%3A%20x%2C%20b%3A%20y%20%7D%20%3D%20x%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0026" class="section-header"><a href="#E0026">E0026</a></h2>
<p>A struct pattern attempted to extract a non-existent field from a struct.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Thing</span> {
    <span class="ident">x</span>: <span class="ident">u32</span>,
    <span class="ident">y</span>: <span class="ident">u32</span>,
}

<span class="kw">let</span> <span class="ident">thing</span> <span class="op">=</span> <span class="ident">Thing</span> { <span class="ident">x</span>: <span class="number">0</span>, <span class="ident">y</span>: <span class="number">0</span> };

<span class="kw">match</span> <span class="ident">thing</span> {
    <span class="ident">Thing</span> { <span class="ident">x</span>, <span class="ident">z</span> } <span class="op">=</span><span class="op">&gt;</span> {} <span class="comment">// error: `Thing::z` field doesn&#39;t exist</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Thing%20%7B%0A%20%20%20%20x%3A%20u32%2C%0A%20%20%20%20y%3A%20u32%2C%0A%7D%0A%0Alet%20thing%20%3D%20Thing%20%7B%20x%3A%200%2C%20y%3A%200%20%7D%3B%0A%0Amatch%20thing%20%7B%0A%20%20%20%20Thing%20%7B%20x%2C%20z%20%7D%20%3D%3E%20%7B%7D%20%2F%2F%20error%3A%20%60Thing%3A%3Az%60%20field%20doesn't%20exist%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>If you are using shorthand field patterns but want to refer to the struct field
by a different name, you should rename it explicitly. Struct fields are
identified by the name used before the colon <code>:</code> so struct patterns should
resemble the declaration of the struct type being matched.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Thing</span> {
    <span class="ident">x</span>: <span class="ident">u32</span>,
    <span class="ident">y</span>: <span class="ident">u32</span>,
}

<span class="kw">let</span> <span class="ident">thing</span> <span class="op">=</span> <span class="ident">Thing</span> { <span class="ident">x</span>: <span class="number">0</span>, <span class="ident">y</span>: <span class="number">0</span> };

<span class="kw">match</span> <span class="ident">thing</span> {
    <span class="ident">Thing</span> { <span class="ident">x</span>, <span class="ident">y</span>: <span class="ident">z</span> } <span class="op">=</span><span class="op">&gt;</span> {} <span class="comment">// we renamed `y` to `z`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Thing%20%7B%0A%20%20%20%20x%3A%20u32%2C%0A%20%20%20%20y%3A%20u32%2C%0A%7D%0A%0Alet%20thing%20%3D%20Thing%20%7B%20x%3A%200%2C%20y%3A%200%20%7D%3B%0A%0Amatch%20thing%20%7B%0A%20%20%20%20Thing%20%7B%20x%2C%20y%3A%20z%20%7D%20%3D%3E%20%7B%7D%20%2F%2F%20we%20renamed%20%60y%60%20to%20%60z%60%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0027" class="section-header"><a href="#E0027">E0027</a></h2>
<p>A pattern for a struct fails to specify a sub-pattern for every one of the
struct’s fields.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Dog</span> {
    <span class="ident">name</span>: <span class="ident">String</span>,
    <span class="ident">age</span>: <span class="ident">u32</span>,
}

<span class="kw">let</span> <span class="ident">d</span> <span class="op">=</span> <span class="ident">Dog</span> { <span class="ident">name</span>: <span class="string">&quot;Rusty&quot;</span>.<span class="ident">to_string</span>(), <span class="ident">age</span>: <span class="number">8</span> };

<span class="comment">// This is incorrect.</span>
<span class="kw">match</span> <span class="ident">d</span> {
    <span class="ident">Dog</span> { <span class="ident">age</span>: <span class="ident">x</span> } <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Dog%20%7B%0A%20%20%20%20name%3A%20String%2C%0A%20%20%20%20age%3A%20u32%2C%0A%7D%0A%0Alet%20d%20%3D%20Dog%20%7B%20name%3A%20%22Rusty%22.to_string()%2C%20age%3A%208%20%7D%3B%0A%0A%2F%2F%20This%20is%20incorrect.%0Amatch%20d%20%7B%0A%20%20%20%20Dog%20%7B%20age%3A%20x%20%7D%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, ensure that each field from the struct’s definition is
mentioned in the pattern, or use <code>..</code> to ignore unwanted fields. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Dog</span> {
    <span class="ident">name</span>: <span class="ident">String</span>,
    <span class="ident">age</span>: <span class="ident">u32</span>,
}

<span class="kw">let</span> <span class="ident">d</span> <span class="op">=</span> <span class="ident">Dog</span> { <span class="ident">name</span>: <span class="string">&quot;Rusty&quot;</span>.<span class="ident">to_string</span>(), <span class="ident">age</span>: <span class="number">8</span> };

<span class="kw">match</span> <span class="ident">d</span> {
    <span class="ident">Dog</span> { <span class="ident">name</span>: <span class="kw-2">ref</span> <span class="ident">n</span>, <span class="ident">age</span>: <span class="ident">x</span> } <span class="op">=</span><span class="op">&gt;</span> {}
}

<span class="comment">// This is also correct (ignore unused fields).</span>
<span class="kw">match</span> <span class="ident">d</span> {
    <span class="ident">Dog</span> { <span class="ident">age</span>: <span class="ident">x</span>, .. } <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Dog%20%7B%0A%20%20%20%20name%3A%20String%2C%0A%20%20%20%20age%3A%20u32%2C%0A%7D%0A%0Alet%20d%20%3D%20Dog%20%7B%20name%3A%20%22Rusty%22.to_string()%2C%20age%3A%208%20%7D%3B%0A%0Amatch%20d%20%7B%0A%20%20%20%20Dog%20%7B%20name%3A%20ref%20n%2C%20age%3A%20x%20%7D%20%3D%3E%20%7B%7D%0A%7D%0A%0A%2F%2F%20This%20is%20also%20correct%20(ignore%20unused%20fields).%0Amatch%20d%20%7B%0A%20%20%20%20Dog%20%7B%20age%3A%20x%2C%20..%20%7D%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0029" class="section-header"><a href="#E0029">E0029</a></h2>
<p>Something other than numbers and characters has been used for a range.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">string</span> <span class="op">=</span> <span class="string">&quot;salutations !&quot;</span>;

<span class="comment">// The ordering relation for strings cannot be evaluated at compile time,</span>
<span class="comment">// so this doesn&#39;t work:</span>
<span class="kw">match</span> <span class="ident">string</span> {
    <span class="string">&quot;hello&quot;</span> ..<span class="op">=</span> <span class="string">&quot;world&quot;</span> <span class="op">=</span><span class="op">&gt;</span> {}
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> {}
}

<span class="comment">// This is a more general version, using a guard:</span>
<span class="kw">match</span> <span class="ident">string</span> {
    <span class="ident">s</span> <span class="kw">if</span> <span class="ident">s</span> <span class="op">&gt;</span><span class="op">=</span> <span class="string">&quot;hello&quot;</span> <span class="op">&amp;&amp;</span> <span class="ident">s</span> <span class="op">&lt;</span><span class="op">=</span> <span class="string">&quot;world&quot;</span> <span class="op">=</span><span class="op">&gt;</span> {}
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20string%20%3D%20%22salutations%20!%22%3B%0A%0A%2F%2F%20The%20ordering%20relation%20for%20strings%20cannot%20be%20evaluated%20at%20compile%20time%2C%0A%2F%2F%20so%20this%20doesn't%20work%3A%0Amatch%20string%20%7B%0A%20%20%20%20%22hello%22%20..%3D%20%22world%22%20%3D%3E%20%7B%7D%0A%20%20%20%20_%20%3D%3E%20%7B%7D%0A%7D%0A%0A%2F%2F%20This%20is%20a%20more%20general%20version%2C%20using%20a%20guard%3A%0Amatch%20string%20%7B%0A%20%20%20%20s%20if%20s%20%3E%3D%20%22hello%22%20%26%26%20s%20%3C%3D%20%22world%22%20%3D%3E%20%7B%7D%0A%20%20%20%20_%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In a match expression, only numbers and characters can be matched against a
range. This is because the compiler checks that the range is non-empty at
compile-time, and is unable to evaluate arbitrary comparison functions. If you
want to capture values of an orderable type between two end-points, you can use
a guard.</p>
</div>
<div class="error-described"><h2 id="E0030" class="section-header"><a href="#E0030">E0030</a></h2>
<p>When matching against a range, the compiler verifies that the range is
non-empty. Range patterns include both end-points, so this is equivalent to
requiring the start of the range to be less than or equal to the end of the
range.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">match</span> <span class="number">5u32</span> {
    <span class="comment">// This range is ok, albeit pointless.</span>
    <span class="number">1</span> ..<span class="op">=</span> <span class="number">1</span> <span class="op">=</span><span class="op">&gt;</span> {}
    <span class="comment">// This range is empty, and the compiler can tell.</span>
    <span class="number">1000</span> ..<span class="op">=</span> <span class="number">5</span> <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amatch%205u32%20%7B%0A%20%20%20%20%2F%2F%20This%20range%20is%20ok%2C%20albeit%20pointless.%0A%20%20%20%201%20..%3D%201%20%3D%3E%20%7B%7D%0A%20%20%20%20%2F%2F%20This%20range%20is%20empty%2C%20and%20the%20compiler%20can%20tell.%0A%20%20%20%201000%20..%3D%205%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0033" class="section-header"><a href="#E0033">E0033</a></h2>
<p>A trait type has been dereferenced.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">trait_obj</span>: <span class="kw-2">&amp;</span><span class="ident">SomeTrait</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="string">&quot;some_value&quot;</span>;

<span class="comment">// This tries to implicitly dereference to create an unsized local variable.</span>
<span class="kw">let</span> <span class="kw-2">&amp;</span><span class="ident">invalid</span> <span class="op">=</span> <span class="ident">trait_obj</span>;

<span class="comment">// You can call methods without binding to the value being pointed at.</span>
<span class="ident">trait_obj</span>.<span class="ident">method_one</span>();
<span class="ident">trait_obj</span>.<span class="ident">method_two</span>();</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20SomeTrait%20%7B%20fn%20method_one(%26self)%7B%7D%20fn%20method_two(%26self)%7B%7D%20%7D%0Aimpl%3CT%3E%20SomeTrait%20for%20T%20%7B%7D%0Alet%20trait_obj%3A%20%26SomeTrait%20%3D%20%26%22some_value%22%3B%0A%0A%2F%2F%20This%20tries%20to%20implicitly%20dereference%20to%20create%20an%20unsized%20local%20variable.%0Alet%20%26invalid%20%3D%20trait_obj%3B%0A%0A%2F%2F%20You%20can%20call%20methods%20without%20binding%20to%20the%20value%20being%20pointed%20at.%0Atrait_obj.method_one()%3B%0Atrait_obj.method_two()%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>A pointer to a trait type cannot be implicitly dereferenced by a pattern. Every
trait defines a type, but because the size of trait implementers isn’t fixed,
this type has no compile-time size. Therefore, all accesses to trait types must
be through pointers. If you encounter this error you should try to avoid
dereferencing the pointer.</p>
<p>You can read more about trait objects in the <a href="https://doc.rust-lang.org/reference/types.html#trait-objects">Trait Objects</a> section of the
Reference.</p>
</div>
<div class="error-described"><h2 id="E0034" class="section-header"><a href="#E0034">E0034</a></h2>
<p>The compiler doesn’t know what method to call because more than one method
has the same prototype.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Test</span>;

<span class="kw">trait</span> <span class="ident">Trait1</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>();
}

<span class="kw">trait</span> <span class="ident">Trait2</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>();
}

<span class="kw">impl</span> <span class="ident">Trait1</span> <span class="kw">for</span> <span class="ident">Test</span> { <span class="kw">fn</span> <span class="ident">foo</span>() {} }
<span class="kw">impl</span> <span class="ident">Trait2</span> <span class="kw">for</span> <span class="ident">Test</span> { <span class="kw">fn</span> <span class="ident">foo</span>() {} }

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">Test</span>::<span class="ident">foo</span>() <span class="comment">// error, which foo() to call?</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Test%3B%0A%0Atrait%20Trait1%20%7B%0A%20%20%20%20fn%20foo()%3B%0A%7D%0A%0Atrait%20Trait2%20%7B%0A%20%20%20%20fn%20foo()%3B%0A%7D%0A%0Aimpl%20Trait1%20for%20Test%20%7B%20fn%20foo()%20%7B%7D%20%7D%0Aimpl%20Trait2%20for%20Test%20%7B%20fn%20foo()%20%7B%7D%20%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20Test%3A%3Afoo()%20%2F%2F%20error%2C%20which%20foo()%20to%20call%3F%0A%7D&amp;edition=2015">Run</a></div>
<p>To avoid this error, you have to keep only one of them and remove the others.
So let’s take our example and fix it:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Test</span>;

<span class="kw">trait</span> <span class="ident">Trait1</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>();
}

<span class="kw">impl</span> <span class="ident">Trait1</span> <span class="kw">for</span> <span class="ident">Test</span> { <span class="kw">fn</span> <span class="ident">foo</span>() {} }

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">Test</span>::<span class="ident">foo</span>() <span class="comment">// and now that&#39;s good!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Test%3B%0A%0Atrait%20Trait1%20%7B%0A%20%20%20%20fn%20foo()%3B%0A%7D%0A%0Aimpl%20Trait1%20for%20Test%20%7B%20fn%20foo()%20%7B%7D%20%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20Test%3A%3Afoo()%20%2F%2F%20and%20now%20that's%20good!%0A%7D&amp;edition=2015">Run</a></div>
<p>However, a better solution would be using fully explicit naming of type and
trait:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Test</span>;

<span class="kw">trait</span> <span class="ident">Trait1</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>();
}

<span class="kw">trait</span> <span class="ident">Trait2</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>();
}

<span class="kw">impl</span> <span class="ident">Trait1</span> <span class="kw">for</span> <span class="ident">Test</span> { <span class="kw">fn</span> <span class="ident">foo</span>() {} }
<span class="kw">impl</span> <span class="ident">Trait2</span> <span class="kw">for</span> <span class="ident">Test</span> { <span class="kw">fn</span> <span class="ident">foo</span>() {} }

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="op">&lt;</span><span class="ident">Test</span> <span class="kw">as</span> <span class="ident">Trait1</span><span class="op">&gt;</span>::<span class="ident">foo</span>()
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Test%3B%0A%0Atrait%20Trait1%20%7B%0A%20%20%20%20fn%20foo()%3B%0A%7D%0A%0Atrait%20Trait2%20%7B%0A%20%20%20%20fn%20foo()%3B%0A%7D%0A%0Aimpl%20Trait1%20for%20Test%20%7B%20fn%20foo()%20%7B%7D%20%7D%0Aimpl%20Trait2%20for%20Test%20%7B%20fn%20foo()%20%7B%7D%20%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20%3CTest%20as%20Trait1%3E%3A%3Afoo()%0A%7D&amp;edition=2015">Run</a></div>
<p>One last example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">F</span> {
    <span class="kw">fn</span> <span class="ident">m</span>(<span class="kw-2">&amp;</span><span class="self">self</span>);
}

<span class="kw">trait</span> <span class="ident">G</span> {
    <span class="kw">fn</span> <span class="ident">m</span>(<span class="kw-2">&amp;</span><span class="self">self</span>);
}

<span class="kw">struct</span> <span class="ident">X</span>;

<span class="kw">impl</span> <span class="ident">F</span> <span class="kw">for</span> <span class="ident">X</span> { <span class="kw">fn</span> <span class="ident">m</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) { <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;I am F&quot;</span>); } }
<span class="kw">impl</span> <span class="ident">G</span> <span class="kw">for</span> <span class="ident">X</span> { <span class="kw">fn</span> <span class="ident">m</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) { <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;I am G&quot;</span>); } }

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">f</span> <span class="op">=</span> <span class="ident">X</span>;

    <span class="ident">F</span>::<span class="ident">m</span>(<span class="kw-2">&amp;</span><span class="ident">f</span>); <span class="comment">// it displays &quot;I am F&quot;</span>
    <span class="ident">G</span>::<span class="ident">m</span>(<span class="kw-2">&amp;</span><span class="ident">f</span>); <span class="comment">// it displays &quot;I am G&quot;</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Atrait%20F%20%7B%0A%20%20%20%20fn%20m(%26self)%3B%0A%7D%0A%0Atrait%20G%20%7B%0A%20%20%20%20fn%20m(%26self)%3B%0A%7D%0A%0Astruct%20X%3B%0A%0Aimpl%20F%20for%20X%20%7B%20fn%20m(%26self)%20%7B%20println!(%22I%20am%20F%22)%3B%20%7D%20%7D%0Aimpl%20G%20for%20X%20%7B%20fn%20m(%26self)%20%7B%20println!(%22I%20am%20G%22)%3B%20%7D%20%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20f%20%3D%20X%3B%0A%0A%20%20%20%20F%3A%3Am(%26f)%3B%20%2F%2F%20it%20displays%20%22I%20am%20F%22%0A%20%20%20%20G%3A%3Am(%26f)%3B%20%2F%2F%20it%20displays%20%22I%20am%20G%22%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0038" class="section-header"><a href="#E0038">E0038</a></h2>
<p>Trait objects like <code>Box&lt;Trait&gt;</code> can only be constructed when certain
requirements are satisfied by the trait in question.</p>
<p>Trait objects are a form of dynamic dispatch and use a dynamically sized type
for the inner type. So, for a given trait <code>Trait</code>, when <code>Trait</code> is treated as a
type, as in <code>Box&lt;Trait&gt;</code>, the inner type is ‘unsized’. In such cases the boxed
pointer is a ‘fat pointer’ that contains an extra pointer to a table of methods
(among other things) for dynamic dispatch. This design mandates some
restrictions on the types of traits that are allowed to be used in trait
objects, which are collectively termed as ‘object safety’ rules.</p>
<p>Attempting to create a trait object for a non object-safe trait will trigger
this error.</p>
<p>There are various rules:</p>
<h3 id="the-trait-cannot-require-self-sized" class="section-header"><a href="#the-trait-cannot-require-self-sized">The trait cannot require <code>Self: Sized</code></a></h3>
<p>When <code>Trait</code> is treated as a type, the type does not implement the special
<code>Sized</code> trait, because the type does not have a known size at compile time and
can only be accessed behind a pointer. Thus, if we have a trait like the
following:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> <span class="kw">where</span> <span class="self">Self</span>: <span class="ident">Sized</span> {

}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20where%20Self%3A%20Sized%20%7B%0A%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>We cannot create an object of type <code>Box&lt;Foo&gt;</code> or <code>&amp;Foo</code> since in this case
<code>Self</code> would not be <code>Sized</code>.</p>
<p>Generally, <code>Self: Sized</code> is used to indicate that the trait should not be used
as a trait object. If the trait comes from your own crate, consider removing
this restriction.</p>
<h3 id="method-references-the-self-type-in-its-parameters-or-return-type" class="section-header"><a href="#method-references-the-self-type-in-its-parameters-or-return-type">Method references the <code>Self</code> type in its parameters or return type</a></h3>
<p>This happens when a trait has a method like the following:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Trait</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span>;
}

<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">String</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span> {
        <span class="string">&quot;hi&quot;</span>.<span class="ident">to_owned</span>()
    }
}

<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">u8</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span> {
        <span class="number">1</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%0A%20%20%20%20fn%20foo(%26self)%20-%3E%20Self%3B%0A%7D%0A%0Aimpl%20Trait%20for%20String%20%7B%0A%20%20%20%20fn%20foo(%26self)%20-%3E%20Self%20%7B%0A%20%20%20%20%20%20%20%20%22hi%22.to_owned()%0A%20%20%20%20%7D%0A%7D%0A%0Aimpl%20Trait%20for%20u8%20%7B%0A%20%20%20%20fn%20foo(%26self)%20-%3E%20Self%20%7B%0A%20%20%20%20%20%20%20%201%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>(Note that <code>&amp;self</code> and <code>&amp;mut self</code> are okay, it’s additional <code>Self</code> types which
cause this problem.)</p>
<p>In such a case, the compiler cannot predict the return type of <code>foo()</code> in a
situation like the following:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Trait</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span>;
}

<span class="kw">fn</span> <span class="ident">call_foo</span>(<span class="ident">x</span>: <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">Trait</span><span class="op">&gt;</span>) {
    <span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="ident">x</span>.<span class="ident">foo</span>(); <span class="comment">// What type is y?</span>
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%0A%20%20%20%20fn%20foo(%26self)%20-%3E%20Self%3B%0A%7D%0A%0Afn%20call_foo(x%3A%20Box%3CTrait%3E)%20%7B%0A%20%20%20%20let%20y%20%3D%20x.foo()%3B%20%2F%2F%20What%20type%20is%20y%3F%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>If only some methods aren’t object-safe, you can add a <code>where Self: Sized</code> bound
on them to mark them as explicitly unavailable to trait objects. The
functionality will still be available to all other implementers, including
<code>Box&lt;Trait&gt;</code> which is itself sized (assuming you <code>impl Trait for Box&lt;Trait&gt;</code>).</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Trait</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span> <span class="kw">where</span> <span class="self">Self</span>: <span class="ident">Sized</span>;
    <span class="comment">// more functions</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%0A%20%20%20%20fn%20foo(%26self)%20-%3E%20Self%20where%20Self%3A%20Sized%3B%0A%20%20%20%20%2F%2F%20more%20functions%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Now, <code>foo()</code> can no longer be called on a trait object, but you will now be
allowed to make a trait object, and that will be able to call any object-safe
methods. With such a bound, one can still call <code>foo()</code> on types implementing
that trait that aren’t behind trait objects.</p>
<h3 id="method-has-generic-type-parameters" class="section-header"><a href="#method-has-generic-type-parameters">Method has generic type parameters</a></h3>
<p>As mentioned before, trait objects contain pointers to method tables. So, if we
have:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Trait</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>);
}

<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">String</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {
        <span class="comment">// implementation 1</span>
    }
}

<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">u8</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {
        <span class="comment">// implementation 2</span>
    }
}
<span class="comment">// ...</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%0A%20%20%20%20fn%20foo(%26self)%3B%0A%7D%0A%0Aimpl%20Trait%20for%20String%20%7B%0A%20%20%20%20fn%20foo(%26self)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20implementation%201%0A%20%20%20%20%7D%0A%7D%0A%0Aimpl%20Trait%20for%20u8%20%7B%0A%20%20%20%20fn%20foo(%26self)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20implementation%202%0A%20%20%20%20%7D%0A%7D%0A%2F%2F%20...%0A%7D&amp;edition=2015">Run</a></div>
<p>At compile time each implementation of <code>Trait</code> will produce a table containing
the various methods (and other items) related to the implementation.</p>
<p>This works fine, but when the method gains generic parameters, we can have a
problem.</p>
<p>Usually, generic parameters get <em>monomorphized</em>. For example, if I have</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>) {
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3CT%3E(x%3A%20T)%20%7B%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The machine code for <code>foo::&lt;u8&gt;()</code>, <code>foo::&lt;bool&gt;()</code>, <code>foo::&lt;String&gt;()</code>, or any
other type substitution is different. Hence the compiler generates the
implementation on-demand. If you call <code>foo()</code> with a <code>bool</code> parameter, the
compiler will only generate code for <code>foo::&lt;bool&gt;()</code>. When we have additional
type parameters, the number of monomorphized implementations the compiler
generates does not grow drastically, since the compiler will only generate an
implementation if the function is called with unparametrized substitutions
(i.e., substitutions where none of the substituted types are themselves
parameterized).</p>
<p>However, with trait objects we have to make a table containing <em>every</em> object
that implements the trait. Now, if it has type parameters, we need to add
implementations for every type that implements the trait, and there could
theoretically be an infinite number of types.</p>
<p>For example, with:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Trait</span> {
    <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">on</span>: <span class="ident">T</span>);
    <span class="comment">// more methods</span>
}

<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">String</span> {
    <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">on</span>: <span class="ident">T</span>) {
        <span class="comment">// implementation 1</span>
    }
}

<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">u8</span> {
    <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">on</span>: <span class="ident">T</span>) {
        <span class="comment">// implementation 2</span>
    }
}

<span class="comment">// 8 more implementations</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%0A%20%20%20%20fn%20foo%3CT%3E(%26self%2C%20on%3A%20T)%3B%0A%20%20%20%20%2F%2F%20more%20methods%0A%7D%0A%0Aimpl%20Trait%20for%20String%20%7B%0A%20%20%20%20fn%20foo%3CT%3E(%26self%2C%20on%3A%20T)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20implementation%201%0A%20%20%20%20%7D%0A%7D%0A%0Aimpl%20Trait%20for%20u8%20%7B%0A%20%20%20%20fn%20foo%3CT%3E(%26self%2C%20on%3A%20T)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20implementation%202%0A%20%20%20%20%7D%0A%7D%0A%0A%2F%2F%208%20more%20implementations%0A%7D&amp;edition=2015">Run</a></div>
<p>Now, if we have the following code:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">call_foo</span>(<span class="ident">thing</span>: <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">Trait</span><span class="op">&gt;</span>) {
    <span class="ident">thing</span>.<span class="ident">foo</span>(<span class="bool-val">true</span>); <span class="comment">// this could be any one of the 8 types above</span>
    <span class="ident">thing</span>.<span class="ident">foo</span>(<span class="number">1</span>);
    <span class="ident">thing</span>.<span class="ident">foo</span>(<span class="string">&quot;hello&quot;</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%20fn%20foo%3CT%3E(%26self%2C%20on%3A%20T)%3B%20%7D%0Aimpl%20Trait%20for%20String%20%7B%20fn%20foo%3CT%3E(%26self%2C%20on%3A%20T)%20%7B%7D%20%7D%0Aimpl%20Trait%20for%20u8%20%7B%20fn%20foo%3CT%3E(%26self%2C%20on%3A%20T)%20%7B%7D%20%7D%0Aimpl%20Trait%20for%20bool%20%7B%20fn%20foo%3CT%3E(%26self%2C%20on%3A%20T)%20%7B%7D%20%7D%0A%2F%2F%20etc.%0Afn%20call_foo(thing%3A%20Box%3CTrait%3E)%20%7B%0A%20%20%20%20thing.foo(true)%3B%20%2F%2F%20this%20could%20be%20any%20one%20of%20the%208%20types%20above%0A%20%20%20%20thing.foo(1)%3B%0A%20%20%20%20thing.foo(%22hello%22)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>We don’t just need to create a table of all implementations of all methods of
<code>Trait</code>, we need to create such a table, for each different type fed to
<code>foo()</code>. In this case this turns out to be (10 types implementing <code>Trait</code>)*(3
types being fed to <code>foo()</code>) = 30 implementations!</p>
<p>With real world traits these numbers can grow drastically.</p>
<p>To fix this, it is suggested to use a <code>where Self: Sized</code> bound similar to the
fix for the sub-error above if you do not intend to call the method with type
parameters:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Trait</span> {
    <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">on</span>: <span class="ident">T</span>) <span class="kw">where</span> <span class="self">Self</span>: <span class="ident">Sized</span>;
    <span class="comment">// more methods</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%0A%20%20%20%20fn%20foo%3CT%3E(%26self%2C%20on%3A%20T)%20where%20Self%3A%20Sized%3B%0A%20%20%20%20%2F%2F%20more%20methods%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>If this is not an option, consider replacing the type parameter with another
trait object (e.g., if <code>T: OtherTrait</code>, use <code>on: Box&lt;OtherTrait&gt;</code>). If the
number of types you intend to feed to this method is limited, consider manually
listing out the methods of different types.</p>
<h3 id="method-has-no-receiver" class="section-header"><a href="#method-has-no-receiver">Method has no receiver</a></h3>
<p>Methods that do not take a <code>self</code> parameter can’t be called since there won’t be
a way to get a pointer to the method table for them.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u8</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo()%20-%3E%20u8%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This could be called as <code>&lt;Foo as Foo&gt;::foo()</code>, which would not be able to pick
an implementation.</p>
<p>Adding a <code>Self: Sized</code> bound to these methods will generally make this compile.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u8</span> <span class="kw">where</span> <span class="self">Self</span>: <span class="ident">Sized</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo()%20-%3E%20u8%20where%20Self%3A%20Sized%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<h3 id="the-trait-cannot-contain-associated-constants" class="section-header"><a href="#the-trait-cannot-contain-associated-constants">The trait cannot contain associated constants</a></h3>
<p>Just like static functions, associated constants aren’t stored on the method
table. If the trait or any subtrait contain an associated constant, they cannot
be made into an object.</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">const</span> <span class="ident">X</span>: <span class="ident">i32</span>;
}

<span class="kw">impl</span> <span class="ident">Foo</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20const%20X%3A%20i32%3B%0A%7D%0A%0Aimpl%20Foo%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>A simple workaround is to use a helper method instead:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">x</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i32</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20x(%26self)%20-%3E%20i32%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<h3 id="the-trait-cannot-use-self-as-a-type-parameter-in-the-supertrait-listing" class="section-header"><a href="#the-trait-cannot-use-self-as-a-type-parameter-in-the-supertrait-listing">The trait cannot use <code>Self</code> as a type parameter in the supertrait listing</a></h3>
<p>This is similar to the second sub-error, but subtler. It happens in situations
like the following:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Super</span><span class="op">&lt;</span><span class="ident">A</span>: <span class="question-mark">?</span><span class="ident">Sized</span><span class="op">&gt;</span> {}

<span class="kw">trait</span> <span class="ident">Trait</span>: <span class="ident">Super</span><span class="op">&lt;</span><span class="self">Self</span><span class="op">&gt;</span> {
}

<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="ident">Super</span><span class="op">&lt;</span><span class="ident">Foo</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Foo</span>{}

<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">Foo</span> {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span>: <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">dyn</span> <span class="ident">Trait</span><span class="op">&gt;</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Atrait%20Super%3CA%3A%20%3FSized%3E%20%7B%7D%0A%0Atrait%20Trait%3A%20Super%3CSelf%3E%20%7B%0A%7D%0A%0Astruct%20Foo%3B%0A%0Aimpl%20Super%3CFoo%3E%20for%20Foo%7B%7D%0A%0Aimpl%20Trait%20for%20Foo%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%3A%20Box%3Cdyn%20Trait%3E%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, the supertrait might have methods as follows:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Super</span><span class="op">&lt;</span><span class="ident">A</span>: <span class="question-mark">?</span><span class="ident">Sized</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">get_a</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="ident">A</span>; <span class="comment">// note that this is object safe!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Super%3CA%3A%20%3FSized%3E%20%7B%0A%20%20%20%20fn%20get_a(%26self)%20-%3E%20%26A%3B%20%2F%2F%20note%20that%20this%20is%20object%20safe!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>If the trait <code>Trait</code> was deriving from something like <code>Super&lt;String&gt;</code> or
<code>Super&lt;T&gt;</code> (where <code>Foo</code> itself is <code>Foo&lt;T&gt;</code>), this is okay, because given a type
<code>get_a()</code> will definitely return an object of that type.</p>
<p>However, if it derives from <code>Super&lt;Self&gt;</code>, even though <code>Super</code> is object safe,
the method <code>get_a()</code> would return an object of unknown type when called on the
function. <code>Self</code> type parameters let us make object safe traits no longer safe,
so they are forbidden when specifying supertraits.</p>
<p>There’s no easy fix for this. Generally, code will need to be refactored so that
you no longer need to derive from <code>Super&lt;Self&gt;</code>.</p>
</div>
<div class="error-described"><h2 id="E0040" class="section-header"><a href="#E0040">E0040</a></h2>
<p>It is not allowed to manually call destructors in Rust.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">x</span>: <span class="ident">i32</span>,
}

<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) {
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;kaboom&quot;</span>);
    }
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="op">-</span><span class="number">7</span> };
    <span class="ident">x</span>.<span class="ident">drop</span>(); <span class="comment">// error: explicit use of destructor method</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Foo%20%7B%0A%20%20%20%20x%3A%20i32%2C%0A%7D%0A%0Aimpl%20Drop%20for%20Foo%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%0A%20%20%20%20%20%20%20%20println!(%22kaboom%22)%3B%0A%20%20%20%20%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20x%20%3D%20Foo%20%7B%20x%3A%20-7%20%7D%3B%0A%20%20%20%20x.drop()%3B%20%2F%2F%20error%3A%20explicit%20use%20of%20destructor%20method%0A%7D&amp;edition=2015">Run</a></div>
<p>It is unnecessary to do this since <code>drop</code> is called automatically whenever a
value goes out of scope. However, if you really need to drop a value by hand,
you can use the <code>std::mem::drop</code> function:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">x</span>: <span class="ident">i32</span>,
}
<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) {
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;kaboom&quot;</span>);
    }
}
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="op">-</span><span class="number">7</span> };
    <span class="ident">drop</span>(<span class="ident">x</span>); <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Foo%20%7B%0A%20%20%20%20x%3A%20i32%2C%0A%7D%0Aimpl%20Drop%20for%20Foo%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%0A%20%20%20%20%20%20%20%20println!(%22kaboom%22)%3B%0A%20%20%20%20%7D%0A%7D%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20x%20%3D%20Foo%20%7B%20x%3A%20-7%20%7D%3B%0A%20%20%20%20drop(x)%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0044" class="section-header"><a href="#E0044">E0044</a></h2>
<p>You cannot use type or const parameters on foreign items.</p>
<p>Example of erroneous code:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> { <span class="kw">fn</span> <span class="ident">some_func</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>); }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aextern%20%22C%22%20%7B%20fn%20some_func%3CT%3E(x%3A%20T)%3B%20%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this, replace the generic parameter with the specializations that you
need:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> { <span class="kw">fn</span> <span class="ident">some_func_i32</span>(<span class="ident">x</span>: <span class="ident">i32</span>); }
<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> { <span class="kw">fn</span> <span class="ident">some_func_i64</span>(<span class="ident">x</span>: <span class="ident">i64</span>); }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aextern%20%22C%22%20%7B%20fn%20some_func_i32(x%3A%20i32)%3B%20%7D%0Aextern%20%22C%22%20%7B%20fn%20some_func_i64(x%3A%20i64)%3B%20%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0045" class="section-header"><a href="#E0045">E0045</a></h2>
<p>Variadic parameters have been used on a non-C ABI function.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">unboxed_closures</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;rust-call&quot;</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="ident">u8</span>, ...); <span class="comment">// error!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(unboxed_closures)%5D%0A%0Afn%20main()%20%7B%0Aextern%20%22rust-call%22%20%7B%0A%20%20%20%20fn%20foo(x%3A%20u8%2C%20...)%3B%20%2F%2F%20error!%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Rust only supports variadic parameters for interoperability with C code in its
FFI. As such, variadic parameters can only be used with functions which are
using the C ABI. To fix such code, put them in an extern “C” block:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {
    <span class="kw">fn</span> <span class="ident">foo</span> (<span class="ident">x</span>: <span class="ident">u8</span>, ...);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aextern%20%22C%22%20%7B%0A%20%20%20%20fn%20foo%20(x%3A%20u8%2C%20...)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0046" class="section-header"><a href="#E0046">E0046</a></h2>
<p>Items are missing in a trait implementation.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>();
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {}
<span class="comment">// error: not all trait items implemented, missing: `foo`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo()%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%7D%0A%2F%2F%20error%3A%20not%20all%20trait%20items%20implemented%2C%20missing%3A%20%60foo%60%0A%7D&amp;edition=2015">Run</a></div>
<p>When trying to make some type implement a trait <code>Foo</code>, you must, at minimum,
provide implementations for all of <code>Foo</code>’s required methods (meaning the
methods that do not have default implementations), as well as any required
trait items like associated types or constants. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>();
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>() {} <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo()%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20fn%20foo()%20%7B%7D%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0049" class="section-header"><a href="#E0049">E0049</a></h2>
<p>An attempted implementation of a trait method has the wrong number of type or
const parameters.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Default</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span>;
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="comment">// error: method `foo` has 0 type parameters but its trait declaration has 1</span>
<span class="comment">// type parameter</span>
<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="ident">bool</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span> { <span class="ident">Bar</span> }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo%3CT%3A%20Default%3E(x%3A%20T)%20-%3E%20Self%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0A%2F%2F%20error%3A%20method%20%60foo%60%20has%200%20type%20parameters%20but%20its%20trait%20declaration%20has%201%0A%2F%2F%20type%20parameter%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20fn%20foo(x%3A%20bool)%20-%3E%20Self%20%7B%20Bar%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>For example, the <code>Foo</code> trait has a method <code>foo</code> with a type parameter <code>T</code>,
but the implementation of <code>foo</code> for the type <code>Bar</code> is missing this parameter.
To fix this error, they must have the same type parameters:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Default</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span>;
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Default</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span> { <span class="comment">// ok!</span>
        <span class="ident">Bar</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo%3CT%3A%20Default%3E(x%3A%20T)%20-%3E%20Self%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20fn%20foo%3CT%3A%20Default%3E(x%3A%20T)%20-%3E%20Self%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20Bar%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0050" class="section-header"><a href="#E0050">E0050</a></h2>
<p>An attempted implementation of a trait method has the wrong number of function
parameters.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">x</span>: <span class="ident">u8</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span>;
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="comment">// error: method `foo` has 1 parameter but the declaration in trait `Foo::foo`</span>
<span class="comment">// has 2</span>
<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span> { <span class="bool-val">true</span> }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo(%26self%2C%20x%3A%20u8)%20-%3E%20bool%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0A%2F%2F%20error%3A%20method%20%60foo%60%20has%201%20parameter%20but%20the%20declaration%20in%20trait%20%60Foo%3A%3Afoo%60%0A%2F%2F%20has%202%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20fn%20foo(%26self)%20-%3E%20bool%20%7B%20true%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>For example, the <code>Foo</code> trait has a method <code>foo</code> with two function parameters
(<code>&amp;self</code> and <code>u8</code>), but the implementation of <code>foo</code> for the type <code>Bar</code> omits
the <code>u8</code> parameter. To fix this error, they must have the same parameters:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">x</span>: <span class="ident">u8</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span>;
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">x</span>: <span class="ident">u8</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span> { <span class="comment">// ok!</span>
        <span class="bool-val">true</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo(%26self%2C%20x%3A%20u8)%20-%3E%20bool%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20fn%20foo(%26self%2C%20x%3A%20u8)%20-%3E%20bool%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20true%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0053" class="section-header"><a href="#E0053">E0053</a></h2>
<p>The parameters of any trait method must match between a trait implementation
and the trait definition.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="ident">u16</span>);
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>);
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="comment">// error, expected u16, found i16</span>
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="ident">i16</span>) { }

    <span class="comment">// error, types differ in mutability</span>
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) { }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo(x%3A%20u16)%3B%0A%20%20%20%20fn%20bar(%26self)%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20%2F%2F%20error%2C%20expected%20u16%2C%20found%20i16%0A%20%20%20%20fn%20foo(x%3A%20i16)%20%7B%20%7D%0A%0A%20%20%20%20%2F%2F%20error%2C%20types%20differ%20in%20mutability%0A%20%20%20%20fn%20bar(%26mut%20self)%20%7B%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0054" class="section-header"><a href="#E0054">E0054</a></h2>
<p>It is not allowed to cast to a bool.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">5</span>;

<span class="comment">// Not allowed, won&#39;t compile</span>
<span class="kw">let</span> <span class="ident">x_is_nonzero</span> <span class="op">=</span> <span class="ident">x</span> <span class="kw">as</span> <span class="ident">bool</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%205%3B%0A%0A%2F%2F%20Not%20allowed%2C%20won't%20compile%0Alet%20x_is_nonzero%20%3D%20x%20as%20bool%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>If you are trying to cast a numeric type to a bool, you can compare it with
zero instead:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">5</span>;

<span class="comment">// Ok</span>
<span class="kw">let</span> <span class="ident">x_is_nonzero</span> <span class="op">=</span> <span class="ident">x</span> <span class="op">!</span><span class="op">=</span> <span class="number">0</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%205%3B%0A%0A%2F%2F%20Ok%0Alet%20x_is_nonzero%20%3D%20x%20!%3D%200%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0055" class="section-header"><a href="#E0055">E0055</a></h2>
<p>During a method call, a value is automatically dereferenced as many times as
needed to make the value’s type match the method’s receiver. The catch is that
the compiler will only attempt to dereference a number of times up to the
recursion limit (which can be set via the <code>recursion_limit</code> attribute).</p>
<p>For a somewhat artificial example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">recursion_limit</span><span class="op">=</span><span class="string">&quot;4&quot;</span>]</span>

<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">foo</span> <span class="op">=</span> <span class="ident">Foo</span>;
    <span class="kw">let</span> <span class="ident">ref_foo</span> <span class="op">=</span> <span class="op">&amp;&amp;</span><span class="op">&amp;&amp;</span><span class="kw-2">&amp;</span><span class="ident">Foo</span>;

    <span class="comment">// error, reached the recursion limit while auto-dereferencing `&amp;&amp;&amp;&amp;&amp;Foo`</span>
    <span class="ident">ref_foo</span>.<span class="ident">foo</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Brecursion_limit%3D%224%22%5D%0A%0Astruct%20Foo%3B%0A%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20foo(%26self)%20%7B%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20foo%20%3D%20Foo%3B%0A%20%20%20%20let%20ref_foo%20%3D%20%26%26%26%26%26Foo%3B%0A%0A%20%20%20%20%2F%2F%20error%2C%20reached%20the%20recursion%20limit%20while%20auto-dereferencing%20%60%26%26%26%26%26Foo%60%0A%20%20%20%20ref_foo.foo()%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>One fix may be to increase the recursion limit. Note that it is possible to
create an infinite recursion of dereferencing, in which case the only fix is to
somehow break the recursion.</p>
</div>
<div class="error-described"><h2 id="E0057" class="section-header"><a href="#E0057">E0057</a></h2>
<p>An invalid number of arguments was given when calling a closure.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">f</span> <span class="op">=</span> <span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span> <span class="op">*</span> <span class="number">3</span>;
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="ident">f</span>();        <span class="comment">// invalid, too few parameters</span>
<span class="kw">let</span> <span class="ident">b</span> <span class="op">=</span> <span class="ident">f</span>(<span class="number">4</span>);       <span class="comment">// this works!</span>
<span class="kw">let</span> <span class="ident">c</span> <span class="op">=</span> <span class="ident">f</span>(<span class="number">2</span>, <span class="number">3</span>);    <span class="comment">// invalid, too many parameters</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20f%20%3D%20%7Cx%7C%20x%20*%203%3B%0Alet%20a%20%3D%20f()%3B%20%20%20%20%20%20%20%20%2F%2F%20invalid%2C%20too%20few%20parameters%0Alet%20b%20%3D%20f(4)%3B%20%20%20%20%20%20%20%2F%2F%20this%20works!%0Alet%20c%20%3D%20f(2%2C%203)%3B%20%20%20%20%2F%2F%20invalid%2C%20too%20many%20parameters%0A%7D&amp;edition=2015">Run</a></div>
<p>When invoking closures or other implementations of the function traits <code>Fn</code>,
<code>FnMut</code> or <code>FnOnce</code> using call notation, the number of parameters passed to the
function must match its definition.</p>
<p>A generic function must be treated similarly:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">F</span>: <span class="ident">Fn</span>()<span class="op">&gt;</span>(<span class="ident">f</span>: <span class="ident">F</span>) {
    <span class="ident">f</span>(); <span class="comment">// this is valid, but f(3) would not work</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3CF%3A%20Fn()%3E(f%3A%20F)%20%7B%0A%20%20%20%20f()%3B%20%2F%2F%20this%20is%20valid%2C%20but%20f(3)%20would%20not%20work%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0059" class="section-header"><a href="#E0059">E0059</a></h2>
<p>The built-in function traits are generic over a tuple of the function arguments.
If one uses angle-bracket notation (<code>Fn&lt;(T,), Output=U&gt;</code>) instead of parentheses
(<code>Fn(T) -&gt; U</code>) to denote the function trait, the type parameter should be a
tuple. Otherwise function call notation cannot be used and the trait will not be
implemented by closures.</p>
<p>The most likely source of this error is using angle-bracket notation without
wrapping the function argument type into a tuple, for example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">unboxed_closures</span>)]</span>

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">F</span>: <span class="ident">Fn</span><span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span><span class="op">&gt;</span>(<span class="ident">f</span>: <span class="ident">F</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">F</span>::<span class="ident">Output</span> { <span class="ident">f</span>(<span class="number">3</span>) }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(unboxed_closures)%5D%0A%0Afn%20main()%20%7B%0Afn%20foo%3CF%3A%20Fn%3Ci32%3E%3E(f%3A%20F)%20-%3E%20F%3A%3AOutput%20%7B%20f(3)%20%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>It can be fixed by adjusting the trait bound like this:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">unboxed_closures</span>)]</span>

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">F</span>: <span class="ident">Fn</span><span class="op">&lt;</span>(<span class="ident">i32</span>,)<span class="op">&gt;</span><span class="op">&gt;</span>(<span class="ident">f</span>: <span class="ident">F</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">F</span>::<span class="ident">Output</span> { <span class="ident">f</span>(<span class="number">3</span>) }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(unboxed_closures)%5D%0A%0Afn%20main()%20%7B%0Afn%20foo%3CF%3A%20Fn%3C(i32%2C)%3E%3E(f%3A%20F)%20-%3E%20F%3A%3AOutput%20%7B%20f(3)%20%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Note that <code>(T,)</code> always denotes the type of a 1-tuple containing an element of
type <code>T</code>. The comma is necessary for syntactic disambiguation.</p>
</div>
<div class="error-described"><h2 id="E0060" class="section-header"><a href="#E0060">E0060</a></h2>
<p>External C functions are allowed to be variadic. However, a variadic function
takes a minimum number of arguments. For example, consider C’s variadic <code>printf</code>
function:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">os</span>::<span class="ident">raw</span>::{<span class="ident">c_char</span>, <span class="ident">c_int</span>};

<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {
    <span class="kw">fn</span> <span class="ident">printf</span>(<span class="kw">_</span>: <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">c_char</span>, ...) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">c_int</span>;
}

<span class="kw">unsafe</span> { <span class="ident">printf</span>(); } <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aos%3A%3Araw%3A%3A%7Bc_char%2C%20c_int%7D%3B%0A%0Aextern%20%22C%22%20%7B%0A%20%20%20%20fn%20printf(_%3A%20*const%20c_char%2C%20...)%20-%3E%20c_int%3B%0A%7D%0A%0Aunsafe%20%7B%20printf()%3B%20%7D%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>Using this declaration, it must be called with at least one argument, so
simply calling <code>printf()</code> is invalid. But the following uses are allowed:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">unsafe</span> {
    <span class="kw">use</span> <span class="ident">std</span>::<span class="ident">ffi</span>::<span class="ident">CString</span>;

    <span class="kw">let</span> <span class="ident">fmt</span> <span class="op">=</span> <span class="ident">CString</span>::<span class="ident">new</span>(<span class="string">&quot;test\n&quot;</span>).<span class="ident">unwrap</span>();
    <span class="ident">printf</span>(<span class="ident">fmt</span>.<span class="ident">as_ptr</span>());

    <span class="kw">let</span> <span class="ident">fmt</span> <span class="op">=</span> <span class="ident">CString</span>::<span class="ident">new</span>(<span class="string">&quot;number = %d\n&quot;</span>).<span class="ident">unwrap</span>();
    <span class="ident">printf</span>(<span class="ident">fmt</span>.<span class="ident">as_ptr</span>(), <span class="number">3</span>);

    <span class="kw">let</span> <span class="ident">fmt</span> <span class="op">=</span> <span class="ident">CString</span>::<span class="ident">new</span>(<span class="string">&quot;%d, %d\n&quot;</span>).<span class="ident">unwrap</span>();
    <span class="ident">printf</span>(<span class="ident">fmt</span>.<span class="ident">as_ptr</span>(), <span class="number">10</span>, <span class="number">5</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(static_nobundle)%5D%0Ause%20std%3A%3Aos%3A%3Araw%3A%3A%7Bc_char%2C%20c_int%7D%3B%0A%23%5Bcfg_attr(all(windows%2C%20target_env%20%3D%20%22msvc%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20link(name%20%3D%20%22legacy_stdio_definitions%22%2C%20kind%20%3D%20%22static-nobundle%22))%5D%0Aextern%20%22C%22%20%7B%20fn%20printf(_%3A%20*const%20c_char%2C%20...)%20-%3E%20c_int%3B%20%7D%0Afn%20main()%20%7B%0Aunsafe%20%7B%0A%20%20%20%20use%20std%3A%3Affi%3A%3ACString%3B%0A%0A%20%20%20%20let%20fmt%20%3D%20CString%3A%3Anew(%22test%5Cn%22).unwrap()%3B%0A%20%20%20%20printf(fmt.as_ptr())%3B%0A%0A%20%20%20%20let%20fmt%20%3D%20CString%3A%3Anew(%22number%20%3D%20%25d%5Cn%22).unwrap()%3B%0A%20%20%20%20printf(fmt.as_ptr()%2C%203)%3B%0A%0A%20%20%20%20let%20fmt%20%3D%20CString%3A%3Anew(%22%25d%2C%20%25d%5Cn%22).unwrap()%3B%0A%20%20%20%20printf(fmt.as_ptr()%2C%2010%2C%205)%3B%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0061" class="section-header"><a href="#E0061">E0061</a></h2>
<p>An invalid number of arguments was passed when calling a function.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">f</span>(<span class="ident">u</span>: <span class="ident">i32</span>) {}

<span class="ident">f</span>(); <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20f(u%3A%20i32)%20%7B%7D%0A%0Af()%3B%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>The number of arguments passed to a function must match the number of arguments
specified in the function signature.</p>
<p>For example, a function like:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">f</span>(<span class="ident">a</span>: <span class="ident">u16</span>, <span class="ident">b</span>: <span class="kw-2">&amp;</span><span class="ident">str</span>) {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20f(a%3A%20u16%2C%20b%3A%20%26str)%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Must always be called with exactly two arguments, e.g., <code>f(2, &quot;test&quot;)</code>.</p>
<p>Note that Rust does not have a notion of optional function arguments or
variadic functions (except for its C-FFI).</p>
</div>
<div class="error-described"><h2 id="E0062" class="section-header"><a href="#E0062">E0062</a></h2>
<p>A struct’s or struct-like enum variant’s field was specified more than once.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">x</span>: <span class="ident">i32</span>,
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Foo</span> {
                <span class="ident">x</span>: <span class="number">0</span>,
                <span class="ident">x</span>: <span class="number">0</span>, <span class="comment">// error: field `x` specified more than once</span>
            };
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Foo%20%7B%0A%20%20%20%20x%3A%20i32%2C%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%20Foo%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3A%200%2C%20%2F%2F%20error%3A%20field%20%60x%60%20specified%20more%20than%20once%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>This error indicates that during an attempt to build a struct or struct-like
enum variant, one of the fields was specified more than once. Each field should
be specified exactly one time. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">x</span>: <span class="ident">i32</span>,
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="number">0</span> }; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Foo%20%7B%0A%20%20%20%20x%3A%20i32%2C%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%20Foo%20%7B%20x%3A%200%20%7D%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0063" class="section-header"><a href="#E0063">E0063</a></h2>
<p>A struct’s or struct-like enum variant’s field was not provided.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">x</span>: <span class="ident">i32</span>,
    <span class="ident">y</span>: <span class="ident">i32</span>,
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="number">0</span> }; <span class="comment">// error: missing field: `y`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Foo%20%7B%0A%20%20%20%20x%3A%20i32%2C%0A%20%20%20%20y%3A%20i32%2C%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%20Foo%20%7B%20x%3A%200%20%7D%3B%20%2F%2F%20error%3A%20missing%20field%3A%20%60y%60%0A%7D&amp;edition=2015">Run</a></div>
<p>Each field should be specified exactly once. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">x</span>: <span class="ident">i32</span>,
    <span class="ident">y</span>: <span class="ident">i32</span>,
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="number">0</span>, <span class="ident">y</span>: <span class="number">0</span> }; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Foo%20%7B%0A%20%20%20%20x%3A%20i32%2C%0A%20%20%20%20y%3A%20i32%2C%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%20Foo%20%7B%20x%3A%200%2C%20y%3A%200%20%7D%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0067" class="section-header"><a href="#E0067">E0067</a></h2>
<p>An invalid left-hand side expression was used on an assignment operation.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="number">12</span> <span class="op">+</span><span class="op">=</span> <span class="number">1</span>; <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A12%20%2B%3D%201%3B%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>You need to have a place expression to be able to assign it something. For
example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span>: <span class="ident">i8</span> <span class="op">=</span> <span class="number">12</span>;
<span class="ident">x</span> <span class="op">+</span><span class="op">=</span> <span class="number">1</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20x%3A%20i8%20%3D%2012%3B%0Ax%20%2B%3D%201%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0069" class="section-header"><a href="#E0069">E0069</a></h2>
<p>The compiler found a function whose body contains a <code>return;</code> statement but
whose return type is not <code>()</code>.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="comment">// error</span>
<span class="kw">fn</span> <span class="ident">foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u8</span> {
    <span class="kw">return</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20error%0Afn%20main()%20%7B%0Afn%20foo()%20-%3E%20u8%20%7B%0A%20%20%20%20return%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Since <code>return;</code> is just like <code>return ();</code>, there is a mismatch between the
function’s return type and the value being returned.</p>
</div>
<div class="error-described"><h2 id="E0070" class="section-header"><a href="#E0070">E0070</a></h2>
<p>An assignment operator was used on a non-place expression.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">SomeStruct</span> {
    <span class="ident">x</span>: <span class="ident">i32</span>,
    <span class="ident">y</span>: <span class="ident">i32</span>,
}

<span class="kw">const</span> <span class="ident">SOME_CONST</span>: <span class="ident">i32</span> <span class="op">=</span> <span class="number">12</span>;

<span class="kw">fn</span> <span class="ident">some_other_func</span>() {}

<span class="kw">fn</span> <span class="ident">some_function</span>() {
    <span class="ident">SOME_CONST</span> <span class="op">=</span> <span class="number">14</span>; <span class="comment">// error: a constant value cannot be changed!</span>
    <span class="number">1</span> <span class="op">=</span> <span class="number">3</span>; <span class="comment">// error: 1 isn&#39;t a valid place!</span>
    <span class="ident">some_other_func</span>() <span class="op">=</span> <span class="number">4</span>; <span class="comment">// error: we cannot assign value to a function!</span>
    <span class="ident">SomeStruct</span>::<span class="ident">x</span> <span class="op">=</span> <span class="number">12</span>; <span class="comment">// error: SomeStruct a structure name but it is used</span>
                        <span class="comment">//        like a variable!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20SomeStruct%20%7B%0A%20%20%20%20x%3A%20i32%2C%0A%20%20%20%20y%3A%20i32%2C%0A%7D%0A%0Aconst%20SOME_CONST%3A%20i32%20%3D%2012%3B%0A%0Afn%20some_other_func()%20%7B%7D%0A%0Afn%20some_function()%20%7B%0A%20%20%20%20SOME_CONST%20%3D%2014%3B%20%2F%2F%20error%3A%20a%20constant%20value%20cannot%20be%20changed!%0A%20%20%20%201%20%3D%203%3B%20%2F%2F%20error%3A%201%20isn't%20a%20valid%20place!%0A%20%20%20%20some_other_func()%20%3D%204%3B%20%2F%2F%20error%3A%20we%20cannot%20assign%20value%20to%20a%20function!%0A%20%20%20%20SomeStruct%3A%3Ax%20%3D%2012%3B%20%2F%2F%20error%3A%20SomeStruct%20a%20structure%20name%20but%20it%20is%20used%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20like%20a%20variable!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The left-hand side of an assignment operator must be a place expression. A
place expression represents a memory location and can be a variable (with
optional namespacing), a dereference, an indexing expression or a field
reference.</p>
<p>More details can be found in the <a href="https://doc.rust-lang.org/reference/expressions.html#places-rvalues-and-temporaries">Expressions</a> section of the Reference.</p>
<p>And now let’s give working examples:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">SomeStruct</span> {
    <span class="ident">x</span>: <span class="ident">i32</span>,
    <span class="ident">y</span>: <span class="ident">i32</span>,
}
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">s</span> <span class="op">=</span> <span class="ident">SomeStruct</span> { <span class="ident">x</span>: <span class="number">0</span>, <span class="ident">y</span>: <span class="number">0</span> };

<span class="ident">s</span>.<span class="ident">x</span> <span class="op">=</span> <span class="number">3</span>; <span class="comment">// that&#39;s good !</span>

<span class="comment">// ...</span>

<span class="kw">fn</span> <span class="ident">some_func</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {
    <span class="kw-2">*</span><span class="ident">x</span> <span class="op">=</span> <span class="number">12</span>; <span class="comment">// that&#39;s good !</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20SomeStruct%20%7B%0A%20%20%20%20x%3A%20i32%2C%0A%20%20%20%20y%3A%20i32%2C%0A%7D%0Alet%20mut%20s%20%3D%20SomeStruct%20%7B%20x%3A%200%2C%20y%3A%200%20%7D%3B%0A%0As.x%20%3D%203%3B%20%2F%2F%20that's%20good%20!%0A%0A%2F%2F%20...%0A%0Afn%20some_func(x%3A%20%26mut%20i32)%20%7B%0A%20%20%20%20*x%20%3D%2012%3B%20%2F%2F%20that's%20good%20!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0071" class="section-header"><a href="#E0071">E0071</a></h2>
<p>A structure-literal syntax was used to create an item that is not a structure
or enum variant.</p>
<p>Example of erroneous code:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">type</span> <span class="ident">U32</span> <span class="op">=</span> <span class="ident">u32</span>;
<span class="kw">let</span> <span class="ident">t</span> <span class="op">=</span> <span class="ident">U32</span> { <span class="ident">value</span>: <span class="number">4</span> }; <span class="comment">// error: expected struct, variant or union type,</span>
                          <span class="comment">// found builtin type `u32`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atype%20U32%20%3D%20u32%3B%0Alet%20t%20%3D%20U32%20%7B%20value%3A%204%20%7D%3B%20%2F%2F%20error%3A%20expected%20struct%2C%20variant%20or%20union%20type%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20found%20builtin%20type%20%60u32%60%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this, ensure that the name was correctly spelled, and that the correct
form of initializer was used.</p>
<p>For example, the code above can be fixed to:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">Foo</span> {
    <span class="ident">FirstValue</span>(<span class="ident">i32</span>)
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">u</span> <span class="op">=</span> <span class="ident">Foo</span>::<span class="ident">FirstValue</span>(<span class="number">0i32</span>);

    <span class="kw">let</span> <span class="ident">t</span> <span class="op">=</span> <span class="number">4</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aenum%20Foo%20%7B%0A%20%20%20%20FirstValue(i32)%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20u%20%3D%20Foo%3A%3AFirstValue(0i32)%3B%0A%0A%20%20%20%20let%20t%20%3D%204%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0072" class="section-header"><a href="#E0072">E0072</a></h2>
<p>A recursive type has infinite size because it doesn’t have an indirection.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">ListNode</span> {
    <span class="ident">head</span>: <span class="ident">u8</span>,
    <span class="ident">tail</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">ListNode</span><span class="op">&gt;</span>, <span class="comment">// error: no indirection here so impossible to</span>
                            <span class="comment">//        compute the type&#39;s size</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20ListNode%20%7B%0A%20%20%20%20head%3A%20u8%2C%0A%20%20%20%20tail%3A%20Option%3CListNode%3E%2C%20%2F%2F%20error%3A%20no%20indirection%20here%20so%20impossible%20to%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20compute%20the%20type's%20size%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>When defining a recursive struct or enum, any use of the type being defined
from inside the definition must occur behind a pointer (like <code>Box</code>, <code>&amp;</code> or
<code>Rc</code>). This is because structs and enums must have a well-defined size, and
without the pointer, the size of the type would need to be unbounded.</p>
<p>In the example, the type cannot have a well-defined size, because it needs to be
arbitrarily large (since we would be able to nest <code>ListNode</code>s to any depth).
Specifically,</p>
<pre><code class="language-plain">size of `ListNode` = 1 byte for `head`
                   + 1 byte for the discriminant of the `Option`
                   + size of `ListNode`
</code></pre>
<p>One way to fix this is by wrapping <code>ListNode</code> in a <code>Box</code>, like so:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">ListNode</span> {
    <span class="ident">head</span>: <span class="ident">u8</span>,
    <span class="ident">tail</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">Box</span><span class="op">&lt;</span><span class="ident">ListNode</span><span class="op">&gt;</span><span class="op">&gt;</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20ListNode%20%7B%0A%20%20%20%20head%3A%20u8%2C%0A%20%20%20%20tail%3A%20Option%3CBox%3CListNode%3E%3E%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This works because <code>Box</code> is a pointer, so its size is well-known.</p>
</div>
<div class="error-described"><h2 id="E0073" class="section-header"><a href="#E0073">E0073</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-5" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-5">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>You cannot define a struct (or enum) <code>Foo</code> that requires an instance of <code>Foo</code>
in order to make a new <code>Foo</code> value. This is because there would be no way a
first instance of <code>Foo</code> could be made to initialize another instance!</p>
<p>Here’s an example of a struct that has this problem:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">Foo</span><span class="op">&gt;</span> } <span class="comment">// error</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%20%7B%20x%3A%20Box%3CFoo%3E%20%7D%20%2F%2F%20error%0A%7D&amp;edition=2015">Run</a></div>
<p>One fix is to use <code>Option</code>, like so:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">Box</span><span class="op">&lt;</span><span class="ident">Foo</span><span class="op">&gt;</span><span class="op">&gt;</span> }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%20%7B%20x%3A%20Option%3CBox%3CFoo%3E%3E%20%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Now it’s possible to create at least one instance of <code>Foo</code>: <code>Foo { x: None }</code>.</p>
</div>
<div class="error-described"><h2 id="E0074" class="section-header"><a href="#E0074">E0074</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-6" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-6">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>When using the <code>#[simd]</code> attribute on a tuple struct, the components of the
tuple struct must all be of a concrete, nongeneric type so the compiler can
reason about how to use SIMD with them. This error will occur if the types
are generic.</p>
<p>This will cause an error:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">repr_simd</span>)]</span>

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">simd</span>)]</span>
<span class="kw">struct</span> <span class="ident">Bad</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">T</span>, <span class="ident">T</span>, <span class="ident">T</span>, <span class="ident">T</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(repr_simd)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brepr(simd)%5D%0Astruct%20Bad%3CT%3E(T%2C%20T%2C%20T%2C%20T)%3B%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>This will not:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">repr_simd</span>)]</span>

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">simd</span>)]</span>
<span class="kw">struct</span> <span class="ident">Good</span>(<span class="ident">u32</span>, <span class="ident">u32</span>, <span class="ident">u32</span>, <span class="ident">u32</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(repr_simd)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brepr(simd)%5D%0Astruct%20Good(u32%2C%20u32%2C%20u32%2C%20u32)%3B%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0075" class="section-header"><a href="#E0075">E0075</a></h2>
<p>A <code>#[simd]</code> attribute was applied to an empty tuple struct.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">repr_simd</span>)]</span>

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">simd</span>)]</span>
<span class="kw">struct</span> <span class="ident">Bad</span>; <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(repr_simd)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brepr(simd)%5D%0Astruct%20Bad%3B%20%2F%2F%20error!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>The <code>#[simd]</code> attribute can only be applied to non empty tuple structs, because
it doesn’t make sense to try to use SIMD operations when there are no values to
operate on.</p>
<p>Fixed example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">repr_simd</span>)]</span>

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">simd</span>)]</span>
<span class="kw">struct</span> <span class="ident">Good</span>(<span class="ident">u32</span>); <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(repr_simd)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brepr(simd)%5D%0Astruct%20Good(u32)%3B%20%2F%2F%20ok!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0076" class="section-header"><a href="#E0076">E0076</a></h2>
<p>All types in a tuple struct aren’t the same when using the <code>#[simd]</code>
attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">repr_simd</span>)]</span>

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">simd</span>)]</span>
<span class="kw">struct</span> <span class="ident">Bad</span>(<span class="ident">u16</span>, <span class="ident">u32</span>, <span class="ident">u32</span> <span class="ident">u32</span>); <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(repr_simd)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brepr(simd)%5D%0Astruct%20Bad(u16%2C%20u32%2C%20u32%20u32)%3B%20%2F%2F%20error!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>When using the <code>#[simd]</code> attribute to automatically use SIMD operations in tuple
struct, the types in the struct must all be of the same type, or the compiler
will trigger this error.</p>
<p>Fixed example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">repr_simd</span>)]</span>

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">simd</span>)]</span>
<span class="kw">struct</span> <span class="ident">Good</span>(<span class="ident">u32</span>, <span class="ident">u32</span>, <span class="ident">u32</span>, <span class="ident">u32</span>); <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(repr_simd)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brepr(simd)%5D%0Astruct%20Good(u32%2C%20u32%2C%20u32%2C%20u32)%3B%20%2F%2F%20ok!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0077" class="section-header"><a href="#E0077">E0077</a></h2>
<p>A tuple struct’s element isn’t a machine type when using the <code>#[simd]</code>
attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">repr_simd</span>)]</span>

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">simd</span>)]</span>
<span class="kw">struct</span> <span class="ident">Bad</span>(<span class="ident">String</span>); <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(repr_simd)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brepr(simd)%5D%0Astruct%20Bad(String)%3B%20%2F%2F%20error!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>When using the <code>#[simd]</code> attribute on a tuple struct, the elements in the tuple
must be machine types so SIMD operations can be applied to them.</p>
<p>Fixed example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">repr_simd</span>)]</span>

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">simd</span>)]</span>
<span class="kw">struct</span> <span class="ident">Good</span>(<span class="ident">u32</span>, <span class="ident">u32</span>, <span class="ident">u32</span>, <span class="ident">u32</span>); <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(repr_simd)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brepr(simd)%5D%0Astruct%20Good(u32%2C%20u32%2C%20u32%2C%20u32)%3B%20%2F%2F%20ok!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0080" class="section-header"><a href="#E0080">E0080</a></h2>
<p>A constant value failed to get evaluated.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">Enum</span> {
    <span class="ident">X</span> <span class="op">=</span> (<span class="number">1</span> <span class="op">&lt;</span><span class="op">&lt;</span> <span class="number">500</span>),
    <span class="ident">Y</span> <span class="op">=</span> (<span class="number">1</span> <span class="op">/</span> <span class="number">0</span>),
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Enum%20%7B%0A%20%20%20%20X%20%3D%20(1%20%3C%3C%20500)%2C%0A%20%20%20%20Y%20%3D%20(1%20%2F%200)%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This error indicates that the compiler was unable to sensibly evaluate a
constant expression that had to be evaluated. Attempting to divide by 0
or causing an integer overflow are two ways to induce this error.</p>
<p>Ensure that the expressions given can be evaluated as the desired integer type.</p>
<p>See the <a href="https://doc.rust-lang.org/reference/items/enumerations.html#custom-discriminant-values-for-field-less-enumerations">Custom Discriminants</a> section of the Reference
for more information about setting custom integer types on fieldless enums
using the <a href="https://doc.rust-lang.org/reference/type-layout.html#reprc-enums"><code>repr</code> attribute</a>.</p>
</div>
<div class="error-described"><h2 id="E0081" class="section-header"><a href="#E0081">E0081</a></h2>
<p>A discriminant value is present more than once.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">Enum</span> {
    <span class="ident">P</span> <span class="op">=</span> <span class="number">3</span>,
    <span class="ident">X</span> <span class="op">=</span> <span class="number">3</span>, <span class="comment">// error!</span>
    <span class="ident">Y</span> <span class="op">=</span> <span class="number">5</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Enum%20%7B%0A%20%20%20%20P%20%3D%203%2C%0A%20%20%20%20X%20%3D%203%2C%20%2F%2F%20error!%0A%20%20%20%20Y%20%3D%205%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Enum discriminants are used to differentiate enum variants stored in memory.
This error indicates that the same value was used for two or more variants,
making it impossible to distinguish them.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">Enum</span> {
    <span class="ident">P</span>,
    <span class="ident">X</span> <span class="op">=</span> <span class="number">3</span>, <span class="comment">// ok!</span>
    <span class="ident">Y</span> <span class="op">=</span> <span class="number">5</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Enum%20%7B%0A%20%20%20%20P%2C%0A%20%20%20%20X%20%3D%203%2C%20%2F%2F%20ok!%0A%20%20%20%20Y%20%3D%205%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Note that variants without a manually specified discriminant are numbered from
top to bottom starting from 0, so clashes can occur with seemingly unrelated
variants.</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">Bad</span> {
    <span class="ident">X</span>,
    <span class="ident">Y</span> <span class="op">=</span> <span class="number">0</span>, <span class="comment">// error!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Bad%20%7B%0A%20%20%20%20X%2C%0A%20%20%20%20Y%20%3D%200%2C%20%2F%2F%20error!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Here <code>X</code> will have already been specified the discriminant 0 by the time <code>Y</code> is
encountered, so a conflict occurs.</p>
</div>
<div class="error-described"><h2 id="E0084" class="section-header"><a href="#E0084">E0084</a></h2>
<p>An unsupported representation was attempted on a zero-variant enum.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">i32</span>)]</span>
<span class="kw">enum</span> <span class="ident">NightsWatch</span> {} <span class="comment">// error: unsupported representation for zero-variant enum</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(i32)%5D%0Aenum%20NightsWatch%20%7B%7D%20%2F%2F%20error%3A%20unsupported%20representation%20for%20zero-variant%20enum%0A%7D&amp;edition=2015">Run</a></div>
<p>It is impossible to define an integer type to be used to represent zero-variant
enum values because there are no zero-variant enum values. There is no way to
construct an instance of the following type using only safe code. So you have
two solutions. Either you add variants in your enum:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">i32</span>)]</span>
<span class="kw">enum</span> <span class="ident">NightsWatch</span> {
    <span class="ident">JonSnow</span>,
    <span class="ident">Commander</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(i32)%5D%0Aenum%20NightsWatch%20%7B%0A%20%20%20%20JonSnow%2C%0A%20%20%20%20Commander%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>or you remove the integer representation of your enum:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">NightsWatch</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20NightsWatch%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0087" class="section-header"><a href="#E0087">E0087</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-7" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-7">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>Too many type arguments were supplied for a function. For example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>() {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">foo</span>::<span class="op">&lt;</span><span class="ident">f64</span>, <span class="ident">bool</span><span class="op">&gt;</span>(); <span class="comment">// error: wrong number of type arguments:</span>
                        <span class="comment">//        expected 1, found 2</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20foo%3CT%3E()%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20foo%3A%3A%3Cf64%2C%20bool%3E()%3B%20%2F%2F%20error%3A%20wrong%20number%20of%20type%20arguments%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20expected%201%2C%20found%202%0A%7D&amp;edition=2015">Run</a></div>
<p>The number of supplied arguments must exactly match the number of defined type
parameters.</p>
</div>
<div class="error-described"><h2 id="E0088" class="section-header"><a href="#E0088">E0088</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-8" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-8">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>You gave too many lifetime arguments. Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">f</span>() {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">f</span>::<span class="op">&lt;</span><span class="lifetime">&#39;static</span><span class="op">&gt;</span>() <span class="comment">// error: wrong number of lifetime arguments:</span>
                   <span class="comment">//        expected 0, found 1</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20f()%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20f%3A%3A%3C'static%3E()%20%2F%2F%20error%3A%20wrong%20number%20of%20lifetime%20arguments%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20expected%200%2C%20found%201%0A%7D&amp;edition=2015">Run</a></div>
<p>Please check you give the right number of lifetime arguments. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">f</span>() {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">f</span>() <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20f()%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20f()%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>It’s also important to note that the Rust compiler can generally
determine the lifetime by itself. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">value</span>: <span class="ident">String</span>
}

<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="comment">// it can be written like this</span>
    <span class="kw">fn</span> <span class="ident">get_value</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span> { <span class="kw-2">&amp;</span><span class="self">self</span>.<span class="ident">value</span> }
    <span class="comment">// but the compiler works fine with this too:</span>
    <span class="kw">fn</span> <span class="ident">without_lifetime</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="ident">str</span> { <span class="kw-2">&amp;</span><span class="self">self</span>.<span class="ident">value</span> }
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">f</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">value</span>: <span class="string">&quot;hello&quot;</span>.<span class="ident">to_owned</span>() };

    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">f</span>.<span class="ident">get_value</span>());
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">f</span>.<span class="ident">without_lifetime</span>());
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Foo%20%7B%0A%20%20%20%20value%3A%20String%0A%7D%0A%0Aimpl%20Foo%20%7B%0A%20%20%20%20%2F%2F%20it%20can%20be%20written%20like%20this%0A%20%20%20%20fn%20get_value%3C'a%3E(%26'a%20self)%20-%3E%20%26'a%20str%20%7B%20%26self.value%20%7D%0A%20%20%20%20%2F%2F%20but%20the%20compiler%20works%20fine%20with%20this%20too%3A%0A%20%20%20%20fn%20without_lifetime(%26self)%20-%3E%20%26str%20%7B%20%26self.value%20%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20f%20%3D%20Foo%20%7B%20value%3A%20%22hello%22.to_owned()%20%7D%3B%0A%0A%20%20%20%20println!(%22%7B%7D%22%2C%20f.get_value())%3B%0A%20%20%20%20println!(%22%7B%7D%22%2C%20f.without_lifetime())%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0089" class="section-header"><a href="#E0089">E0089</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-9" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-9">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>Too few type arguments were supplied for a function. For example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">U</span><span class="op">&gt;</span>() {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">foo</span>::<span class="op">&lt;</span><span class="ident">f64</span><span class="op">&gt;</span>(); <span class="comment">// error: wrong number of type arguments: expected 2, found 1</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20foo%3CT%2C%20U%3E()%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20foo%3A%3A%3Cf64%3E()%3B%20%2F%2F%20error%3A%20wrong%20number%20of%20type%20arguments%3A%20expected%202%2C%20found%201%0A%7D&amp;edition=2015">Run</a></div>
<p>Note that if a function takes multiple type arguments but you want the compiler
to infer some of them, you can use type placeholders:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">U</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>) {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span>: <span class="ident">bool</span> <span class="op">=</span> <span class="bool-val">true</span>;
    <span class="ident">foo</span>::<span class="op">&lt;</span><span class="ident">f64</span><span class="op">&gt;</span>(<span class="ident">x</span>);    <span class="comment">// error: wrong number of type arguments:</span>
                      <span class="comment">//        expected 2, found 1</span>
    <span class="ident">foo</span>::<span class="op">&lt;</span><span class="kw">_</span>, <span class="ident">f64</span><span class="op">&gt;</span>(<span class="ident">x</span>); <span class="comment">// same as `foo::&lt;bool, f64&gt;(x)`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20foo%3CT%2C%20U%3E(x%3A%20T)%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%3A%20bool%20%3D%20true%3B%0A%20%20%20%20foo%3A%3A%3Cf64%3E(x)%3B%20%20%20%20%2F%2F%20error%3A%20wrong%20number%20of%20type%20arguments%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20expected%202%2C%20found%201%0A%20%20%20%20foo%3A%3A%3C_%2C%20f64%3E(x)%3B%20%2F%2F%20same%20as%20%60foo%3A%3A%3Cbool%2C%20f64%3E(x)%60%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0090" class="section-header"><a href="#E0090">E0090</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-10" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-10">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>You gave too few lifetime arguments. Example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>: <span class="lifetime">&#39;b</span>, <span class="lifetime">&#39;b</span>: <span class="lifetime">&#39;a</span><span class="op">&gt;</span>() {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">foo</span>::<span class="op">&lt;</span><span class="lifetime">&#39;static</span><span class="op">&gt;</span>(); <span class="comment">// error: wrong number of lifetime arguments:</span>
                      <span class="comment">//        expected 2, found 1</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20foo%3C'a%3A%20'b%2C%20'b%3A%20'a%3E()%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20foo%3A%3A%3C'static%3E()%3B%20%2F%2F%20error%3A%20wrong%20number%20of%20lifetime%20arguments%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20expected%202%2C%20found%201%0A%7D&amp;edition=2015">Run</a></div>
<p>Please check you give the right number of lifetime arguments. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>: <span class="lifetime">&#39;b</span>, <span class="lifetime">&#39;b</span>: <span class="lifetime">&#39;a</span><span class="op">&gt;</span>() {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">foo</span>::<span class="op">&lt;</span><span class="lifetime">&#39;static</span>, <span class="lifetime">&#39;static</span><span class="op">&gt;</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20foo%3C'a%3A%20'b%2C%20'b%3A%20'a%3E()%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20foo%3A%3A%3C'static%2C%20'static%3E()%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0091" class="section-header"><a href="#E0091">E0091</a></h2>
<p>An unnecessary type or const parameter was given in a type alias.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">type</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">u32</span>; <span class="comment">// error: type parameter `T` is unused</span>
<span class="comment">// or:</span>
<span class="kw">type</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">A</span>,<span class="ident">B</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">A</span><span class="op">&gt;</span>; <span class="comment">// error: type parameter `B` is unused</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atype%20Foo%3CT%3E%20%3D%20u32%3B%20%2F%2F%20error%3A%20type%20parameter%20%60T%60%20is%20unused%0A%2F%2F%20or%3A%0Atype%20Foo%3CA%2CB%3E%20%3D%20Box%3CA%3E%3B%20%2F%2F%20error%3A%20type%20parameter%20%60B%60%20is%20unused%0A%7D&amp;edition=2015">Run</a></div>
<p>Please check you didn’t write too many parameters. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">type</span> <span class="ident">Foo</span> <span class="op">=</span> <span class="ident">u32</span>; <span class="comment">// ok!</span>
<span class="kw">type</span> <span class="ident">Foo2</span><span class="op">&lt;</span><span class="ident">A</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">A</span><span class="op">&gt;</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atype%20Foo%20%3D%20u32%3B%20%2F%2F%20ok!%0Atype%20Foo2%3CA%3E%20%3D%20Box%3CA%3E%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0092" class="section-header"><a href="#E0092">E0092</a></h2>
<p>An undefined atomic operation function was declared.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">intrinsics</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;rust-intrinsic&quot;</span> {
    <span class="kw">fn</span> <span class="ident">atomic_foo</span>(); <span class="comment">// error: unrecognized atomic operation</span>
                     <span class="comment">//        function</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(intrinsics)%5D%0A%0Afn%20main()%20%7B%0Aextern%20%22rust-intrinsic%22%20%7B%0A%20%20%20%20fn%20atomic_foo()%3B%20%2F%2F%20error%3A%20unrecognized%20atomic%20operation%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20function%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Please check you didn’t make a mistake in the function’s name. All intrinsic
functions are defined in <code>compiler/rustc_codegen_llvm/src/intrinsic.rs</code> and in
<code>library/core/src/intrinsics.rs</code> in the Rust source code. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">intrinsics</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;rust-intrinsic&quot;</span> {
    <span class="kw">fn</span> <span class="ident">atomic_fence</span>(); <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(intrinsics)%5D%0A%0Afn%20main()%20%7B%0Aextern%20%22rust-intrinsic%22%20%7B%0A%20%20%20%20fn%20atomic_fence()%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0093" class="section-header"><a href="#E0093">E0093</a></h2>
<p>An unknown intrinsic function was declared.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">intrinsics</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;rust-intrinsic&quot;</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(); <span class="comment">// error: unrecognized intrinsic function: `foo`</span>
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">unsafe</span> {
        <span class="ident">foo</span>();
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(intrinsics)%5D%0A%0Aextern%20%22rust-intrinsic%22%20%7B%0A%20%20%20%20fn%20foo()%3B%20%2F%2F%20error%3A%20unrecognized%20intrinsic%20function%3A%20%60foo%60%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20unsafe%20%7B%0A%20%20%20%20%20%20%20%20foo()%3B%0A%20%20%20%20%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Please check you didn’t make a mistake in the function’s name. All intrinsic
functions are defined in <code>compiler/rustc_codegen_llvm/src/intrinsic.rs</code> and in
<code>library/core/src/intrinsics.rs</code> in the Rust source code. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">intrinsics</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;rust-intrinsic&quot;</span> {
    <span class="kw">fn</span> <span class="ident">atomic_fence</span>(); <span class="comment">// ok!</span>
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">unsafe</span> {
        <span class="ident">atomic_fence</span>();
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(intrinsics)%5D%0A%0Aextern%20%22rust-intrinsic%22%20%7B%0A%20%20%20%20fn%20atomic_fence()%3B%20%2F%2F%20ok!%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20unsafe%20%7B%0A%20%20%20%20%20%20%20%20atomic_fence()%3B%0A%20%20%20%20%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0094" class="section-header"><a href="#E0094">E0094</a></h2>
<p>An invalid number of type parameters was given to an intrinsic function.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">intrinsics</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;rust-intrinsic&quot;</span> {
    <span class="kw">fn</span> <span class="ident">size_of</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">U</span><span class="op">&gt;</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">usize</span>; <span class="comment">// error: intrinsic has wrong number</span>
                                 <span class="comment">//        of type parameters</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(intrinsics)%5D%0A%0Afn%20main()%20%7B%0Aextern%20%22rust-intrinsic%22%20%7B%0A%20%20%20%20fn%20size_of%3CT%2C%20U%3E()%20-%3E%20usize%3B%20%2F%2F%20error%3A%20intrinsic%20has%20wrong%20number%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20of%20type%20parameters%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Please check that you provided the right number of type parameters
and verify with the function declaration in the Rust source code.
Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">intrinsics</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;rust-intrinsic&quot;</span> {
    <span class="kw">fn</span> <span class="ident">size_of</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">usize</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(intrinsics)%5D%0A%0Afn%20main()%20%7B%0Aextern%20%22rust-intrinsic%22%20%7B%0A%20%20%20%20fn%20size_of%3CT%3E()%20-%3E%20usize%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0106" class="section-header"><a href="#E0106">E0106</a></h2>
<p>This error indicates that a lifetime is missing from a type. If it is an error
inside a function signature, the problem may be with failing to adhere to the
lifetime elision rules (see below).</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo1</span> { <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="ident">bool</span> }
              <span class="comment">// ^ expected lifetime parameter</span>
<span class="kw">struct</span> <span class="ident">Foo2</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> { <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">bool</span> } <span class="comment">// correct</span>

<span class="kw">struct</span> <span class="ident">Bar1</span> { <span class="ident">x</span>: <span class="ident">Foo2</span> }
              <span class="comment">// ^^^^ expected lifetime parameter</span>
<span class="kw">struct</span> <span class="ident">Bar2</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> { <span class="ident">x</span>: <span class="ident">Foo2</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> } <span class="comment">// correct</span>

<span class="kw">enum</span> <span class="ident">Baz1</span> { <span class="ident">A</span>(<span class="ident">u8</span>), <span class="ident">B</span>(<span class="kw-2">&amp;</span><span class="ident">bool</span>), }
                  <span class="comment">// ^ expected lifetime parameter</span>
<span class="kw">enum</span> <span class="ident">Baz2</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> { <span class="ident">A</span>(<span class="ident">u8</span>), <span class="ident">B</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">bool</span>), } <span class="comment">// correct</span>

<span class="kw">type</span> <span class="ident">MyStr1</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">str</span>;
           <span class="comment">// ^ expected lifetime parameter</span>
<span class="kw">type</span> <span class="ident">MyStr2</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>; <span class="comment">// correct</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo1%20%7B%20x%3A%20%26bool%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%5E%20expected%20lifetime%20parameter%0Astruct%20Foo2%3C'a%3E%20%7B%20x%3A%20%26'a%20bool%20%7D%20%2F%2F%20correct%0A%0Astruct%20Bar1%20%7B%20x%3A%20Foo2%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%5E%5E%5E%5E%20expected%20lifetime%20parameter%0Astruct%20Bar2%3C'a%3E%20%7B%20x%3A%20Foo2%3C'a%3E%20%7D%20%2F%2F%20correct%0A%0Aenum%20Baz1%20%7B%20A(u8)%2C%20B(%26bool)%2C%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%5E%20expected%20lifetime%20parameter%0Aenum%20Baz2%3C'a%3E%20%7B%20A(u8)%2C%20B(%26'a%20bool)%2C%20%7D%20%2F%2F%20correct%0A%0Atype%20MyStr1%20%3D%20%26str%3B%0A%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%5E%20expected%20lifetime%20parameter%0Atype%20MyStr2%3C'a%3E%20%3D%20%26'a%20str%3B%20%2F%2F%20correct%0A%7D&amp;edition=2015">Run</a></div>
<p>Lifetime elision is a special, limited kind of inference for lifetimes in
function signatures which allows you to leave out lifetimes in certain cases.
For more background on lifetime elision see <a href="https://doc.rust-lang.org/book/ch10-03-lifetime-syntax.html#lifetime-elision">the book</a>.</p>
<p>The lifetime elision rules require that any function signature with an elided
output lifetime must either have:</p>
<ul>
<li>exactly one input lifetime</li>
<li>or, multiple input lifetimes, but the function must also be a method with a
<code>&amp;self</code> or <code>&amp;mut self</code> receiver</li>
</ul>
<p>In the first case, the output lifetime is inferred to be the same as the unique
input lifetime. In the second case, the lifetime is instead inferred to be the
same as the lifetime on <code>&amp;self</code> or <code>&amp;mut self</code>.</p>
<p>Here are some examples of elision errors:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="comment">// error, no input lifetimes</span>
<span class="kw">fn</span> <span class="ident">foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="ident">str</span> { }

<span class="comment">// error, `x` and `y` have distinct lifetimes inferred</span>
<span class="kw">fn</span> <span class="ident">bar</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="ident">str</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="ident">str</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="ident">str</span> { }

<span class="comment">// error, `y`&#39;s lifetime is inferred to be distinct from `x`&#39;s</span>
<span class="kw">fn</span> <span class="ident">baz</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="ident">str</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="ident">str</span> { }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20error%2C%20no%20input%20lifetimes%0Afn%20main()%20%7B%0Afn%20foo()%20-%3E%20%26str%20%7B%20%7D%0A%0A%2F%2F%20error%2C%20%60x%60%20and%20%60y%60%20have%20distinct%20lifetimes%20inferred%0Afn%20bar(x%3A%20%26str%2C%20y%3A%20%26str)%20-%3E%20%26str%20%7B%20%7D%0A%0A%2F%2F%20error%2C%20%60y%60's%20lifetime%20is%20inferred%20to%20be%20distinct%20from%20%60x%60's%0Afn%20baz%3C'a%3E(x%3A%20%26'a%20str%2C%20y%3A%20%26str)%20-%3E%20%26str%20%7B%20%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0107" class="section-header"><a href="#E0107">E0107</a></h2>
<p>An incorrect number of generic arguments was provided.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> { <span class="ident">x</span>: <span class="ident">T</span> }

<span class="kw">struct</span> <span class="ident">Bar</span> { <span class="ident">x</span>: <span class="ident">Foo</span> }             <span class="comment">// error: wrong number of type arguments:</span>
                                  <span class="comment">//        expected 1, found 0</span>
<span class="kw">struct</span> <span class="ident">Baz</span><span class="op">&lt;</span><span class="ident">S</span>, <span class="ident">T</span><span class="op">&gt;</span> { <span class="ident">x</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">S</span>, <span class="ident">T</span><span class="op">&gt;</span> } <span class="comment">// error: wrong number of type arguments:</span>
                                  <span class="comment">//        expected 1, found 2</span>

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">U</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>, <span class="ident">y</span>: <span class="ident">U</span>) {}
<span class="kw">fn</span> <span class="ident">f</span>() {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span>: <span class="ident">bool</span> <span class="op">=</span> <span class="bool-val">true</span>;
    <span class="ident">foo</span>::<span class="op">&lt;</span><span class="ident">bool</span><span class="op">&gt;</span>(<span class="ident">x</span>);                 <span class="comment">// error: wrong number of type arguments:</span>
                                    <span class="comment">//        expected 2, found 1</span>
    <span class="ident">foo</span>::<span class="op">&lt;</span><span class="ident">bool</span>, <span class="ident">i32</span>, <span class="ident">i32</span><span class="op">&gt;</span>(<span class="ident">x</span>, <span class="number">2</span>, <span class="number">4</span>); <span class="comment">// error: wrong number of type arguments:</span>
                                    <span class="comment">//        expected 2, found 3</span>
    <span class="ident">f</span>::<span class="op">&lt;</span><span class="lifetime">&#39;static</span><span class="op">&gt;</span>();                 <span class="comment">// error: wrong number of lifetime arguments</span>
                                    <span class="comment">//        expected 0, found 1</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Foo%3CT%3E%20%7B%20x%3A%20T%20%7D%0A%0Astruct%20Bar%20%7B%20x%3A%20Foo%20%7D%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20error%3A%20wrong%20number%20of%20type%20arguments%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20expected%201%2C%20found%200%0Astruct%20Baz%3CS%2C%20T%3E%20%7B%20x%3A%20Foo%3CS%2C%20T%3E%20%7D%20%2F%2F%20error%3A%20wrong%20number%20of%20type%20arguments%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20expected%201%2C%20found%202%0A%0Afn%20foo%3CT%2C%20U%3E(x%3A%20T%2C%20y%3A%20U)%20%7B%7D%0Afn%20f()%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%3A%20bool%20%3D%20true%3B%0A%20%20%20%20foo%3A%3A%3Cbool%3E(x)%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20error%3A%20wrong%20number%20of%20type%20arguments%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20expected%202%2C%20found%201%0A%20%20%20%20foo%3A%3A%3Cbool%2C%20i32%2C%20i32%3E(x%2C%202%2C%204)%3B%20%2F%2F%20error%3A%20wrong%20number%20of%20type%20arguments%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20expected%202%2C%20found%203%0A%20%20%20%20f%3A%3A%3C'static%3E()%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20error%3A%20wrong%20number%20of%20lifetime%20arguments%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20expected%200%2C%20found%201%0A%7D&amp;edition=2015">Run</a></div>
<p>When using/declaring an item with generic arguments, you must provide the exact
same number:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> { <span class="ident">x</span>: <span class="ident">T</span> }

<span class="kw">struct</span> <span class="ident">Bar</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> { <span class="ident">x</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> }               <span class="comment">// ok!</span>
<span class="kw">struct</span> <span class="ident">Baz</span><span class="op">&lt;</span><span class="ident">S</span>, <span class="ident">T</span><span class="op">&gt;</span> { <span class="ident">x</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">S</span><span class="op">&gt;</span>, <span class="ident">y</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> } <span class="comment">// ok!</span>

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">U</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>, <span class="ident">y</span>: <span class="ident">U</span>) {}
<span class="kw">fn</span> <span class="ident">f</span>() {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span>: <span class="ident">bool</span> <span class="op">=</span> <span class="bool-val">true</span>;
    <span class="ident">foo</span>::<span class="op">&lt;</span><span class="ident">bool</span>, <span class="ident">u32</span><span class="op">&gt;</span>(<span class="ident">x</span>, <span class="number">12</span>);              <span class="comment">// ok!</span>
    <span class="ident">f</span>();                                  <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Foo%3CT%3E%20%7B%20x%3A%20T%20%7D%0A%0Astruct%20Bar%3CT%3E%20%7B%20x%3A%20Foo%3CT%3E%20%7D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20ok!%0Astruct%20Baz%3CS%2C%20T%3E%20%7B%20x%3A%20Foo%3CS%3E%2C%20y%3A%20Foo%3CT%3E%20%7D%20%2F%2F%20ok!%0A%0Afn%20foo%3CT%2C%20U%3E(x%3A%20T%2C%20y%3A%20U)%20%7B%7D%0Afn%20f()%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%3A%20bool%20%3D%20true%3B%0A%20%20%20%20foo%3A%3A%3Cbool%2C%20u32%3E(x%2C%2012)%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20ok!%0A%20%20%20%20f()%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0109" class="section-header"><a href="#E0109">E0109</a></h2>
<p>You tried to provide a generic argument to a type which doesn’t need it.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">type</span> <span class="ident">X</span> <span class="op">=</span> <span class="ident">u32</span><span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span>; <span class="comment">// error: type arguments are not allowed for this type</span>
<span class="kw">type</span> <span class="ident">Y</span> <span class="op">=</span> <span class="ident">bool</span><span class="op">&lt;</span><span class="lifetime">&#39;static</span><span class="op">&gt;</span>; <span class="comment">// error: lifetime parameters are not allowed on</span>
                        <span class="comment">//        this type</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atype%20X%20%3D%20u32%3Ci32%3E%3B%20%2F%2F%20error%3A%20type%20arguments%20are%20not%20allowed%20for%20this%20type%0Atype%20Y%20%3D%20bool%3C'static%3E%3B%20%2F%2F%20error%3A%20lifetime%20parameters%20are%20not%20allowed%20on%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20this%20type%0A%7D&amp;edition=2015">Run</a></div>
<p>Check that you used the correct argument and that the definition is correct.</p>
<p>Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">type</span> <span class="ident">X</span> <span class="op">=</span> <span class="ident">u32</span>; <span class="comment">// ok!</span>
<span class="kw">type</span> <span class="ident">Y</span> <span class="op">=</span> <span class="ident">bool</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atype%20X%20%3D%20u32%3B%20%2F%2F%20ok!%0Atype%20Y%20%3D%20bool%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>Note that generic arguments for enum variant constructors go after the variant,
not after the enum. For example, you would write <code>Option::None::&lt;u32&gt;</code>,
rather than <code>Option::&lt;u32&gt;::None</code>.</p>
</div>
<div class="error-described"><h2 id="E0110" class="section-header"><a href="#E0110">E0110</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-11" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-11">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>You tried to provide a lifetime to a type which doesn’t need it.
See <code>E0109</code> for more details.</p>
</div>
<div class="error-described"><h2 id="E0116" class="section-header"><a href="#E0116">E0116</a></h2>
<p>An inherent implementation was defined for a type outside the current crate.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">impl</span> <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span> { } <span class="comment">// error</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aimpl%20Vec%3Cu8%3E%20%7B%20%7D%20%2F%2F%20error%0A%7D&amp;edition=2015">Run</a></div>
<p>You can only define an inherent implementation for a type in the same crate
where the type was defined. For example, an <code>impl</code> block as above is not allowed
since <code>Vec</code> is defined in the standard library.</p>
<p>To fix this problem, you can either:</p>
<ul>
<li>define a trait that has the desired associated functions/types/constants and
implement the trait for the type in question</li>
<li>define a new type wrapping the type and define an implementation on the new
type</li>
</ul>
<p>Note that using the <code>type</code> keyword does not work here because <code>type</code> only
introduces a type alias:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">type</span> <span class="ident">Bytes</span> <span class="op">=</span> <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span>;

<span class="kw">impl</span> <span class="ident">Bytes</span> { } <span class="comment">// error, same as above</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atype%20Bytes%20%3D%20Vec%3Cu8%3E%3B%0A%0Aimpl%20Bytes%20%7B%20%7D%20%2F%2F%20error%2C%20same%20as%20above%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0117" class="section-header"><a href="#E0117">E0117</a></h2>
<p>Only traits defined in the current crate can be implemented for arbitrary types.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">u32</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aimpl%20Drop%20for%20u32%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This error indicates a violation of one of Rust’s orphan rules for trait
implementations. The rule prohibits any implementation of a foreign trait (a
trait defined in another crate) where</p>
<ul>
<li>the type that is implementing the trait is foreign</li>
<li>all of the parameters being passed to the trait (if there are any) are also
foreign.</li>
</ul>
<p>To avoid this kind of error, ensure that at least one local type is referenced
by the <code>impl</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Foo</span>; <span class="comment">// you define your type in your crate</span>

<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">Foo</span> { <span class="comment">// and you can implement the trait on it!</span>
    <span class="comment">// code of trait implementation here</span>
}

<span class="kw">impl</span> <span class="ident">From</span><span class="op">&lt;</span><span class="ident">Foo</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">i32</span> { <span class="comment">// or you use a type from your crate as</span>
                         <span class="comment">// a type parameter</span>
    <span class="kw">fn</span> <span class="ident">from</span>(<span class="ident">i</span>: <span class="ident">Foo</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i32</span> {
        <span class="number">0</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Apub%20struct%20Foo%3B%20%2F%2F%20you%20define%20your%20type%20in%20your%20crate%0A%0Aimpl%20Drop%20for%20Foo%20%7B%20%2F%2F%20and%20you%20can%20implement%20the%20trait%20on%20it!%0A%20%20%20%20%2F%2F%20code%20of%20trait%20implementation%20here%0A%20%20fn%20drop(%26mut%20self)%20%7B%20%7D%0A%7D%0A%0Aimpl%20From%3CFoo%3E%20for%20i32%20%7B%20%2F%2F%20or%20you%20use%20a%20type%20from%20your%20crate%20as%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20a%20type%20parameter%0A%20%20%20%20fn%20from(i%3A%20Foo)%20-%3E%20i32%20%7B%0A%20%20%20%20%20%20%20%200%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Alternatively, define a trait locally and implement that instead:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">get</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">usize</span>;
}

<span class="kw">impl</span> <span class="ident">Bar</span> <span class="kw">for</span> <span class="ident">u32</span> {
    <span class="kw">fn</span> <span class="ident">get</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">usize</span> { <span class="number">0</span> }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Bar%20%7B%0A%20%20%20%20fn%20get(%26self)%20-%3E%20usize%3B%0A%7D%0A%0Aimpl%20Bar%20for%20u32%20%7B%0A%20%20%20%20fn%20get(%26self)%20-%3E%20usize%20%7B%200%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>For information on the design of the orphan rules, see <a href="https://github.com/rust-lang/rfcs/blob/master/text/1023-rebalancing-coherence.md">RFC 1023</a>.</p>
</div>
<div class="error-described"><h2 id="E0118" class="section-header"><a href="#E0118">E0118</a></h2>
<p>An inherent implementation was defined for something which isn’t a struct,
enum, union, or trait object.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">impl</span> (<span class="ident">u8</span>, <span class="ident">u8</span>) { <span class="comment">// error: no nominal type found for inherent implementation</span>
    <span class="kw">fn</span> <span class="ident">get_state</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">String</span> {
        <span class="comment">// ...</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aimpl%20(u8%2C%20u8)%20%7B%20%2F%2F%20error%3A%20no%20nominal%20type%20found%20for%20inherent%20implementation%0A%20%20%20%20fn%20get_state(%26self)%20-%3E%20String%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20...%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, please implement a trait on the type or wrap it in a struct.
Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="comment">// we create a trait here</span>
<span class="kw">trait</span> <span class="ident">LiveLongAndProsper</span> {
    <span class="kw">fn</span> <span class="ident">get_state</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">String</span>;
}

<span class="comment">// and now you can implement it on (u8, u8)</span>
<span class="kw">impl</span> <span class="ident">LiveLongAndProsper</span> <span class="kw">for</span> (<span class="ident">u8</span>, <span class="ident">u8</span>) {
    <span class="kw">fn</span> <span class="ident">get_state</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">String</span> {
        <span class="string">&quot;He&#39;s dead, Jim!&quot;</span>.<span class="ident">to_owned</span>()
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20we%20create%20a%20trait%20here%0Afn%20main()%20%7B%0Atrait%20LiveLongAndProsper%20%7B%0A%20%20%20%20fn%20get_state(%26self)%20-%3E%20String%3B%0A%7D%0A%0A%2F%2F%20and%20now%20you%20can%20implement%20it%20on%20(u8%2C%20u8)%0Aimpl%20LiveLongAndProsper%20for%20(u8%2C%20u8)%20%7B%0A%20%20%20%20fn%20get_state(%26self)%20-%3E%20String%20%7B%0A%20%20%20%20%20%20%20%20%22He's%20dead%2C%20Jim!%22.to_owned()%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Alternatively, you can create a newtype. A newtype is a wrapping tuple-struct.
For example, <code>NewType</code> is a newtype over <code>Foo</code> in <code>struct NewType(Foo)</code>.
Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">TypeWrapper</span>((<span class="ident">u8</span>, <span class="ident">u8</span>));

<span class="kw">impl</span> <span class="ident">TypeWrapper</span> {
    <span class="kw">fn</span> <span class="ident">get_state</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">String</span> {
        <span class="string">&quot;Fascinating!&quot;</span>.<span class="ident">to_owned</span>()
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20TypeWrapper((u8%2C%20u8))%3B%0A%0Aimpl%20TypeWrapper%20%7B%0A%20%20%20%20fn%20get_state(%26self)%20-%3E%20String%20%7B%0A%20%20%20%20%20%20%20%20%22Fascinating!%22.to_owned()%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Instead of defining an inherent implementation on a reference, you could also
move the reference inside the implementation:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="kw-2">&amp;</span><span class="ident">Foo</span> { <span class="comment">// error: no nominal type found for inherent implementation</span>
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="self">self</span>, <span class="ident">other</span>: <span class="self">Self</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aimpl%20%26Foo%20%7B%20%2F%2F%20error%3A%20no%20nominal%20type%20found%20for%20inherent%20implementation%0A%20%20%20%20fn%20bar(self%2C%20other%3A%20Self)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>becomes</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">other</span>: <span class="kw-2">&amp;</span><span class="self">Self</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20bar(%26self%2C%20other%3A%20%26Self)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0119" class="section-header"><a href="#E0119">E0119</a></h2>
<p>There are conflicting trait implementations for the same type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">MyTrait</span> {
    <span class="kw">fn</span> <span class="ident">get</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">usize</span>;
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">MyTrait</span> <span class="kw">for</span> <span class="ident">T</span> {
    <span class="kw">fn</span> <span class="ident">get</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">usize</span> { <span class="number">0</span> }
}

<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">value</span>: <span class="ident">usize</span>
}

<span class="kw">impl</span> <span class="ident">MyTrait</span> <span class="kw">for</span> <span class="ident">Foo</span> { <span class="comment">// error: conflicting implementations of trait</span>
                       <span class="comment">//        `MyTrait` for type `Foo`</span>
    <span class="kw">fn</span> <span class="ident">get</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">usize</span> { <span class="self">self</span>.<span class="ident">value</span> }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20MyTrait%20%7B%0A%20%20%20%20fn%20get(%26self)%20-%3E%20usize%3B%0A%7D%0A%0Aimpl%3CT%3E%20MyTrait%20for%20T%20%7B%0A%20%20%20%20fn%20get(%26self)%20-%3E%20usize%20%7B%200%20%7D%0A%7D%0A%0Astruct%20Foo%20%7B%0A%20%20%20%20value%3A%20usize%0A%7D%0A%0Aimpl%20MyTrait%20for%20Foo%20%7B%20%2F%2F%20error%3A%20conflicting%20implementations%20of%20trait%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%60MyTrait%60%20for%20type%20%60Foo%60%0A%20%20%20%20fn%20get(%26self)%20-%3E%20usize%20%7B%20self.value%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>When looking for the implementation for the trait, the compiler finds
both the <code>impl&lt;T&gt; MyTrait for T</code> where T is all types and the <code>impl MyTrait for Foo</code>. Since a trait cannot be implemented multiple times,
this is an error. So, when you write:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">MyTrait</span> {
    <span class="kw">fn</span> <span class="ident">get</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">usize</span>;
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">MyTrait</span> <span class="kw">for</span> <span class="ident">T</span> {
    <span class="kw">fn</span> <span class="ident">get</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">usize</span> { <span class="number">0</span> }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20MyTrait%20%7B%0A%20%20%20%20fn%20get(%26self)%20-%3E%20usize%3B%0A%7D%0A%0Aimpl%3CT%3E%20MyTrait%20for%20T%20%7B%0A%20%20%20%20fn%20get(%26self)%20-%3E%20usize%20%7B%200%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This makes the trait implemented on all types in the scope. So if you
try to implement it on another one after that, the implementations will
conflict. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">MyTrait</span> {
    <span class="kw">fn</span> <span class="ident">get</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">usize</span>;
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">MyTrait</span> <span class="kw">for</span> <span class="ident">T</span> {
    <span class="kw">fn</span> <span class="ident">get</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">usize</span> { <span class="number">0</span> }
}

<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">f</span> <span class="op">=</span> <span class="ident">Foo</span>;

    <span class="ident">f</span>.<span class="ident">get</span>(); <span class="comment">// the trait is implemented so we can use it</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Atrait%20MyTrait%20%7B%0A%20%20%20%20fn%20get(%26self)%20-%3E%20usize%3B%0A%7D%0A%0Aimpl%3CT%3E%20MyTrait%20for%20T%20%7B%0A%20%20%20%20fn%20get(%26self)%20-%3E%20usize%20%7B%200%20%7D%0A%7D%0A%0Astruct%20Foo%3B%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20f%20%3D%20Foo%3B%0A%0A%20%20%20%20f.get()%3B%20%2F%2F%20the%20trait%20is%20implemented%20so%20we%20can%20use%20it%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0120" class="section-header"><a href="#E0120">E0120</a></h2>
<p>Drop was implemented on a trait, which is not allowed: only structs and
enums can implement Drop.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">MyTrait</span> {}

<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">MyTrait</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20MyTrait%20%7B%7D%0A%0Aimpl%20Drop%20for%20MyTrait%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>A workaround for this problem is to wrap the trait up in a struct, and implement
Drop on that:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">MyTrait</span> {}
<span class="kw">struct</span> <span class="ident">MyWrapper</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">MyTrait</span><span class="op">&gt;</span> { <span class="ident">foo</span>: <span class="ident">T</span> }

<span class="kw">impl</span> <span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">MyTrait</span><span class="op">&gt;</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">MyWrapper</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) {}
}
</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20MyTrait%20%7B%7D%0Astruct%20MyWrapper%3CT%3A%20MyTrait%3E%20%7B%20foo%3A%20T%20%7D%0A%0Aimpl%20%3CT%3A%20MyTrait%3E%20Drop%20for%20MyWrapper%3CT%3E%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Alternatively, wrapping trait objects requires something:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">MyTrait</span> {}

<span class="comment">//or Box&lt;MyTrait&gt;, if you wanted an owned trait object</span>
<span class="kw">struct</span> <span class="ident">MyWrapper</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> { <span class="ident">foo</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">MyTrait</span> }

<span class="kw">impl</span> <span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">MyWrapper</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20MyTrait%20%7B%7D%0A%0A%2F%2For%20Box%3CMyTrait%3E%2C%20if%20you%20wanted%20an%20owned%20trait%20object%0Astruct%20MyWrapper%3C'a%3E%20%7B%20foo%3A%20%26'a%20MyTrait%20%7D%0A%0Aimpl%20%3C'a%3E%20Drop%20for%20MyWrapper%3C'a%3E%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0121" class="section-header"><a href="#E0121">E0121</a></h2>
<p>The type placeholder <code>_</code> was used within a type on an item’s signature.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="kw">_</span> { <span class="number">5</span> } <span class="comment">// error</span>

<span class="kw">static</span> <span class="ident">BAR</span>: <span class="kw">_</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>; <span class="comment">// error</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo()%20-%3E%20_%20%7B%205%20%7D%20%2F%2F%20error%0A%0Astatic%20BAR%3A%20_%20%3D%20%22test%22%3B%20%2F%2F%20error%0A%7D&amp;edition=2015">Run</a></div>
<p>In those cases, you need to provide the type explicitly:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i32</span> { <span class="number">5</span> } <span class="comment">// ok!</span>

<span class="kw">static</span> <span class="ident">BAR</span>: <span class="kw-2">&amp;</span><span class="ident">str</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo()%20-%3E%20i32%20%7B%205%20%7D%20%2F%2F%20ok!%0A%0Astatic%20BAR%3A%20%26str%20%3D%20%22test%22%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>The type placeholder <code>_</code> can be used outside item’s signature as follows:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="string">&quot;a4a&quot;</span>.<span class="ident">split</span>(<span class="string">&#39;4&#39;</span>)
    .<span class="ident">collect</span>::<span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="kw">_</span><span class="op">&gt;</span><span class="op">&gt;</span>(); <span class="comment">// No need to precise the Vec&#39;s generic type.</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%20%22a4a%22.split('4')%0A%20%20%20%20.collect%3A%3A%3CVec%3C_%3E%3E()%3B%20%2F%2F%20No%20need%20to%20precise%20the%20Vec's%20generic%20type.%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0124" class="section-header"><a href="#E0124">E0124</a></h2>
<p>A struct was declared with two fields having the same name.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">field1</span>: <span class="ident">i32</span>,
    <span class="ident">field1</span>: <span class="ident">i32</span>, <span class="comment">// error: field is already declared</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%20%7B%0A%20%20%20%20field1%3A%20i32%2C%0A%20%20%20%20field1%3A%20i32%2C%20%2F%2F%20error%3A%20field%20is%20already%20declared%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify that the field names have been correctly spelled. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">field1</span>: <span class="ident">i32</span>,
    <span class="ident">field2</span>: <span class="ident">i32</span>, <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%20%7B%0A%20%20%20%20field1%3A%20i32%2C%0A%20%20%20%20field2%3A%20i32%2C%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0128" class="section-header"><a href="#E0128">E0128</a></h2>
<p>A type parameter with default value is using forward declared identifier.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span> <span class="op">=</span> <span class="ident">U</span>, <span class="ident">U</span> <span class="op">=</span> ()<span class="op">&gt;</span> {
    <span class="ident">field1</span>: <span class="ident">T</span>,
    <span class="ident">field2</span>: <span class="ident">U</span>,
}
<span class="comment">// error: type parameters with a default cannot use forward declared</span>
<span class="comment">//        identifiers</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3CT%20%3D%20U%2C%20U%20%3D%20()%3E%20%7B%0A%20%20%20%20field1%3A%20T%2C%0A%20%20%20%20field2%3A%20U%2C%0A%7D%0A%2F%2F%20error%3A%20type%20parameters%20with%20a%20default%20cannot%20use%20forward%20declared%0A%2F%2F%20%20%20%20%20%20%20%20identifiers%0A%7D&amp;edition=2015">Run</a></div>
<p>Type parameter defaults can only use parameters that occur before them. Since
type parameters are evaluated in-order, this issue could be fixed by doing:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">U</span> <span class="op">=</span> (), <span class="ident">T</span> <span class="op">=</span> <span class="ident">U</span><span class="op">&gt;</span> {
    <span class="ident">field1</span>: <span class="ident">T</span>,
    <span class="ident">field2</span>: <span class="ident">U</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3CU%20%3D%20()%2C%20T%20%3D%20U%3E%20%7B%0A%20%20%20%20field1%3A%20T%2C%0A%20%20%20%20field2%3A%20U%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Please also verify that this wasn’t because of a name-clash and rename the type
parameter if so.</p>
</div>
<div class="error-described"><h2 id="E0130" class="section-header"><a href="#E0130">E0130</a></h2>
<p>A pattern was declared as an argument in a foreign function declaration.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>((<span class="ident">a</span>, <span class="ident">b</span>): (<span class="ident">u32</span>, <span class="ident">u32</span>)); <span class="comment">// error: patterns aren&#39;t allowed in foreign</span>
                                <span class="comment">//        function declarations</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aextern%20%22C%22%20%7B%0A%20%20%20%20fn%20foo((a%2C%20b)%3A%20(u32%2C%20u32))%3B%20%2F%2F%20error%3A%20patterns%20aren't%20allowed%20in%20foreign%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20function%20declarations%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, replace the pattern argument with a regular one. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">SomeStruct</span> {
    <span class="ident">a</span>: <span class="ident">u32</span>,
    <span class="ident">b</span>: <span class="ident">u32</span>,
}

<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">s</span>: <span class="ident">SomeStruct</span>); <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20SomeStruct%20%7B%0A%20%20%20%20a%3A%20u32%2C%0A%20%20%20%20b%3A%20u32%2C%0A%7D%0A%0Aextern%20%22C%22%20%7B%0A%20%20%20%20fn%20foo(s%3A%20SomeStruct)%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Or:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">a</span>: (<span class="ident">u32</span>, <span class="ident">u32</span>)); <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aextern%20%22C%22%20%7B%0A%20%20%20%20fn%20foo(a%3A%20(u32%2C%20u32))%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0131" class="section-header"><a href="#E0131">E0131</a></h2>
<p>The <code>main</code> function was defined with generic parameters.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>() { <span class="comment">// error: main function is not allowed to have generic parameters</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main%3CT%3E()%20%7B%20%2F%2F%20error%3A%20main%20function%20is%20not%20allowed%20to%20have%20generic%20parameters%0A%7D&amp;edition=2015">Run</a></div>
<p>It is not possible to define the <code>main</code> function with generic parameters.
It must not take any arguments.</p>
</div>
<div class="error-described"><h2 id="E0132" class="section-header"><a href="#E0132">E0132</a></h2>
<p>A function with the <code>start</code> attribute was declared with type parameters.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">start</span>)]</span>

<span class="attribute">#[<span class="ident">start</span>]</span>
<span class="kw">fn</span> <span class="ident">f</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(start)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bstart%5D%0Afn%20f%3CT%3E()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>It is not possible to declare type parameters on a function that has the <code>start</code>
attribute. Such a function must have the following type signature (for more
information, view <a href="https://doc.rust-lang.org/unstable-book/language-features/lang-items.html#writing-an-executable-without-stdlib">the unstable book</a>):</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span>(<span class="ident">isize</span>, <span class="kw-2">*</span><span class="kw">const</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">u8</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">isize</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20_%3A%0Afn(isize%2C%20*const%20*const%20u8)%20-%3E%20isize%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">start</span>)]</span>

<span class="attribute">#[<span class="ident">start</span>]</span>
<span class="kw">fn</span> <span class="ident">my_start</span>(<span class="ident">argc</span>: <span class="ident">isize</span>, <span class="ident">argv</span>: <span class="kw-2">*</span><span class="kw">const</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">u8</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">isize</span> {
    <span class="number">0</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(start)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bstart%5D%0Afn%20my_start(argc%3A%20isize%2C%20argv%3A%20*const%20*const%20u8)%20-%3E%20isize%20%7B%0A%20%20%20%200%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0133" class="section-header"><a href="#E0133">E0133</a></h2>
<p>Unsafe code was used outside of an unsafe function or block.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">f</span>() { <span class="kw">return</span>; } <span class="comment">// This is the unsafe code</span>

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">f</span>(); <span class="comment">// error: call to unsafe function requires unsafe function or block</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aunsafe%20fn%20f()%20%7B%20return%3B%20%7D%20%2F%2F%20This%20is%20the%20unsafe%20code%0A%0Afn%20main()%20%7B%0A%20%20%20%20f()%3B%20%2F%2F%20error%3A%20call%20to%20unsafe%20function%20requires%20unsafe%20function%20or%20block%0A%7D&amp;edition=2015">Run</a></div>
<p>Using unsafe functionality is potentially dangerous and disallowed by safety
checks. Examples:</p>
<ul>
<li>Dereferencing raw pointers</li>
<li>Calling functions via FFI</li>
<li>Calling functions marked unsafe</li>
</ul>
<p>These safety checks can be relaxed for a section of the code by wrapping the
unsafe instructions with an <code>unsafe</code> block. For instance:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">unsafe</span> <span class="kw">fn</span> <span class="ident">f</span>() { <span class="kw">return</span>; }

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">unsafe</span> { <span class="ident">f</span>(); } <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aunsafe%20fn%20f()%20%7B%20return%3B%20%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20unsafe%20%7B%20f()%3B%20%7D%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>See the <a href="https://doc.rust-lang.org/book/ch19-01-unsafe-rust.html">unsafe section</a> of the Book for more details.</p>
</div>
<div class="error-described"><h2 id="E0136" class="section-header"><a href="#E0136">E0136</a></h2>
<p>More than one <code>main</code> function was found.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// ...</span>
}

<span class="comment">// ...</span>

<span class="kw">fn</span> <span class="ident">main</span>() { <span class="comment">// error!</span>
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%0A%2F%2F%20...%0A%0Afn%20main()%20%7B%20%2F%2F%20error!%0A%20%20%20%20%2F%2F%20...%0A%7D&amp;edition=2015">Run</a></div>
<p>A binary can only have one entry point, and by default that entry point is the
<code>main()</code> function. If there are multiple instances of this function, please
rename one of them.</p>
</div>
<div class="error-described"><h2 id="E0137" class="section-header"><a href="#E0137">E0137</a></h2>
<p>More than one function was declared with the <code>#[main]</code> attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">main</span>)]</span>

<span class="attribute">#[<span class="ident">main</span>]</span>
<span class="kw">fn</span> <span class="ident">foo</span>() {}

<span class="attribute">#[<span class="ident">main</span>]</span>
<span class="kw">fn</span> <span class="ident">f</span>() {} <span class="comment">// error: multiple functions with a `#[main]` attribute</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(main)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bmain%5D%0Afn%20foo()%20%7B%7D%0A%0A%23%5Bmain%5D%0Afn%20f()%20%7B%7D%20%2F%2F%20error%3A%20multiple%20functions%20with%20a%20%60%23%5Bmain%5D%60%20attribute%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>This error indicates that the compiler found multiple functions with the
<code>#[main]</code> attribute. This is an error because there must be a unique entry
point into a Rust program. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">main</span>)]</span>

<span class="attribute">#[<span class="ident">main</span>]</span>
<span class="kw">fn</span> <span class="ident">f</span>() {} <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(main)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bmain%5D%0Afn%20f()%20%7B%7D%20%2F%2F%20ok!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0138" class="section-header"><a href="#E0138">E0138</a></h2>
<p>More than one function was declared with the <code>#[start]</code> attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">start</span>)]</span>

<span class="attribute">#[<span class="ident">start</span>]</span>
<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">argc</span>: <span class="ident">isize</span>, <span class="ident">argv</span>: <span class="kw-2">*</span><span class="kw">const</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">u8</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">isize</span> {}

<span class="attribute">#[<span class="ident">start</span>]</span>
<span class="kw">fn</span> <span class="ident">f</span>(<span class="ident">argc</span>: <span class="ident">isize</span>, <span class="ident">argv</span>: <span class="kw-2">*</span><span class="kw">const</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">u8</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">isize</span> {}
<span class="comment">// error: multiple &#39;start&#39; functions</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(start)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bstart%5D%0Afn%20foo(argc%3A%20isize%2C%20argv%3A%20*const%20*const%20u8)%20-%3E%20isize%20%7B%7D%0A%0A%23%5Bstart%5D%0Afn%20f(argc%3A%20isize%2C%20argv%3A%20*const%20*const%20u8)%20-%3E%20isize%20%7B%7D%0A%2F%2F%20error%3A%20multiple%20'start'%20functions%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>This error indicates that the compiler found multiple functions with the
<code>#[start]</code> attribute. This is an error because there must be a unique entry
point into a Rust program. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">start</span>)]</span>

<span class="attribute">#[<span class="ident">start</span>]</span>
<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">argc</span>: <span class="ident">isize</span>, <span class="ident">argv</span>: <span class="kw-2">*</span><span class="kw">const</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">u8</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">isize</span> { <span class="number">0</span> } <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(start)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bstart%5D%0Afn%20foo(argc%3A%20isize%2C%20argv%3A%20*const%20*const%20u8)%20-%3E%20isize%20%7B%200%20%7D%20%2F%2F%20ok!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0139" class="section-header"><a href="#E0139">E0139</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-12" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-12">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>There are various restrictions on transmuting between types in Rust; for example
types being transmuted must have the same size. To apply all these restrictions,
the compiler must know the exact types that may be transmuted. When type
parameters are involved, this cannot always be done.</p>
<p>So, for example, the following is not allowed:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">mem</span>::<span class="ident">transmute</span>;

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>);

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>) {
    <span class="comment">// we are transmuting between Vec&lt;T&gt; and Foo&lt;F&gt; here</span>
    <span class="kw">let</span> <span class="ident">y</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="op">=</span> <span class="kw">unsafe</span> { <span class="ident">transmute</span>(<span class="ident">x</span>) };
    <span class="comment">// do something with y</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Amem%3A%3Atransmute%3B%0A%0Astruct%20Foo%3CT%3E(Vec%3CT%3E)%3B%0A%0Afn%20foo%3CT%3E(x%3A%20Vec%3CT%3E)%20%7B%0A%20%20%20%20%2F%2F%20we%20are%20transmuting%20between%20Vec%3CT%3E%20and%20Foo%3CF%3E%20here%0A%20%20%20%20let%20y%3A%20Foo%3CT%3E%20%3D%20unsafe%20%7B%20transmute(x)%20%7D%3B%0A%20%20%20%20%2F%2F%20do%20something%20with%20y%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In this specific case there’s a good chance that the transmute is harmless (but
this is not guaranteed by Rust). However, when alignment and enum optimizations
come into the picture, it’s quite likely that the sizes may or may not match
with different type parameter substitutions. It’s not possible to check this for
<em>all</em> possible types, so <code>transmute()</code> simply only accepts types without any
unsubstituted type parameters.</p>
<p>If you need this, there’s a good chance you’re doing something wrong. Keep in
mind that Rust doesn’t guarantee much about the layout of different structs
(even two structs with identical declarations may have different layouts). If
there is a solution that avoids the transmute entirely, try it instead.</p>
<p>If it’s possible, hand-monomorphize the code by writing the function for each
possible type substitution. It’s possible to use traits to do this cleanly,
for example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">mem</span>::<span class="ident">transmute</span>;

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>);

<span class="kw">trait</span> <span class="ident">MyTransmutableType</span>: <span class="ident">Sized</span> {
    <span class="kw">fn</span> <span class="ident">transmute</span>(<span class="kw">_</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="self">Self</span><span class="op">&gt;</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="self">Self</span><span class="op">&gt;</span>;
}

<span class="kw">impl</span> <span class="ident">MyTransmutableType</span> <span class="kw">for</span> <span class="ident">u8</span> {
    <span class="kw">fn</span> <span class="ident">transmute</span>(<span class="ident">x</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span> {
        <span class="kw">unsafe</span> { <span class="ident">transmute</span>(<span class="ident">x</span>) }
    }
}

<span class="kw">impl</span> <span class="ident">MyTransmutableType</span> <span class="kw">for</span> <span class="ident">String</span> {
    <span class="kw">fn</span> <span class="ident">transmute</span>(<span class="ident">x</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">String</span><span class="op">&gt;</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">String</span><span class="op">&gt;</span> {
        <span class="kw">unsafe</span> { <span class="ident">transmute</span>(<span class="ident">x</span>) }
    }
}

<span class="comment">// ... more impls for the types you intend to transmute</span>

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">MyTransmutableType</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>) {
    <span class="kw">let</span> <span class="ident">y</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="op">=</span> <span class="op">&lt;</span><span class="ident">T</span> <span class="kw">as</span> <span class="ident">MyTransmutableType</span><span class="op">&gt;</span>::<span class="ident">transmute</span>(<span class="ident">x</span>);
    <span class="comment">// do something with y</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Amem%3A%3Atransmute%3B%0A%0Astruct%20Foo%3CT%3E(Vec%3CT%3E)%3B%0A%0Atrait%20MyTransmutableType%3A%20Sized%20%7B%0A%20%20%20%20fn%20transmute(_%3A%20Vec%3CSelf%3E)%20-%3E%20Foo%3CSelf%3E%3B%0A%7D%0A%0Aimpl%20MyTransmutableType%20for%20u8%20%7B%0A%20%20%20%20fn%20transmute(x%3A%20Vec%3Cu8%3E)%20-%3E%20Foo%3Cu8%3E%20%7B%0A%20%20%20%20%20%20%20%20unsafe%20%7B%20transmute(x)%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Aimpl%20MyTransmutableType%20for%20String%20%7B%0A%20%20%20%20fn%20transmute(x%3A%20Vec%3CString%3E)%20-%3E%20Foo%3CString%3E%20%7B%0A%20%20%20%20%20%20%20%20unsafe%20%7B%20transmute(x)%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0A%2F%2F%20...%20more%20impls%20for%20the%20types%20you%20intend%20to%20transmute%0A%0Afn%20foo%3CT%3A%20MyTransmutableType%3E(x%3A%20Vec%3CT%3E)%20%7B%0A%20%20%20%20let%20y%3A%20Foo%3CT%3E%20%3D%20%3CT%20as%20MyTransmutableType%3E%3A%3Atransmute(x)%3B%0A%20%20%20%20%2F%2F%20do%20something%20with%20y%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Each impl will be checked for a size match in the transmute as usual, and since
there are no unbound type parameters involved, this should compile unless there
is a size mismatch in one of the impls.</p>
<p>It is also possible to manually transmute:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">unsafe</span> {
    <span class="ident">ptr</span>::<span class="ident">read</span>(<span class="kw-2">&amp;</span><span class="ident">v</span> <span class="kw">as</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="kw">_</span> <span class="kw">as</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">SomeType</span>) <span class="comment">// `v` transmuted to `SomeType`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aptr%3B%0Alet%20v%20%3D%20Some(%22value%22)%3B%0Atype%20SomeType%20%3D%20%26'static%20%5Bu8%5D%3B%0Aunsafe%20%7B%0A%20%20%20%20ptr%3A%3Aread(%26v%20as%20*const%20_%20as%20*const%20SomeType)%20%2F%2F%20%60v%60%20transmuted%20to%20%60SomeType%60%0A%7D%0A%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Note that this does not move <code>v</code> (unlike <code>transmute</code>), and may need a
call to <code>mem::forget(v)</code> in case you want to avoid destructors being called.</p>
</div>
<div class="error-described"><h2 id="E0152" class="section-header"><a href="#E0152">E0152</a></h2>
<p>A lang item was redefined.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">lang_items</span>)]</span>

<span class="attribute">#[<span class="ident">lang</span> <span class="op">=</span> <span class="string">&quot;owned_box&quot;</span>]</span>
<span class="kw">struct</span> <span class="ident">Foo</span>; <span class="comment">// error: duplicate lang item found: `owned_box`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(lang_items)%5D%0A%0Afn%20main()%20%7B%0A%23%5Blang%20%3D%20%22owned_box%22%5D%0Astruct%20Foo%3B%20%2F%2F%20error%3A%20duplicate%20lang%20item%20found%3A%20%60owned_box%60%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Lang items are already implemented in the standard library. Unless you are
writing a free-standing application (e.g., a kernel), you do not need to provide
them yourself.</p>
<p>You can build a free-standing crate by adding <code>#![no_std]</code> to the crate
attributes:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="attribute">#![<span class="ident">no_std</span>]</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bno_std%5D%0A&amp;edition=2015">Run</a></div>
<p>See also the <a href="https://doc.rust-lang.org/unstable-book/language-features/lang-items.html#writing-an-executable-without-stdlib">unstable book</a>.</p>
</div>
<div class="error-described"><h2 id="E0154" class="section-header"><a href="#E0154">E0154</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-13" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-13">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>Imports (<code>use</code> statements) are not allowed after non-item statements, such as
variable declarations and expression statements.</p>
<p>Here is an example that demonstrates the error:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">f</span>() {
    <span class="comment">// Variable declaration before import</span>
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">0</span>;
    <span class="kw">use</span> <span class="ident">std</span>::<span class="ident">io</span>::<span class="ident">Read</span>;
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20f()%20%7B%0A%20%20%20%20%2F%2F%20Variable%20declaration%20before%20import%0A%20%20%20%20let%20x%20%3D%200%3B%0A%20%20%20%20use%20std%3A%3Aio%3A%3ARead%3B%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The solution is to declare the imports at the top of the block, function, or
file.</p>
<p>Here is the previous example again, with the correct order:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">f</span>() {
    <span class="kw">use</span> <span class="ident">std</span>::<span class="ident">io</span>::<span class="ident">Read</span>;
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">0</span>;
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20f()%20%7B%0A%20%20%20%20use%20std%3A%3Aio%3A%3ARead%3B%0A%20%20%20%20let%20x%20%3D%200%3B%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>See the <a href="https://doc.rust-lang.org/reference/statements.html#declaration-statements">Declaration Statements</a> section of the
reference for more information about what constitutes an item declaration
and what does not.</p>
</div>
<div class="error-described"><h2 id="E0158" class="section-header"><a href="#E0158">E0158</a></h2>
<p>An associated const has been referenced in a pattern.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">EFoo</span> { <span class="ident">A</span>, <span class="ident">B</span>, <span class="ident">C</span>, <span class="ident">D</span> }

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">const</span> <span class="ident">X</span>: <span class="ident">EFoo</span>;
}

<span class="kw">fn</span> <span class="ident">test</span><span class="op">&lt;</span><span class="ident">A</span>: <span class="ident">Foo</span><span class="op">&gt;</span>(<span class="ident">arg</span>: <span class="ident">EFoo</span>) {
    <span class="kw">match</span> <span class="ident">arg</span> {
        <span class="ident">A</span>::<span class="ident">X</span> <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">// error!</span>
            <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;A::X&quot;</span>);
        }
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20EFoo%20%7B%20A%2C%20B%2C%20C%2C%20D%20%7D%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20const%20X%3A%20EFoo%3B%0A%7D%0A%0Afn%20test%3CA%3A%20Foo%3E(arg%3A%20EFoo)%20%7B%0A%20%20%20%20match%20arg%20%7B%0A%20%20%20%20%20%20%20%20A%3A%3AX%20%3D%3E%20%7B%20%2F%2F%20error!%0A%20%20%20%20%20%20%20%20%20%20%20%20println!(%22A%3A%3AX%22)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p><code>const</code> and <code>static</code> mean different things. A <code>const</code> is a compile-time
constant, an alias for a literal value. This property means you can match it
directly within a pattern.</p>
<p>The <code>static</code> keyword, on the other hand, guarantees a fixed location in memory.
This does not always mean that the value is constant. For example, a global
mutex can be declared <code>static</code> as well.</p>
<p>If you want to match against a <code>static</code>, consider using a guard instead:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">static</span> <span class="ident">FORTY_TWO</span>: <span class="ident">i32</span> <span class="op">=</span> <span class="number">42</span>;

<span class="kw">match</span> <span class="prelude-val">Some</span>(<span class="number">42</span>) {
    <span class="prelude-val">Some</span>(<span class="ident">x</span>) <span class="kw">if</span> <span class="ident">x</span> <span class="op">=</span><span class="op">=</span> <span class="ident">FORTY_TWO</span> <span class="op">=</span><span class="op">&gt;</span> {}
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astatic%20FORTY_TWO%3A%20i32%20%3D%2042%3B%0A%0Amatch%20Some(42)%20%7B%0A%20%20%20%20Some(x)%20if%20x%20%3D%3D%20FORTY_TWO%20%3D%3E%20%7B%7D%0A%20%20%20%20_%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0161" class="section-header"><a href="#E0161">E0161</a></h2>
<p>A value was moved whose size was not known at compile time.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">box_syntax</span>)]</span>

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">array</span>: <span class="kw-2">&amp;</span>[<span class="ident">isize</span>] <span class="op">=</span> <span class="kw-2">&amp;</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];
    <span class="kw">let</span> <span class="ident">_x</span>: <span class="ident">Box</span><span class="op">&lt;</span>[<span class="ident">isize</span>]<span class="op">&gt;</span> <span class="op">=</span> <span class="kw">box</span> <span class="kw-2">*</span><span class="ident">array</span>;
    <span class="comment">// error: cannot move a value of type [isize]: the size of [isize] cannot</span>
    <span class="comment">//        be statically determined</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(box_syntax)%5D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20array%3A%20%26%5Bisize%5D%20%3D%20%26%5B1%2C%202%2C%203%5D%3B%0A%20%20%20%20let%20_x%3A%20Box%3C%5Bisize%5D%3E%20%3D%20box%20*array%3B%0A%20%20%20%20%2F%2F%20error%3A%20cannot%20move%20a%20value%20of%20type%20%5Bisize%5D%3A%20the%20size%20of%20%5Bisize%5D%20cannot%0A%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20be%20statically%20determined%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>In Rust, you can only move a value when its size is known at compile time.</p>
<p>To work around this restriction, consider “hiding” the value behind a reference:
either <code>&amp;x</code> or <code>&amp;mut x</code>. Since a reference has a fixed size, this lets you move
it around as usual. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">box_syntax</span>)]</span>

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">array</span>: <span class="kw-2">&amp;</span>[<span class="ident">isize</span>] <span class="op">=</span> <span class="kw-2">&amp;</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];
    <span class="kw">let</span> <span class="ident">_x</span>: <span class="ident">Box</span><span class="op">&lt;</span><span class="kw-2">&amp;</span>[<span class="ident">isize</span>]<span class="op">&gt;</span> <span class="op">=</span> <span class="kw">box</span> <span class="ident">array</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(box_syntax)%5D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20array%3A%20%26%5Bisize%5D%20%3D%20%26%5B1%2C%202%2C%203%5D%3B%0A%20%20%20%20let%20_x%3A%20Box%3C%26%5Bisize%5D%3E%20%3D%20box%20array%3B%20%2F%2F%20ok!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0162" class="section-header"><a href="#E0162">E0162</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-14" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-14">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>An <code>if let</code> pattern attempts to match the pattern, and enters the body if the
match was successful. If the match is irrefutable (when it cannot fail to
match), use a regular <code>let</code>-binding instead. For instance:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Irrefutable</span>(<span class="ident">i32</span>);
<span class="kw">let</span> <span class="ident">irr</span> <span class="op">=</span> <span class="ident">Irrefutable</span>(<span class="number">0</span>);

<span class="comment">// This fails to compile because the match is irrefutable.</span>
<span class="kw">if</span> <span class="kw">let</span> <span class="ident">Irrefutable</span>(<span class="ident">x</span>) <span class="op">=</span> <span class="ident">irr</span> {
    <span class="comment">// This body will always be executed.</span>
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Irrefutable(i32)%3B%0Alet%20irr%20%3D%20Irrefutable(0)%3B%0A%0A%2F%2F%20This%20fails%20to%20compile%20because%20the%20match%20is%20irrefutable.%0Aif%20let%20Irrefutable(x)%20%3D%20irr%20%7B%0A%20%20%20%20%2F%2F%20This%20body%20will%20always%20be%20executed.%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Try this instead:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Irrefutable</span>(<span class="ident">i32</span>);
<span class="kw">let</span> <span class="ident">irr</span> <span class="op">=</span> <span class="ident">Irrefutable</span>(<span class="number">0</span>);

<span class="kw">let</span> <span class="ident">Irrefutable</span>(<span class="ident">x</span>) <span class="op">=</span> <span class="ident">irr</span>;
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">x</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Irrefutable(i32)%3B%0Alet%20irr%20%3D%20Irrefutable(0)%3B%0A%0Alet%20Irrefutable(x)%20%3D%20irr%3B%0Aprintln!(%22%7B%7D%22%2C%20x)%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0164" class="section-header"><a href="#E0164">E0164</a></h2>
<p>Something which is neither a tuple struct nor a tuple variant was used as a
pattern.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">A</span> {
    <span class="ident">B</span>,
    <span class="ident">C</span>,
}

<span class="kw">impl</span> <span class="ident">A</span> {
    <span class="kw">fn</span> <span class="ident">new</span>() {}
}

<span class="kw">fn</span> <span class="ident">bar</span>(<span class="ident">foo</span>: <span class="ident">A</span>) {
    <span class="kw">match</span> <span class="ident">foo</span> {
        <span class="ident">A</span>::<span class="ident">new</span>() <span class="op">=</span><span class="op">&gt;</span> (), <span class="comment">// error!</span>
        <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> {}
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20A%20%7B%0A%20%20%20%20B%2C%0A%20%20%20%20C%2C%0A%7D%0A%0Aimpl%20A%20%7B%0A%20%20%20%20fn%20new()%20%7B%7D%0A%7D%0A%0Afn%20bar(foo%3A%20A)%20%7B%0A%20%20%20%20match%20foo%20%7B%0A%20%20%20%20%20%20%20%20A%3A%3Anew()%20%3D%3E%20()%2C%20%2F%2F%20error!%0A%20%20%20%20%20%20%20%20_%20%3D%3E%20%7B%7D%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This error means that an attempt was made to match something which is neither a
tuple struct nor a tuple variant. Only these two elements are allowed as a
pattern:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">A</span> {
    <span class="ident">B</span>,
    <span class="ident">C</span>,
}

<span class="kw">impl</span> <span class="ident">A</span> {
    <span class="kw">fn</span> <span class="ident">new</span>() {}
}

<span class="kw">fn</span> <span class="ident">bar</span>(<span class="ident">foo</span>: <span class="ident">A</span>) {
    <span class="kw">match</span> <span class="ident">foo</span> {
        <span class="ident">A</span>::<span class="ident">B</span> <span class="op">=</span><span class="op">&gt;</span> (), <span class="comment">// ok!</span>
        <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> {}
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20A%20%7B%0A%20%20%20%20B%2C%0A%20%20%20%20C%2C%0A%7D%0A%0Aimpl%20A%20%7B%0A%20%20%20%20fn%20new()%20%7B%7D%0A%7D%0A%0Afn%20bar(foo%3A%20A)%20%7B%0A%20%20%20%20match%20foo%20%7B%0A%20%20%20%20%20%20%20%20A%3A%3AB%20%3D%3E%20()%2C%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20_%20%3D%3E%20%7B%7D%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0165" class="section-header"><a href="#E0165">E0165</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-15" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-15">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>A <code>while let</code> pattern attempts to match the pattern, and enters the body if the
match was successful. If the match is irrefutable (when it cannot fail to
match), use a regular <code>let</code>-binding inside a <code>loop</code> instead. For instance:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Irrefutable</span>(<span class="ident">i32</span>);
<span class="kw">let</span> <span class="ident">irr</span> <span class="op">=</span> <span class="ident">Irrefutable</span>(<span class="number">0</span>);

<span class="comment">// This fails to compile because the match is irrefutable.</span>
<span class="kw">while</span> <span class="kw">let</span> <span class="ident">Irrefutable</span>(<span class="ident">x</span>) <span class="op">=</span> <span class="ident">irr</span> {
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Irrefutable(i32)%3B%0Alet%20irr%20%3D%20Irrefutable(0)%3B%0A%0A%2F%2F%20This%20fails%20to%20compile%20because%20the%20match%20is%20irrefutable.%0Awhile%20let%20Irrefutable(x)%20%3D%20irr%20%7B%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Try this instead:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Irrefutable</span>(<span class="ident">i32</span>);
<span class="kw">let</span> <span class="ident">irr</span> <span class="op">=</span> <span class="ident">Irrefutable</span>(<span class="number">0</span>);

<span class="kw">loop</span> {
    <span class="kw">let</span> <span class="ident">Irrefutable</span>(<span class="ident">x</span>) <span class="op">=</span> <span class="ident">irr</span>;
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Irrefutable(i32)%3B%0Alet%20irr%20%3D%20Irrefutable(0)%3B%0A%0Aloop%20%7B%0A%20%20%20%20let%20Irrefutable(x)%20%3D%20irr%3B%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0170" class="section-header"><a href="#E0170">E0170</a></h2>
<p>A pattern binding is using the same name as one of the variants of a type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">Method</span> {
    <span class="ident">GET</span>,
    <span class="ident">POST</span>,
}

<span class="kw">fn</span> <span class="ident">is_empty</span>(<span class="ident">s</span>: <span class="ident">Method</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span> {
    <span class="kw">match</span> <span class="ident">s</span> {
        <span class="ident">GET</span> <span class="op">=</span><span class="op">&gt;</span> <span class="bool-val">true</span>,
        <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> <span class="bool-val">false</span>
    }
}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bdeny(warnings)%5D%0Aenum%20Method%20%7B%0A%20%20%20%20GET%2C%0A%20%20%20%20POST%2C%0A%7D%0A%0Afn%20is_empty(s%3A%20Method)%20-%3E%20bool%20%7B%0A%20%20%20%20match%20s%20%7B%0A%20%20%20%20%20%20%20%20GET%20%3D%3E%20true%2C%0A%20%20%20%20%20%20%20%20_%20%3D%3E%20false%0A%20%20%20%20%7D%0A%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>Enum variants are qualified by default. For example, given this type:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">Method</span> {
    <span class="ident">GET</span>,
    <span class="ident">POST</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Method%20%7B%0A%20%20%20%20GET%2C%0A%20%20%20%20POST%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>You would match it using:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">Method</span> {
    <span class="ident">GET</span>,
    <span class="ident">POST</span>,
}

<span class="kw">let</span> <span class="ident">m</span> <span class="op">=</span> <span class="ident">Method</span>::<span class="ident">GET</span>;

<span class="kw">match</span> <span class="ident">m</span> {
    <span class="ident">Method</span>::<span class="ident">GET</span> <span class="op">=</span><span class="op">&gt;</span> {},
    <span class="ident">Method</span>::<span class="ident">POST</span> <span class="op">=</span><span class="op">&gt;</span> {},
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Method%20%7B%0A%20%20%20%20GET%2C%0A%20%20%20%20POST%2C%0A%7D%0A%0Alet%20m%20%3D%20Method%3A%3AGET%3B%0A%0Amatch%20m%20%7B%0A%20%20%20%20Method%3A%3AGET%20%3D%3E%20%7B%7D%2C%0A%20%20%20%20Method%3A%3APOST%20%3D%3E%20%7B%7D%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>If you don’t qualify the names, the code will bind new variables named “GET” and
“POST” instead. This behavior is likely not what you want, so <code>rustc</code> warns when
that happens.</p>
<p>Qualified names are good practice, and most code works well with them. But if
you prefer them unqualified, you can import the variants into scope:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">Method</span>::<span class="kw-2">*</span>;
<span class="kw">enum</span> <span class="ident">Method</span> { <span class="ident">GET</span>, <span class="ident">POST</span> }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20Method%3A%3A*%3B%0Aenum%20Method%20%7B%20GET%2C%20POST%20%7D%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>If you want others to be able to import variants from your module directly, use
<code>pub use</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">pub</span> <span class="kw">use</span> <span class="ident">Method</span>::<span class="kw-2">*</span>;
<span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Method</span> { <span class="ident">GET</span>, <span class="ident">POST</span> }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Apub%20use%20Method%3A%3A*%3B%0Apub%20enum%20Method%20%7B%20GET%2C%20POST%20%7D%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0178" class="section-header"><a href="#E0178">E0178</a></h2>
<p>The <code>+</code> type operator was used in an ambiguous context.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {}

<span class="kw">struct</span> <span class="ident">Bar</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">Foo</span> <span class="op">+</span> <span class="lifetime">&#39;a</span>,     <span class="comment">// error!</span>
    <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="kw-2">mut</span> <span class="ident">Foo</span> <span class="op">+</span> <span class="lifetime">&#39;a</span>, <span class="comment">// error!</span>
    <span class="ident">z</span>: <span class="kw">fn</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Foo</span> <span class="op">+</span> <span class="lifetime">&#39;a</span>, <span class="comment">// error!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%7D%0A%0Astruct%20Bar%3C'a%3E%20%7B%0A%20%20%20%20x%3A%20%26'a%20Foo%20%2B%20'a%2C%20%20%20%20%20%2F%2F%20error!%0A%20%20%20%20y%3A%20%26'a%20mut%20Foo%20%2B%20'a%2C%20%2F%2F%20error!%0A%20%20%20%20z%3A%20fn()%20-%3E%20Foo%20%2B%20'a%2C%20%2F%2F%20error!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In types, the <code>+</code> type operator has low precedence, so it is often necessary
to use parentheses:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {}

<span class="kw">struct</span> <span class="ident">Bar</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> (<span class="ident">Foo</span> <span class="op">+</span> <span class="lifetime">&#39;a</span>),     <span class="comment">// ok!</span>
    <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="kw-2">mut</span> (<span class="ident">Foo</span> <span class="op">+</span> <span class="lifetime">&#39;a</span>), <span class="comment">// ok!</span>
    <span class="ident">z</span>: <span class="kw">fn</span>() <span class="op">-</span><span class="op">&gt;</span> (<span class="ident">Foo</span> <span class="op">+</span> <span class="lifetime">&#39;a</span>), <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%7D%0A%0Astruct%20Bar%3C'a%3E%20%7B%0A%20%20%20%20x%3A%20%26'a%20(Foo%20%2B%20'a)%2C%20%20%20%20%20%2F%2F%20ok!%0A%20%20%20%20y%3A%20%26'a%20mut%20(Foo%20%2B%20'a)%2C%20%2F%2F%20ok!%0A%20%20%20%20z%3A%20fn()%20-%3E%20(Foo%20%2B%20'a)%2C%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>More details can be found in <a href="https://github.com/rust-lang/rfcs/pull/438">RFC 438</a>.</p>
</div>
<div class="error-undescribed"><h2 id="E0183" class="section-header"><a href="#E0183">E0183</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0184" class="section-header"><a href="#E0184">E0184</a></h2>
<p>The <code>Copy</code> trait was implemented on a type with a <code>Drop</code> implementation.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Copy</span>)]</span>
<span class="kw">struct</span> <span class="ident">Foo</span>; <span class="comment">// error!</span>

<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) {
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bderive(Copy)%5D%0Astruct%20Foo%3B%20%2F%2F%20error!%0A%0Aimpl%20Drop%20for%20Foo%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Explicitly implementing both <code>Drop</code> and <code>Copy</code> trait on a type is currently
disallowed. This feature can make some sense in theory, but the current
implementation is incorrect and can lead to memory unsafety (see
<a href="https://github.com/rust-lang/rust/issues/20126">issue #20126</a>), so it has been disabled for now.</p>
</div>
<div class="error-described"><h2 id="E0185" class="section-header"><a href="#E0185">E0185</a></h2>
<p>An associated function for a trait was defined to be static, but an
implementation of the trait declared the same function to be a method (i.e., to
take a <code>self</code> parameter).</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>();
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="comment">// error, method `foo` has a `&amp;self` declaration in the impl, but not in</span>
    <span class="comment">// the trait</span>
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo()%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20%2F%2F%20error%2C%20method%20%60foo%60%20has%20a%20%60%26self%60%20declaration%20in%20the%20impl%2C%20but%20not%20in%0A%20%20%20%20%2F%2F%20the%20trait%0A%20%20%20%20fn%20foo(%26self)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>When a type implements a trait’s associated function, it has to use the same
signature. So in this case, since <code>Foo::foo</code> does not take any argument and
does not return anything, its implementation on <code>Bar</code> should be the same:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>();
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>() {} <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo()%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20fn%20foo()%20%7B%7D%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0186" class="section-header"><a href="#E0186">E0186</a></h2>
<p>An associated function for a trait was defined to be a method (i.e., to take a
<code>self</code> parameter), but an implementation of the trait declared the same function
to be static.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>);
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="comment">// error, method `foo` has a `&amp;self` declaration in the trait, but not in</span>
    <span class="comment">// the impl</span>
    <span class="kw">fn</span> <span class="ident">foo</span>() {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo(%26self)%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20%2F%2F%20error%2C%20method%20%60foo%60%20has%20a%20%60%26self%60%20declaration%20in%20the%20trait%2C%20but%20not%20in%0A%20%20%20%20%2F%2F%20the%20impl%0A%20%20%20%20fn%20foo()%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>When a type implements a trait’s associated function, it has to use the same
signature. So in this case, since <code>Foo::foo</code> takes <code>self</code> as argument and
does not return anything, its implementation on <code>Bar</code> should be the same:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>);
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {} <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo(%26self)%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20fn%20foo(%26self)%20%7B%7D%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0191" class="section-header"><a href="#E0191">E0191</a></h2>
<p>An associated type wasn’t specified for a trait object.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Trait</span> {
    <span class="kw">type</span> <span class="ident">Bar</span>;
}

<span class="kw">type</span> <span class="ident">Foo</span> <span class="op">=</span> <span class="ident">Trait</span>; <span class="comment">// error: the value of the associated type `Bar` (from</span>
                  <span class="comment">//        the trait `Trait`) must be specified</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%0A%20%20%20%20type%20Bar%3B%0A%7D%0A%0Atype%20Foo%20%3D%20Trait%3B%20%2F%2F%20error%3A%20the%20value%20of%20the%20associated%20type%20%60Bar%60%20(from%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20the%20trait%20%60Trait%60)%20must%20be%20specified%0A%7D&amp;edition=2015">Run</a></div>
<p>Trait objects need to have all associated types specified. Please verify that
all associated types of the trait were specified and the correct trait was used.
Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Trait</span> {
    <span class="kw">type</span> <span class="ident">Bar</span>;
}

<span class="kw">type</span> <span class="ident">Foo</span> <span class="op">=</span> <span class="ident">Trait</span><span class="op">&lt;</span><span class="ident">Bar</span><span class="op">=</span><span class="ident">i32</span><span class="op">&gt;</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%0A%20%20%20%20type%20Bar%3B%0A%7D%0A%0Atype%20Foo%20%3D%20Trait%3CBar%3Di32%3E%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0193" class="section-header"><a href="#E0193">E0193</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-16" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-16">Note: this error code is no longer emitted by the compiler.</a></h4>
<p><code>where</code> clauses must use generic type parameters: it does not make sense to use
them otherwise. An example causing this error:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>);
}

<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Copy</span>,<span class="ident">Clone</span>)]</span>
<span class="kw">struct</span> <span class="ident">Wrapper</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">Wrapped</span>: <span class="ident">T</span>
}

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Wrapper</span><span class="op">&lt;</span><span class="ident">u32</span><span class="op">&gt;</span> <span class="kw">where</span> <span class="ident">Wrapper</span><span class="op">&lt;</span><span class="ident">u32</span><span class="op">&gt;</span>: <span class="ident">Clone</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) { }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20bar(%26self)%3B%0A%7D%0A%0A%23%5Bderive(Copy%2CClone)%5D%0Astruct%20Wrapper%3CT%3E%20%7B%0A%20%20%20%20Wrapped%3A%20T%0A%7D%0A%0Aimpl%20Foo%20for%20Wrapper%3Cu32%3E%20where%20Wrapper%3Cu32%3E%3A%20Clone%20%7B%0A%20%20%20%20fn%20bar(%26self)%20%7B%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This use of a <code>where</code> clause is strange - a more common usage would look
something like the following:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>);
}

<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Copy</span>,<span class="ident">Clone</span>)]</span>
<span class="kw">struct</span> <span class="ident">Wrapper</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">Wrapped</span>: <span class="ident">T</span>
}
<span class="kw">impl</span> <span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Wrapper</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="kw">where</span> <span class="ident">Wrapper</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>: <span class="ident">Clone</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) { }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20bar(%26self)%3B%0A%7D%0A%0A%23%5Bderive(Copy%2CClone)%5D%0Astruct%20Wrapper%3CT%3E%20%7B%0A%20%20%20%20Wrapped%3A%20T%0A%7D%0Aimpl%20%3CT%3E%20Foo%20for%20Wrapper%3CT%3E%20where%20Wrapper%3CT%3E%3A%20Clone%20%7B%0A%20%20%20%20fn%20bar(%26self)%20%7B%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, we’re saying that the implementation exists on Wrapper only when the
wrapped type <code>T</code> implements <code>Clone</code>. The <code>where</code> clause is important because
some types will not implement <code>Clone</code>, and thus will not get this method.</p>
<p>In our erroneous example, however, we’re referencing a single concrete type.
Since we know for certain that <code>Wrapper&lt;u32&gt;</code> implements <code>Clone</code>, there’s no
reason to also specify it in a <code>where</code> clause.</p>
</div>
<div class="error-described"><h2 id="E0195" class="section-header"><a href="#E0195">E0195</a></h2>
<p>The lifetime parameters of the method do not match the trait declaration.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Trait</span> {
    <span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>,<span class="lifetime">&#39;b</span>:<span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;b</span> <span class="ident">str</span>);
}

<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>,<span class="lifetime">&#39;b</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;b</span> <span class="ident">str</span>) {
    <span class="comment">// error: lifetime parameters or bounds on method `bar`</span>
    <span class="comment">// do not match the trait declaration</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%0A%20%20%20%20fn%20bar%3C'a%2C'b%3A'a%3E(x%3A%20%26'a%20str%2C%20y%3A%20%26'b%20str)%3B%0A%7D%0A%0Astruct%20Foo%3B%0A%0Aimpl%20Trait%20for%20Foo%20%7B%0A%20%20%20%20fn%20bar%3C'a%2C'b%3E(x%3A%20%26'a%20str%2C%20y%3A%20%26'b%20str)%20%7B%0A%20%20%20%20%2F%2F%20error%3A%20lifetime%20parameters%20or%20bounds%20on%20method%20%60bar%60%0A%20%20%20%20%2F%2F%20do%20not%20match%20the%20trait%20declaration%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The lifetime constraint <code>'b</code> for <code>bar()</code> implementation does not match the
trait declaration. Ensure lifetime declarations match exactly in both trait
declaration and implementation. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Trait</span> {
    <span class="kw">fn</span> <span class="ident">t</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>,<span class="lifetime">&#39;b</span>:<span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;b</span> <span class="ident">str</span>);
}

<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">t</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>,<span class="lifetime">&#39;b</span>:<span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;b</span> <span class="ident">str</span>) { <span class="comment">// ok!</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%0A%20%20%20%20fn%20t%3C'a%2C'b%3A'a%3E(x%3A%20%26'a%20str%2C%20y%3A%20%26'b%20str)%3B%0A%7D%0A%0Astruct%20Foo%3B%0A%0Aimpl%20Trait%20for%20Foo%20%7B%0A%20%20%20%20fn%20t%3C'a%2C'b%3A'a%3E(x%3A%20%26'a%20str%2C%20y%3A%20%26'b%20str)%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0197" class="section-header"><a href="#E0197">E0197</a></h2>
<p>An inherent implementation was marked unsafe.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">unsafe</span> <span class="kw">impl</span> <span class="ident">Foo</span> { } <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aunsafe%20impl%20Foo%20%7B%20%7D%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>Inherent implementations (one that do not implement a trait but provide
methods associated with a type) are always safe because they are not
implementing an unsafe trait. Removing the <code>unsafe</code> keyword from the inherent
implementation will resolve this error.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> { } <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aimpl%20Foo%20%7B%20%7D%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0198" class="section-header"><a href="#E0198">E0198</a></h2>
<p>A negative implementation was marked as unsafe.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">unsafe</span> <span class="kw">impl</span> <span class="op">!</span><span class="ident">Clone</span> <span class="kw">for</span> <span class="ident">Foo</span> { } <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aunsafe%20impl%20!Clone%20for%20Foo%20%7B%20%7D%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>A negative implementation is one that excludes a type from implementing a
particular trait. Not being able to use a trait is always a safe operation,
so negative implementations are always safe and never need to be marked as
unsafe.</p>
<p>This will compile:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">auto_traits</span>)]</span>

<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="ident">auto</span> <span class="kw">trait</span> <span class="ident">Enterprise</span> {}

<span class="kw">impl</span> <span class="op">!</span><span class="ident">Enterprise</span> <span class="kw">for</span> <span class="ident">Foo</span> { }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(auto_traits)%5D%0A%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aauto%20trait%20Enterprise%20%7B%7D%0A%0Aimpl%20!Enterprise%20for%20Foo%20%7B%20%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Please note that negative impls are only allowed for auto traits.</p>
</div>
<div class="error-described"><h2 id="E0199" class="section-header"><a href="#E0199">E0199</a></h2>
<p>A trait implementation was marked as unsafe while the trait is safe.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">trait</span> <span class="ident">Bar</span> { }

<span class="kw">unsafe</span> <span class="kw">impl</span> <span class="ident">Bar</span> <span class="kw">for</span> <span class="ident">Foo</span> { } <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Atrait%20Bar%20%7B%20%7D%0A%0Aunsafe%20impl%20Bar%20for%20Foo%20%7B%20%7D%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>Safe traits should not have unsafe implementations, therefore marking an
implementation for a safe trait unsafe will cause a compiler error. Removing
the unsafe marker on the trait noted in the error will resolve this problem:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">trait</span> <span class="ident">Bar</span> { }

<span class="kw">impl</span> <span class="ident">Bar</span> <span class="kw">for</span> <span class="ident">Foo</span> { } <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Atrait%20Bar%20%7B%20%7D%0A%0Aimpl%20Bar%20for%20Foo%20%7B%20%7D%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0200" class="section-header"><a href="#E0200">E0200</a></h2>
<p>An unsafe trait was implemented without an unsafe implementation.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">unsafe</span> <span class="kw">trait</span> <span class="ident">Bar</span> { }

<span class="kw">impl</span> <span class="ident">Bar</span> <span class="kw">for</span> <span class="ident">Foo</span> { } <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aunsafe%20trait%20Bar%20%7B%20%7D%0A%0Aimpl%20Bar%20for%20Foo%20%7B%20%7D%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>Unsafe traits must have unsafe implementations. This error occurs when an
implementation for an unsafe trait isn’t marked as unsafe. This may be resolved
by marking the unsafe implementation as unsafe.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">unsafe</span> <span class="kw">trait</span> <span class="ident">Bar</span> { }

<span class="kw">unsafe</span> <span class="kw">impl</span> <span class="ident">Bar</span> <span class="kw">for</span> <span class="ident">Foo</span> { } <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aunsafe%20trait%20Bar%20%7B%20%7D%0A%0Aunsafe%20impl%20Bar%20for%20Foo%20%7B%20%7D%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0201" class="section-header"><a href="#E0201">E0201</a></h2>
<p>Two associated items (like methods, associated types, associated functions,
etc.) were defined with the same identifier.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span>(<span class="ident">u8</span>);

<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span> { <span class="self">self</span>.<span class="number">0</span> <span class="op">&gt;</span> <span class="number">5</span> }
    <span class="kw">fn</span> <span class="ident">bar</span>() {} <span class="comment">// error: duplicate associated function</span>
}

<span class="kw">trait</span> <span class="ident">Baz</span> {
    <span class="kw">type</span> <span class="ident">Quux</span>;
    <span class="kw">fn</span> <span class="ident">baz</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span>;
}

<span class="kw">impl</span> <span class="ident">Baz</span> <span class="kw">for</span> <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">Quux</span> <span class="op">=</span> <span class="ident">u32</span>;

    <span class="kw">fn</span> <span class="ident">baz</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span> { <span class="bool-val">true</span> }

    <span class="comment">// error: duplicate method</span>
    <span class="kw">fn</span> <span class="ident">baz</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span> { <span class="self">self</span>.<span class="number">0</span> <span class="op">&gt;</span> <span class="number">5</span> }

    <span class="comment">// error: duplicate associated type</span>
    <span class="kw">type</span> <span class="ident">Quux</span> <span class="op">=</span> <span class="ident">u32</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo(u8)%3B%0A%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20bar(%26self)%20-%3E%20bool%20%7B%20self.0%20%3E%205%20%7D%0A%20%20%20%20fn%20bar()%20%7B%7D%20%2F%2F%20error%3A%20duplicate%20associated%20function%0A%7D%0A%0Atrait%20Baz%20%7B%0A%20%20%20%20type%20Quux%3B%0A%20%20%20%20fn%20baz(%26self)%20-%3E%20bool%3B%0A%7D%0A%0Aimpl%20Baz%20for%20Foo%20%7B%0A%20%20%20%20type%20Quux%20%3D%20u32%3B%0A%0A%20%20%20%20fn%20baz(%26self)%20-%3E%20bool%20%7B%20true%20%7D%0A%0A%20%20%20%20%2F%2F%20error%3A%20duplicate%20method%0A%20%20%20%20fn%20baz(%26self)%20-%3E%20bool%20%7B%20self.0%20%3E%205%20%7D%0A%0A%20%20%20%20%2F%2F%20error%3A%20duplicate%20associated%20type%0A%20%20%20%20type%20Quux%20%3D%20u32%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Note, however, that items with the same name are allowed for inherent <code>impl</code>
blocks that don’t overlap:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">T</span>);

<span class="kw">impl</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span> { <span class="self">self</span>.<span class="number">0</span> <span class="op">&gt;</span> <span class="number">5</span> }
}

<span class="kw">impl</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">bool</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span> { <span class="self">self</span>.<span class="number">0</span> }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3CT%3E(T)%3B%0A%0Aimpl%20Foo%3Cu8%3E%20%7B%0A%20%20%20%20fn%20bar(%26self)%20-%3E%20bool%20%7B%20self.0%20%3E%205%20%7D%0A%7D%0A%0Aimpl%20Foo%3Cbool%3E%20%7B%0A%20%20%20%20fn%20bar(%26self)%20-%3E%20bool%20%7B%20self.0%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0203" class="section-header"><a href="#E0203">E0203</a></h2>
<p>Having multiple relaxed default bounds is unsupported.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Bad</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="question-mark">?</span><span class="ident">Sized</span> <span class="op">+</span> <span class="question-mark">?</span><span class="ident">Send</span><span class="op">&gt;</span>{
    <span class="ident">inner</span>: <span class="ident">T</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Bad%3CT%3A%20%3FSized%20%2B%20%3FSend%3E%7B%0A%20%20%20%20inner%3A%20T%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Here the type <code>T</code> cannot have a relaxed bound for multiple default traits
(<code>Sized</code> and <code>Send</code>). This can be fixed by only using one relaxed bound.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Good</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="question-mark">?</span><span class="ident">Sized</span><span class="op">&gt;</span>{
    <span class="ident">inner</span>: <span class="ident">T</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Good%3CT%3A%20%3FSized%3E%7B%0A%20%20%20%20inner%3A%20T%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0204" class="section-header"><a href="#E0204">E0204</a></h2>
<p>The <code>Copy</code> trait was implemented on a type which contains a field that doesn’t
implement the <code>Copy</code> trait.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">foo</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">u32</span><span class="op">&gt;</span>,
}

<span class="kw">impl</span> <span class="ident">Copy</span> <span class="kw">for</span> <span class="ident">Foo</span> { } <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%20%7B%0A%20%20%20%20foo%3A%20Vec%3Cu32%3E%2C%0A%7D%0A%0Aimpl%20Copy%20for%20Foo%20%7B%20%7D%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>The <code>Copy</code> trait is implemented by default only on primitive types. If your
type only contains primitive types, you’ll be able to implement <code>Copy</code> on it.
Otherwise, it won’t be possible.</p>
<p>Here’s another example that will fail:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Copy</span>)]</span> <span class="comment">// error!</span>
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">ty</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="kw-2">mut</span> <span class="ident">bool</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bderive(Copy)%5D%20%2F%2F%20error!%0Astruct%20Foo%3C'a%3E%20%7B%0A%20%20%20%20ty%3A%20%26'a%20mut%20bool%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This fails because <code>&amp;mut T</code> is not <code>Copy</code>, even when <code>T</code> is <code>Copy</code> (this
differs from the behavior for <code>&amp;T</code>, which is always <code>Copy</code>).</p>
</div>
<div class="error-described"><h2 id="E0205" class="section-header"><a href="#E0205">E0205</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-17" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-17">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>An attempt to implement the <code>Copy</code> trait for an enum failed because one of the
variants does not implement <code>Copy</code>. To fix this, you must implement <code>Copy</code> for
the mentioned variant. Note that this may not be possible, as in the example of</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">Foo</span> {
    <span class="ident">Bar</span>(<span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">u32</span><span class="op">&gt;</span>),
    <span class="ident">Baz</span>,
}

<span class="kw">impl</span> <span class="ident">Copy</span> <span class="kw">for</span> <span class="ident">Foo</span> { }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Foo%20%7B%0A%20%20%20%20Bar(Vec%3Cu32%3E)%2C%0A%20%20%20%20Baz%2C%0A%7D%0A%0Aimpl%20Copy%20for%20Foo%20%7B%20%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This fails because <code>Vec&lt;T&gt;</code> does not implement <code>Copy</code> for any <code>T</code>.</p>
<p>Here’s another example that will fail:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Copy</span>)]</span>
<span class="kw">enum</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">Bar</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="kw-2">mut</span> <span class="ident">bool</span>),
    <span class="ident">Baz</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bderive(Copy)%5D%0Aenum%20Foo%3C'a%3E%20%7B%0A%20%20%20%20Bar(%26'a%20mut%20bool)%2C%0A%20%20%20%20Baz%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This fails because <code>&amp;mut T</code> is not <code>Copy</code>, even when <code>T</code> is <code>Copy</code> (this
differs from the behavior for <code>&amp;T</code>, which is always <code>Copy</code>).</p>
</div>
<div class="error-described"><h2 id="E0206" class="section-header"><a href="#E0206">E0206</a></h2>
<p>The <code>Copy</code> trait was implemented on a type which is neither a struct nor an
enum.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">type</span> <span class="ident">Foo</span> <span class="op">=</span> [<span class="ident">u8</span>; <span class="number">256</span>];
<span class="kw">impl</span> <span class="ident">Copy</span> <span class="kw">for</span> <span class="ident">Foo</span> { } <span class="comment">// error!</span>

<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Copy</span>, <span class="ident">Clone</span>)]</span>
<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Copy</span> <span class="kw">for</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="kw-2">mut</span> <span class="ident">Bar</span> { } <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atype%20Foo%20%3D%20%5Bu8%3B%20256%5D%3B%0Aimpl%20Copy%20for%20Foo%20%7B%20%7D%20%2F%2F%20error!%0A%0A%23%5Bderive(Copy%2C%20Clone)%5D%0Astruct%20Bar%3B%0A%0Aimpl%20Copy%20for%20%26'static%20mut%20Bar%20%7B%20%7D%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>You can only implement <code>Copy</code> for a struct or an enum. Both of the previous
examples will fail, because neither <code>[u8; 256]</code> nor <code>&amp;'static mut Bar</code>
(mutable reference to <code>Bar</code>) is a struct or enum.</p>
</div>
<div class="error-described"><h2 id="E0207" class="section-header"><a href="#E0207">E0207</a></h2>
<p>A type parameter that is specified for <code>impl</code> is not constrained.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Default</span><span class="op">&gt;</span> <span class="ident">Foo</span> {
    <span class="comment">// error: the type parameter `T` is not constrained by the impl trait, self</span>
    <span class="comment">// type, or predicates [E0207]</span>
    <span class="kw">fn</span> <span class="ident">get</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">T</span> {
        <span class="op">&lt;</span><span class="ident">T</span> <span class="kw">as</span> <span class="ident">Default</span><span class="op">&gt;</span>::<span class="ident">default</span>()
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aimpl%3CT%3A%20Default%3E%20Foo%20%7B%0A%20%20%20%20%2F%2F%20error%3A%20the%20type%20parameter%20%60T%60%20is%20not%20constrained%20by%20the%20impl%20trait%2C%20self%0A%20%20%20%20%2F%2F%20type%2C%20or%20predicates%20%5BE0207%5D%0A%20%20%20%20fn%20get(%26self)%20-%3E%20T%20%7B%0A%20%20%20%20%20%20%20%20%3CT%20as%20Default%3E%3A%3Adefault()%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Any type parameter of an <code>impl</code> must meet at least one of
the following criteria:</p>
<ul>
<li>it appears in the <em>implementing type</em> of the impl, e.g. <code>impl&lt;T&gt; Foo&lt;T&gt;</code></li>
<li>for a trait impl, it appears in the <em>implemented trait</em>, e.g.
<code>impl&lt;T&gt; SomeTrait&lt;T&gt; for Foo</code></li>
<li>it is bound as an associated type, e.g. <code>impl&lt;T, U&gt; SomeTrait for T where T: AnotherTrait&lt;AssocType=U&gt;</code></li>
</ul>
<h3 id="error-example-1" class="section-header"><a href="#error-example-1">Error example 1</a></h3>
<p>Suppose we have a struct <code>Foo</code> and we would like to define some methods for it.
The previous code example has a definition which leads to a compiler error:</p>
<p>The problem is that the parameter <code>T</code> does not appear in the implementing type
(<code>Foo</code>) of the impl. In this case, we can fix the error by moving the type
parameter from the <code>impl</code> to the method <code>get</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="comment">// Move the type parameter from the impl to the method</span>
<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">get</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Default</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">T</span> {
        <span class="op">&lt;</span><span class="ident">T</span> <span class="kw">as</span> <span class="ident">Default</span><span class="op">&gt;</span>::<span class="ident">default</span>()
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0A%2F%2F%20Move%20the%20type%20parameter%20from%20the%20impl%20to%20the%20method%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20get%3CT%3A%20Default%3E(%26self)%20-%3E%20T%20%7B%0A%20%20%20%20%20%20%20%20%3CT%20as%20Default%3E%3A%3Adefault()%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<h3 id="error-example-2" class="section-header"><a href="#error-example-2">Error example 2</a></h3>
<p>As another example, suppose we have a <code>Maker</code> trait and want to establish a
type <code>FooMaker</code> that makes <code>Foo</code>s:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Maker</span> {
    <span class="kw">type</span> <span class="ident">Item</span>;
    <span class="kw">fn</span> <span class="ident">make</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span>::<span class="ident">Item</span>;
}

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">foo</span>: <span class="ident">T</span>
}

<span class="kw">struct</span> <span class="ident">FooMaker</span>;

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Default</span><span class="op">&gt;</span> <span class="ident">Maker</span> <span class="kw">for</span> <span class="ident">FooMaker</span> {
<span class="comment">// error: the type parameter `T` is not constrained by the impl trait, self</span>
<span class="comment">// type, or predicates [E0207]</span>
    <span class="kw">type</span> <span class="ident">Item</span> <span class="op">=</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>;

    <span class="kw">fn</span> <span class="ident">make</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
        <span class="ident">Foo</span> { <span class="ident">foo</span>: <span class="op">&lt;</span><span class="ident">T</span> <span class="kw">as</span> <span class="ident">Default</span><span class="op">&gt;</span>::<span class="ident">default</span>() }
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Maker%20%7B%0A%20%20%20%20type%20Item%3B%0A%20%20%20%20fn%20make(%26mut%20self)%20-%3E%20Self%3A%3AItem%3B%0A%7D%0A%0Astruct%20Foo%3CT%3E%20%7B%0A%20%20%20%20foo%3A%20T%0A%7D%0A%0Astruct%20FooMaker%3B%0A%0Aimpl%3CT%3A%20Default%3E%20Maker%20for%20FooMaker%20%7B%0A%2F%2F%20error%3A%20the%20type%20parameter%20%60T%60%20is%20not%20constrained%20by%20the%20impl%20trait%2C%20self%0A%2F%2F%20type%2C%20or%20predicates%20%5BE0207%5D%0A%20%20%20%20type%20Item%20%3D%20Foo%3CT%3E%3B%0A%0A%20%20%20%20fn%20make(%26mut%20self)%20-%3E%20Foo%3CT%3E%20%7B%0A%20%20%20%20%20%20%20%20Foo%20%7B%20foo%3A%20%3CT%20as%20Default%3E%3A%3Adefault()%20%7D%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This fails to compile because <code>T</code> does not appear in the trait or in the
implementing type.</p>
<p>One way to work around this is to introduce a phantom type parameter into
<code>FooMaker</code>, like so:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">marker</span>::<span class="ident">PhantomData</span>;

<span class="kw">trait</span> <span class="ident">Maker</span> {
    <span class="kw">type</span> <span class="ident">Item</span>;
    <span class="kw">fn</span> <span class="ident">make</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span>::<span class="ident">Item</span>;
}

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">foo</span>: <span class="ident">T</span>
}

<span class="comment">// Add a type parameter to `FooMaker`</span>
<span class="kw">struct</span> <span class="ident">FooMaker</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">phantom</span>: <span class="ident">PhantomData</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>,
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Default</span><span class="op">&gt;</span> <span class="ident">Maker</span> <span class="kw">for</span> <span class="ident">FooMaker</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="kw">type</span> <span class="ident">Item</span> <span class="op">=</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>;

    <span class="kw">fn</span> <span class="ident">make</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
        <span class="ident">Foo</span> {
            <span class="ident">foo</span>: <span class="op">&lt;</span><span class="ident">T</span> <span class="kw">as</span> <span class="ident">Default</span><span class="op">&gt;</span>::<span class="ident">default</span>(),
        }
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Amarker%3A%3APhantomData%3B%0A%0Atrait%20Maker%20%7B%0A%20%20%20%20type%20Item%3B%0A%20%20%20%20fn%20make(%26mut%20self)%20-%3E%20Self%3A%3AItem%3B%0A%7D%0A%0Astruct%20Foo%3CT%3E%20%7B%0A%20%20%20%20foo%3A%20T%0A%7D%0A%0A%2F%2F%20Add%20a%20type%20parameter%20to%20%60FooMaker%60%0Astruct%20FooMaker%3CT%3E%20%7B%0A%20%20%20%20phantom%3A%20PhantomData%3CT%3E%2C%0A%7D%0A%0Aimpl%3CT%3A%20Default%3E%20Maker%20for%20FooMaker%3CT%3E%20%7B%0A%20%20%20%20type%20Item%20%3D%20Foo%3CT%3E%3B%0A%0A%20%20%20%20fn%20make(%26mut%20self)%20-%3E%20Foo%3CT%3E%20%7B%0A%20%20%20%20%20%20%20%20Foo%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20foo%3A%20%3CT%20as%20Default%3E%3A%3Adefault()%2C%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Another way is to do away with the associated type in <code>Maker</code> and use an input
type parameter instead:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="comment">// Use a type parameter instead of an associated type here</span>
<span class="kw">trait</span> <span class="ident">Maker</span><span class="op">&lt;</span><span class="ident">Item</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">make</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Item</span>;
}

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">foo</span>: <span class="ident">T</span>
}

<span class="kw">struct</span> <span class="ident">FooMaker</span>;

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Default</span><span class="op">&gt;</span> <span class="ident">Maker</span><span class="op">&lt;</span><span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">FooMaker</span> {
    <span class="kw">fn</span> <span class="ident">make</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
        <span class="ident">Foo</span> { <span class="ident">foo</span>: <span class="op">&lt;</span><span class="ident">T</span> <span class="kw">as</span> <span class="ident">Default</span><span class="op">&gt;</span>::<span class="ident">default</span>() }
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20Use%20a%20type%20parameter%20instead%20of%20an%20associated%20type%20here%0Afn%20main()%20%7B%0Atrait%20Maker%3CItem%3E%20%7B%0A%20%20%20%20fn%20make(%26mut%20self)%20-%3E%20Item%3B%0A%7D%0A%0Astruct%20Foo%3CT%3E%20%7B%0A%20%20%20%20foo%3A%20T%0A%7D%0A%0Astruct%20FooMaker%3B%0A%0Aimpl%3CT%3A%20Default%3E%20Maker%3CFoo%3CT%3E%3E%20for%20FooMaker%20%7B%0A%20%20%20%20fn%20make(%26mut%20self)%20-%3E%20Foo%3CT%3E%20%7B%0A%20%20%20%20%20%20%20%20Foo%20%7B%20foo%3A%20%3CT%20as%20Default%3E%3A%3Adefault()%20%7D%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<h3 id="additional-information" class="section-header"><a href="#additional-information">Additional information</a></h3>
<p>For more information, please see <a href="https://github.com/rust-lang/rfcs/blob/master/text/0447-no-unused-impl-parameters.md">RFC 447</a>.</p>
</div>
<div class="error-undescribed"><h2 id="E0208" class="section-header"><a href="#E0208">E0208</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0210" class="section-header"><a href="#E0210">E0210</a></h2>
<p>This error indicates a violation of one of Rust’s orphan rules for trait
implementations. The rule concerns the use of type parameters in an
implementation of a foreign trait (a trait defined in another crate), and
states that type parameters must be “covered” by a local type.</p>
<p>When implementing a foreign trait for a foreign type,
the trait must have one or more type parameters.
A type local to your crate must appear before any use of any type parameters.</p>
<p>To understand what this means, it is perhaps easier to consider a few examples.</p>
<p>If <code>ForeignTrait</code> is a trait defined in some external crate <code>foo</code>, then the
following trait <code>impl</code> is an error:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">foo</span>;
<span class="kw">use</span> <span class="ident">foo</span>::<span class="ident">ForeignTrait</span>;

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">ForeignTrait</span> <span class="kw">for</span> <span class="ident">T</span> { } <span class="comment">// error</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Bcfg(for_demonstration_only)%5D%0Aextern%20crate%20foo%3B%0A%23%5Bcfg(for_demonstration_only)%5D%0Ause%20foo%3A%3AForeignTrait%3B%0Ause%20std%3A%3Apanic%3A%3AUnwindSafe%20as%20ForeignTrait%3B%0A%0Aimpl%3CT%3E%20ForeignTrait%20for%20T%20%7B%20%7D%20%2F%2F%20error%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>To work around this, it can be covered with a local type, <code>MyType</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">MyType</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">T</span>);
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">ForeignTrait</span> <span class="kw">for</span> <span class="ident">MyType</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> { } <span class="comment">// Ok</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Apanic%3A%3AUnwindSafe%20as%20ForeignTrait%3B%0Astruct%20MyType%3CT%3E(T)%3B%0Aimpl%3CT%3E%20ForeignTrait%20for%20MyType%3CT%3E%20%7B%20%7D%20%2F%2F%20Ok%0A%7D&amp;edition=2015">Run</a></div>
<p>Please note that a type alias is not sufficient.</p>
<p>For another example of an error, suppose there’s another trait defined in <code>foo</code>
named <code>ForeignTrait2</code> that takes two type parameters. Then this <code>impl</code> results
in the same rule violation:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="kw">struct</span> <span class="ident">MyType2</span>;
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">ForeignTrait2</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">MyType</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">MyType2</span> { } <span class="comment">// error</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20MyType2%3B%0Aimpl%3CT%3E%20ForeignTrait2%3CT%2C%20MyType%3CT%3E%3E%20for%20MyType2%20%7B%20%7D%20%2F%2F%20error%0A%7D&amp;edition=2015">Run</a></div>
<p>The reason for this is that there are two appearances of type parameter <code>T</code> in
the <code>impl</code> header, both as parameters for <code>ForeignTrait2</code>. The first appearance
is uncovered, and so runs afoul of the orphan rule.</p>
<p>Consider one more example:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">ForeignTrait2</span><span class="op">&lt;</span><span class="ident">MyType</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>, <span class="ident">T</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">MyType2</span> { } <span class="comment">// Ok</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aimpl%3CT%3E%20ForeignTrait2%3CMyType%3CT%3E%2C%20T%3E%20for%20MyType2%20%7B%20%7D%20%2F%2F%20Ok%0A%7D&amp;edition=2015">Run</a></div>
<p>This only differs from the previous <code>impl</code> in that the parameters <code>T</code> and
<code>MyType&lt;T&gt;</code> for <code>ForeignTrait2</code> have been swapped. This example does <em>not</em>
violate the orphan rule; it is permitted.</p>
<p>To see why that last example was allowed, you need to understand the general
rule. Unfortunately this rule is a bit tricky to state. Consider an <code>impl</code>:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">P1</span>, ..., <span class="ident">Pm</span><span class="op">&gt;</span> <span class="ident">ForeignTrait</span><span class="op">&lt;</span><span class="ident">T1</span>, ..., <span class="ident">Tn</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">T0</span> { ... }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aimpl%3CP1%2C%20...%2C%20Pm%3E%20ForeignTrait%3CT1%2C%20...%2C%20Tn%3E%20for%20T0%20%7B%20...%20%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>where <code>P1, ..., Pm</code> are the type parameters of the <code>impl</code> and <code>T0, ..., Tn</code>
are types. One of the types <code>T0, ..., Tn</code> must be a local type (this is another
orphan rule, see the explanation for E0117).</p>
<p>Both of the following must be true:</p>
<ol>
<li>At least one of the types <code>T0..=Tn</code> must be a local type.
Let <code>Ti</code> be the first such type.</li>
<li>No uncovered type parameters <code>P1..=Pm</code> may appear in <code>T0..Ti</code>
(excluding <code>Ti</code>).</li>
</ol>
<p>For information on the design of the orphan rules,
see <a href="https://rust-lang.github.io/rfcs/2451-re-rebalancing-coherence.html">RFC 2451</a> and <a href="https://github.com/rust-lang/rfcs/blob/master/text/1023-rebalancing-coherence.md">RFC 1023</a>.</p>
<p>For information on the design of the orphan rules, see <a href="https://github.com/rust-lang/rfcs/blob/master/text/1023-rebalancing-coherence.md">RFC 1023</a>.</p>
</div>
<div class="error-described"><h2 id="E0211" class="section-header"><a href="#E0211">E0211</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-18" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-18">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>You used a function or type which doesn’t fit the requirements for where it was
used. Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">intrinsics</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;rust-intrinsic&quot;</span> {
    <span class="kw">fn</span> <span class="ident">size_of</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(); <span class="comment">// error: intrinsic has wrong type</span>
}

<span class="comment">// or:</span>

<span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i32</span> { <span class="number">0</span> }
<span class="comment">// error: main function expects type: `fn() {main}`: expected (), found i32</span>

<span class="comment">// or:</span>

<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">1u8</span>;
<span class="kw">match</span> <span class="ident">x</span> {
    <span class="number">0u8</span>..<span class="op">=</span><span class="number">3i8</span> <span class="op">=</span><span class="op">&gt;</span> (),
    <span class="comment">// error: mismatched types in range: expected u8, found i8</span>
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> ()
}

<span class="comment">// or:</span>

<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">rc</span>::<span class="ident">Rc</span>;
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">x</span>(<span class="self">self</span>: <span class="ident">Rc</span><span class="op">&lt;</span><span class="ident">Foo</span><span class="op">&gt;</span>) {}
    <span class="comment">// error: mismatched self type: expected `Foo`: expected struct</span>
    <span class="comment">//        `Foo`, found struct `alloc::rc::Rc`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(intrinsics)%5D%0A%0Aextern%20%22rust-intrinsic%22%20%7B%0A%20%20%20%20fn%20size_of%3CT%3E()%3B%20%2F%2F%20error%3A%20intrinsic%20has%20wrong%20type%0A%7D%0A%0A%2F%2F%20or%3A%0A%0Afn%20main()%20-%3E%20i32%20%7B%200%20%7D%0A%2F%2F%20error%3A%20main%20function%20expects%20type%3A%20%60fn()%20%7Bmain%7D%60%3A%20expected%20()%2C%20found%20i32%0A%0A%2F%2F%20or%3A%0A%0Alet%20x%20%3D%201u8%3B%0Amatch%20x%20%7B%0A%20%20%20%200u8..%3D3i8%20%3D%3E%20()%2C%0A%20%20%20%20%2F%2F%20error%3A%20mismatched%20types%20in%20range%3A%20expected%20u8%2C%20found%20i8%0A%20%20%20%20_%20%3D%3E%20()%0A%7D%0A%0A%2F%2F%20or%3A%0A%0Ause%20std%3A%3Arc%3A%3ARc%3B%0Astruct%20Foo%3B%0A%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20x(self%3A%20Rc%3CFoo%3E)%20%7B%7D%0A%20%20%20%20%2F%2F%20error%3A%20mismatched%20self%20type%3A%20expected%20%60Foo%60%3A%20expected%20struct%0A%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%60Foo%60%2C%20found%20struct%20%60alloc%3A%3Arc%3A%3ARc%60%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>For the first code example, please check the function definition. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">intrinsics</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;rust-intrinsic&quot;</span> {
    <span class="kw">fn</span> <span class="ident">size_of</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">usize</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(intrinsics)%5D%0A%0Afn%20main()%20%7B%0Aextern%20%22rust-intrinsic%22%20%7B%0A%20%20%20%20fn%20size_of%3CT%3E()%20-%3E%20usize%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>The second case example is a bit particular: the main function must always
have this definition:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span>();</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%3B&amp;edition=2015">Run</a></div>
<p>They never take parameters and never return types.</p>
<p>For the third example, when you match, all patterns must have the same type
as the type you’re matching on. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">1u8</span>;

<span class="kw">match</span> <span class="ident">x</span> {
    <span class="number">0u8</span>..<span class="op">=</span><span class="number">3u8</span> <span class="op">=</span><span class="op">&gt;</span> (), <span class="comment">// ok!</span>
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> ()
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%201u8%3B%0A%0Amatch%20x%20%7B%0A%20%20%20%200u8..%3D3u8%20%3D%3E%20()%2C%20%2F%2F%20ok!%0A%20%20%20%20_%20%3D%3E%20()%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>And finally, for the last example, only <code>Box&lt;Self&gt;</code>, <code>&amp;Self</code>, <code>Self</code>,
or <code>&amp;mut Self</code> work as explicit self parameters. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">x</span>(<span class="self">self</span>: <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">Foo</span><span class="op">&gt;</span>) {} <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20x(self%3A%20Box%3CFoo%3E)%20%7B%7D%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0212" class="section-header"><a href="#E0212">E0212</a></h2>
<p>Cannot use the associated type of
a trait with uninferred generic parameters.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="kw">type</span> <span class="ident">A</span>;

    <span class="kw">fn</span> <span class="ident">get</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">t</span>: <span class="ident">T</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span>::<span class="ident">A</span>;
}

<span class="kw">fn</span> <span class="ident">foo2</span><span class="op">&lt;</span><span class="ident">I</span> : <span class="kw">for</span><span class="op">&lt;</span><span class="lifetime">&#39;x</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="lifetime">&#39;x</span> <span class="ident">isize</span><span class="op">&gt;</span><span class="op">&gt;</span>(
    <span class="ident">field</span>: <span class="ident">I</span>::<span class="ident">A</span>) {} <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Apub%20trait%20Foo%3CT%3E%20%7B%0A%20%20%20%20type%20A%3B%0A%0A%20%20%20%20fn%20get(%26self%2C%20t%3A%20T)%20-%3E%20Self%3A%3AA%3B%0A%7D%0A%0Afn%20foo2%3CI%20%3A%20for%3C'x%3E%20Foo%3C%26'x%20isize%3E%3E(%0A%20%20%20%20field%3A%20I%3A%3AA)%20%7B%7D%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>In this example, we have to instantiate <code>'x</code>, and
we don’t know what lifetime to instantiate it with.
To fix this, spell out the precise lifetimes involved.
Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="kw">type</span> <span class="ident">A</span>;

    <span class="kw">fn</span> <span class="ident">get</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">t</span>: <span class="ident">T</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span>::<span class="ident">A</span>;
}

<span class="kw">fn</span> <span class="ident">foo3</span><span class="op">&lt;</span><span class="ident">I</span> : <span class="kw">for</span><span class="op">&lt;</span><span class="lifetime">&#39;x</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="lifetime">&#39;x</span> <span class="ident">isize</span><span class="op">&gt;</span><span class="op">&gt;</span>(
    <span class="ident">x</span>: <span class="op">&lt;</span><span class="ident">I</span> <span class="kw">as</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="ident">isize</span><span class="op">&gt;</span><span class="op">&gt;</span>::<span class="ident">A</span>) {} <span class="comment">// ok!</span>


<span class="kw">fn</span> <span class="ident">foo4</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="ident">I</span> : <span class="kw">for</span><span class="op">&lt;</span><span class="lifetime">&#39;x</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="lifetime">&#39;x</span> <span class="ident">isize</span><span class="op">&gt;</span><span class="op">&gt;</span>(
    <span class="ident">x</span>: <span class="op">&lt;</span><span class="ident">I</span> <span class="kw">as</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">isize</span><span class="op">&gt;</span><span class="op">&gt;</span>::<span class="ident">A</span>) {} <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Apub%20trait%20Foo%3CT%3E%20%7B%0A%20%20%20%20type%20A%3B%0A%0A%20%20%20%20fn%20get(%26self%2C%20t%3A%20T)%20-%3E%20Self%3A%3AA%3B%0A%7D%0A%0Afn%20foo3%3CI%20%3A%20for%3C'x%3E%20Foo%3C%26'x%20isize%3E%3E(%0A%20%20%20%20x%3A%20%3CI%20as%20Foo%3C%26isize%3E%3E%3A%3AA)%20%7B%7D%20%2F%2F%20ok!%0A%0A%0Afn%20foo4%3C'a%2C%20I%20%3A%20for%3C'x%3E%20Foo%3C%26'x%20isize%3E%3E(%0A%20%20%20%20x%3A%20%3CI%20as%20Foo%3C%26'a%20isize%3E%3E%3A%3AA)%20%7B%7D%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0214" class="section-header"><a href="#E0214">E0214</a></h2>
<p>A generic type was described using parentheses rather than angle brackets.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">v</span>: <span class="ident">Vec</span>(<span class="kw-2">&amp;</span><span class="ident">str</span>) <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[<span class="string">&quot;foo&quot;</span>];</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20v%3A%20Vec(%26str)%20%3D%20vec!%5B%22foo%22%5D%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>This is not currently supported: <code>v</code> should be defined as <code>Vec&lt;&amp;str&gt;</code>.
Parentheses are currently only used with generic types when defining parameters
for <code>Fn</code>-family traits.</p>
<p>The previous code example fixed:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">v</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="ident">str</span><span class="op">&gt;</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[<span class="string">&quot;foo&quot;</span>];</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20v%3A%20Vec%3C%26str%3E%20%3D%20vec!%5B%22foo%22%5D%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0220" class="section-header"><a href="#E0220">E0220</a></h2>
<p>The associated type used was not defined in the trait.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">T1</span> {
    <span class="kw">type</span> <span class="ident">Bar</span>;
}

<span class="kw">type</span> <span class="ident">Foo</span> <span class="op">=</span> <span class="ident">T1</span><span class="op">&lt;</span><span class="ident">F</span><span class="op">=</span><span class="ident">i32</span><span class="op">&gt;</span>; <span class="comment">// error: associated type `F` not found for `T1`</span>

<span class="comment">// or:</span>

<span class="kw">trait</span> <span class="ident">T2</span> {
    <span class="kw">type</span> <span class="ident">Bar</span>;

    <span class="comment">// error: Baz is used but not declared</span>
    <span class="kw">fn</span> <span class="ident">return_bool</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="kw">_</span>: <span class="kw-2">&amp;</span><span class="self">Self</span>::<span class="ident">Bar</span>, <span class="kw">_</span>: <span class="kw-2">&amp;</span><span class="self">Self</span>::<span class="ident">Baz</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20T1%20%7B%0A%20%20%20%20type%20Bar%3B%0A%7D%0A%0Atype%20Foo%20%3D%20T1%3CF%3Di32%3E%3B%20%2F%2F%20error%3A%20associated%20type%20%60F%60%20not%20found%20for%20%60T1%60%0A%0A%2F%2F%20or%3A%0A%0Atrait%20T2%20%7B%0A%20%20%20%20type%20Bar%3B%0A%0A%20%20%20%20%2F%2F%20error%3A%20Baz%20is%20used%20but%20not%20declared%0A%20%20%20%20fn%20return_bool(%26self%2C%20_%3A%20%26Self%3A%3ABar%2C%20_%3A%20%26Self%3A%3ABaz)%20-%3E%20bool%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Make sure that you have defined the associated type in the trait body.
Also, verify that you used the right trait or you didn’t misspell the
associated type name. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">T1</span> {
    <span class="kw">type</span> <span class="ident">Bar</span>;
}

<span class="kw">type</span> <span class="ident">Foo</span> <span class="op">=</span> <span class="ident">T1</span><span class="op">&lt;</span><span class="ident">Bar</span><span class="op">=</span><span class="ident">i32</span><span class="op">&gt;</span>; <span class="comment">// ok!</span>

<span class="comment">// or:</span>

<span class="kw">trait</span> <span class="ident">T2</span> {
    <span class="kw">type</span> <span class="ident">Bar</span>;
    <span class="kw">type</span> <span class="ident">Baz</span>; <span class="comment">// we declare `Baz` in our trait.</span>

    <span class="comment">// and now we can use it here:</span>
    <span class="kw">fn</span> <span class="ident">return_bool</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="kw">_</span>: <span class="kw-2">&amp;</span><span class="self">Self</span>::<span class="ident">Bar</span>, <span class="kw">_</span>: <span class="kw-2">&amp;</span><span class="self">Self</span>::<span class="ident">Baz</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20T1%20%7B%0A%20%20%20%20type%20Bar%3B%0A%7D%0A%0Atype%20Foo%20%3D%20T1%3CBar%3Di32%3E%3B%20%2F%2F%20ok!%0A%0A%2F%2F%20or%3A%0A%0Atrait%20T2%20%7B%0A%20%20%20%20type%20Bar%3B%0A%20%20%20%20type%20Baz%3B%20%2F%2F%20we%20declare%20%60Baz%60%20in%20our%20trait.%0A%0A%20%20%20%20%2F%2F%20and%20now%20we%20can%20use%20it%20here%3A%0A%20%20%20%20fn%20return_bool(%26self%2C%20_%3A%20%26Self%3A%3ABar%2C%20_%3A%20%26Self%3A%3ABaz)%20-%3E%20bool%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0221" class="section-header"><a href="#E0221">E0221</a></h2>
<p>An attempt was made to retrieve an associated type, but the type was ambiguous.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">T1</span> {}
<span class="kw">trait</span> <span class="ident">T2</span> {}

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">A</span>: <span class="ident">T1</span>;
}

<span class="kw">trait</span> <span class="ident">Bar</span> : <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">A</span>: <span class="ident">T2</span>;
    <span class="kw">fn</span> <span class="ident">do_something</span>() {
        <span class="kw">let</span> <span class="kw">_</span>: <span class="self">Self</span>::<span class="ident">A</span>;
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20T1%20%7B%7D%0Atrait%20T2%20%7B%7D%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20type%20A%3A%20T1%3B%0A%7D%0A%0Atrait%20Bar%20%3A%20Foo%20%7B%0A%20%20%20%20type%20A%3A%20T2%3B%0A%20%20%20%20fn%20do_something()%20%7B%0A%20%20%20%20%20%20%20%20let%20_%3A%20Self%3A%3AA%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In this example, <code>Foo</code> defines an associated type <code>A</code>. <code>Bar</code> inherits that type
from <code>Foo</code>, and defines another associated type of the same name. As a result,
when we attempt to use <code>Self::A</code>, it’s ambiguous whether we mean the <code>A</code> defined
by <code>Foo</code> or the one defined by <code>Bar</code>.</p>
<p>There are two options to work around this issue. The first is simply to rename
one of the types. Alternatively, one can specify the intended type using the
following syntax:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">T1</span> {}
<span class="kw">trait</span> <span class="ident">T2</span> {}

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">A</span>: <span class="ident">T1</span>;
}

<span class="kw">trait</span> <span class="ident">Bar</span> : <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">A</span>: <span class="ident">T2</span>;
    <span class="kw">fn</span> <span class="ident">do_something</span>() {
        <span class="kw">let</span> <span class="kw">_</span>: <span class="op">&lt;</span><span class="self">Self</span> <span class="kw">as</span> <span class="ident">Bar</span><span class="op">&gt;</span>::<span class="ident">A</span>;
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20T1%20%7B%7D%0Atrait%20T2%20%7B%7D%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20type%20A%3A%20T1%3B%0A%7D%0A%0Atrait%20Bar%20%3A%20Foo%20%7B%0A%20%20%20%20type%20A%3A%20T2%3B%0A%20%20%20%20fn%20do_something()%20%7B%0A%20%20%20%20%20%20%20%20let%20_%3A%20%3CSelf%20as%20Bar%3E%3A%3AA%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0222" class="section-header"><a href="#E0222">E0222</a></h2>
<p>An attempt was made to constrain an associated type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">Vehicle</span> {
    <span class="kw">type</span> <span class="ident">Color</span>;
}

<span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">Box</span> {
    <span class="kw">type</span> <span class="ident">Color</span>;
}

<span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">BoxCar</span> : <span class="ident">Box</span> <span class="op">+</span> <span class="ident">Vehicle</span> {}

<span class="kw">fn</span> <span class="ident">dent_object</span><span class="op">&lt;</span><span class="ident">COLOR</span><span class="op">&gt;</span>(<span class="ident">c</span>: <span class="ident">dyn</span> <span class="ident">BoxCar</span><span class="op">&lt;</span><span class="ident">Color</span><span class="op">=</span><span class="ident">COLOR</span><span class="op">&gt;</span>) {} <span class="comment">// Invalid constraint</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Apub%20trait%20Vehicle%20%7B%0A%20%20%20%20type%20Color%3B%0A%7D%0A%0Apub%20trait%20Box%20%7B%0A%20%20%20%20type%20Color%3B%0A%7D%0A%0Apub%20trait%20BoxCar%20%3A%20Box%20%2B%20Vehicle%20%7B%7D%0A%0Afn%20dent_object%3CCOLOR%3E(c%3A%20dyn%20BoxCar%3CColor%3DCOLOR%3E)%20%7B%7D%20%2F%2F%20Invalid%20constraint%0A%7D&amp;edition=2015">Run</a></div>
<p>In this example, <code>BoxCar</code> has two super-traits: <code>Vehicle</code> and <code>Box</code>. Both of
these traits define an associated type <code>Color</code>. <code>BoxCar</code> inherits two types
with that name from both super-traits. Because of this, we need to use the
fully qualified path syntax to refer to the appropriate <code>Color</code> associated
type, either <code>&lt;BoxCar as Vehicle&gt;::Color</code> or <code>&lt;BoxCar as Box&gt;::Color</code>, but this
syntax is not allowed to be used in a function signature.</p>
<p>In order to encode this kind of constraint, a <code>where</code> clause and a new type
parameter are needed:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">Vehicle</span> {
    <span class="kw">type</span> <span class="ident">Color</span>;
}

<span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">Box</span> {
    <span class="kw">type</span> <span class="ident">Color</span>;
}

<span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">BoxCar</span> : <span class="ident">Box</span> <span class="op">+</span> <span class="ident">Vehicle</span> {}

<span class="comment">// Introduce a new `CAR` type parameter</span>
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">CAR</span>, <span class="ident">COLOR</span><span class="op">&gt;</span>(
    <span class="ident">c</span>: <span class="ident">CAR</span>,
) <span class="kw">where</span>
    <span class="comment">// Bind the type parameter `CAR` to the trait `BoxCar`</span>
    <span class="ident">CAR</span>: <span class="ident">BoxCar</span>,
    <span class="comment">// Further restrict `&lt;BoxCar as Vehicle&gt;::Color` to be the same as the</span>
    <span class="comment">// type parameter `COLOR`</span>
    <span class="ident">CAR</span>: <span class="ident">Vehicle</span><span class="op">&lt;</span><span class="ident">Color</span> <span class="op">=</span> <span class="ident">COLOR</span><span class="op">&gt;</span>,
    <span class="comment">// We can also simultaneously restrict the other trait&#39;s associated type</span>
    <span class="ident">CAR</span>: <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">Color</span> <span class="op">=</span> <span class="ident">COLOR</span><span class="op">&gt;</span>
{}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Apub%20trait%20Vehicle%20%7B%0A%20%20%20%20type%20Color%3B%0A%7D%0A%0Apub%20trait%20Box%20%7B%0A%20%20%20%20type%20Color%3B%0A%7D%0A%0Apub%20trait%20BoxCar%20%3A%20Box%20%2B%20Vehicle%20%7B%7D%0A%0A%2F%2F%20Introduce%20a%20new%20%60CAR%60%20type%20parameter%0Afn%20foo%3CCAR%2C%20COLOR%3E(%0A%20%20%20%20c%3A%20CAR%2C%0A)%20where%0A%20%20%20%20%2F%2F%20Bind%20the%20type%20parameter%20%60CAR%60%20to%20the%20trait%20%60BoxCar%60%0A%20%20%20%20CAR%3A%20BoxCar%2C%0A%20%20%20%20%2F%2F%20Further%20restrict%20%60%3CBoxCar%20as%20Vehicle%3E%3A%3AColor%60%20to%20be%20the%20same%20as%20the%0A%20%20%20%20%2F%2F%20type%20parameter%20%60COLOR%60%0A%20%20%20%20CAR%3A%20Vehicle%3CColor%20%3D%20COLOR%3E%2C%0A%20%20%20%20%2F%2F%20We%20can%20also%20simultaneously%20restrict%20the%20other%20trait's%20associated%20type%0A%20%20%20%20CAR%3A%20Box%3CColor%20%3D%20COLOR%3E%0A%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0223" class="section-header"><a href="#E0223">E0223</a></h2>
<p>An attempt was made to retrieve an associated type, but the type was ambiguous.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">MyTrait</span> {<span class="kw">type</span> <span class="ident">X</span>; }

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">foo</span>: <span class="ident">MyTrait</span>::<span class="ident">X</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Atrait%20MyTrait%20%7Btype%20X%3B%20%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20foo%3A%20MyTrait%3A%3AX%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>The problem here is that we’re attempting to take the type of X from MyTrait.
Unfortunately, the type of X is not defined, because it’s only made concrete in
implementations of the trait. A working version of this code might look like:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">MyTrait</span> {<span class="kw">type</span> <span class="ident">X</span>; }
<span class="kw">struct</span> <span class="ident">MyStruct</span>;

<span class="kw">impl</span> <span class="ident">MyTrait</span> <span class="kw">for</span> <span class="ident">MyStruct</span> {
    <span class="kw">type</span> <span class="ident">X</span> <span class="op">=</span> <span class="ident">u32</span>;
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">foo</span>: <span class="op">&lt;</span><span class="ident">MyStruct</span> <span class="kw">as</span> <span class="ident">MyTrait</span><span class="op">&gt;</span>::<span class="ident">X</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Atrait%20MyTrait%20%7Btype%20X%3B%20%7D%0Astruct%20MyStruct%3B%0A%0Aimpl%20MyTrait%20for%20MyStruct%20%7B%0A%20%20%20%20type%20X%20%3D%20u32%3B%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20foo%3A%20%3CMyStruct%20as%20MyTrait%3E%3A%3AX%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>This syntax specifies that we want the X type from MyTrait, as made concrete in
MyStruct. The reason that we cannot simply use <code>MyStruct::X</code> is that MyStruct
might implement two different traits with identically-named associated types.
This syntax allows disambiguation between the two.</p>
</div>
<div class="error-described"><h2 id="E0224" class="section-header"><a href="#E0224">E0224</a></h2>
<p>A trait object was declared with no traits.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">type</span> <span class="ident">Foo</span> <span class="op">=</span> <span class="ident">dyn</span> <span class="lifetime">&#39;static</span> <span class="op">+</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atype%20Foo%20%3D%20dyn%20'static%20%2B%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Rust does not currently support this.</p>
<p>To solve, ensure that the trait object has at least one trait:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">type</span> <span class="ident">Foo</span> <span class="op">=</span> <span class="ident">dyn</span> <span class="lifetime">&#39;static</span> <span class="op">+</span> <span class="ident">Copy</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atype%20Foo%20%3D%20dyn%20'static%20%2B%20Copy%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0225" class="section-header"><a href="#E0225">E0225</a></h2>
<p>Multiple types were used as bounds for a closure or trait object.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw">_</span>: <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">dyn</span> <span class="ident">std</span>::<span class="ident">io</span>::<span class="ident">Read</span> <span class="op">+</span> <span class="ident">std</span>::<span class="ident">io</span>::<span class="ident">Write</span><span class="op">&gt;</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20_%3A%20Box%3Cdyn%20std%3A%3Aio%3A%3ARead%20%2B%20std%3A%3Aio%3A%3AWrite%3E%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Rust does not currently support this.</p>
<p>Auto traits such as Send and Sync are an exception to this rule:
It’s possible to have bounds of one non-builtin trait, plus any number of
auto traits. For example, the following compiles correctly:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw">_</span>: <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">dyn</span> <span class="ident">std</span>::<span class="ident">io</span>::<span class="ident">Read</span> <span class="op">+</span> <span class="ident">Send</span> <span class="op">+</span> <span class="ident">Sync</span><span class="op">&gt;</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20_%3A%20Box%3Cdyn%20std%3A%3Aio%3A%3ARead%20%2B%20Send%20%2B%20Sync%3E%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0226" class="section-header"><a href="#E0226">E0226</a></h2>
<p>More than one explicit lifetime bound was used on a trait object.</p>
<p>Example of erroneous code:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {}

<span class="kw">type</span> <span class="ident">T</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">dyn</span> <span class="ident">Foo</span> <span class="op">+</span> <span class="lifetime">&#39;a</span> <span class="op">+</span> <span class="lifetime">&#39;b</span>; <span class="comment">// error: Trait object `arg` has two</span>
                                    <span class="comment">//        lifetime bound, &#39;a and &#39;b.</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%7D%0A%0Atype%20T%3C'a%2C%20'b%3E%20%3D%20dyn%20Foo%20%2B%20'a%20%2B%20'b%3B%20%2F%2F%20error%3A%20Trait%20object%20%60arg%60%20has%20two%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20lifetime%20bound%2C%20'a%20and%20'b.%0A%7D&amp;edition=2015">Run</a></div>
<p>Here <code>T</code> is a trait object with two explicit lifetime bounds, ’a and ’b.</p>
<p>Only a single explicit lifetime bound is permitted on trait objects.
To fix this error, consider removing one of the lifetime bounds:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {}

<span class="kw">type</span> <span class="ident">T</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">dyn</span> <span class="ident">Foo</span> <span class="op">+</span> <span class="lifetime">&#39;a</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%7D%0A%0Atype%20T%3C'a%3E%20%3D%20dyn%20Foo%20%2B%20'a%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-undescribed"><h2 id="E0227" class="section-header"><a href="#E0227">E0227</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0228" class="section-header"><a href="#E0228">E0228</a></h2>
<p>The lifetime bound for this object type cannot be deduced from context and must
be specified.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Trait</span> { }

<span class="kw">struct</span> <span class="ident">TwoBounds</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span>, <span class="ident">T</span>: <span class="ident">Sized</span> <span class="op">+</span> <span class="lifetime">&#39;a</span> <span class="op">+</span> <span class="lifetime">&#39;b</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>,
    <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;b</span> <span class="ident">i32</span>,
    <span class="ident">z</span>: <span class="ident">T</span>,
}

<span class="kw">type</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">TwoBounds</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span>, <span class="ident">dyn</span> <span class="ident">Trait</span><span class="op">&gt;</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%20%7D%0A%0Astruct%20TwoBounds%3C'a%2C%20'b%2C%20T%3A%20Sized%20%2B%20'a%20%2B%20'b%3E%20%7B%0A%20%20%20%20x%3A%20%26'a%20i32%2C%0A%20%20%20%20y%3A%20%26'b%20i32%2C%0A%20%20%20%20z%3A%20T%2C%0A%7D%0A%0Atype%20Foo%3C'a%2C%20'b%3E%20%3D%20TwoBounds%3C'a%2C%20'b%2C%20dyn%20Trait%3E%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>When a trait object is used as a type argument of a generic type, Rust will try
to infer its lifetime if unspecified. However, this isn’t possible when the
containing type has more than one lifetime bound.</p>
<p>The above example can be resolved by either reducing the number of lifetime
bounds to one or by making the trait object lifetime explicit, like so:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Trait</span> { }

<span class="kw">struct</span> <span class="ident">TwoBounds</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span>, <span class="ident">T</span>: <span class="ident">Sized</span> <span class="op">+</span> <span class="lifetime">&#39;a</span> <span class="op">+</span> <span class="lifetime">&#39;b</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>,
    <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;b</span> <span class="ident">i32</span>,
    <span class="ident">z</span>: <span class="ident">T</span>,
}

<span class="kw">type</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">TwoBounds</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span>, <span class="ident">dyn</span> <span class="ident">Trait</span> <span class="op">+</span> <span class="lifetime">&#39;b</span><span class="op">&gt;</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%20%7D%0A%0Astruct%20TwoBounds%3C'a%2C%20'b%2C%20T%3A%20Sized%20%2B%20'a%20%2B%20'b%3E%20%7B%0A%20%20%20%20x%3A%20%26'a%20i32%2C%0A%20%20%20%20y%3A%20%26'b%20i32%2C%0A%20%20%20%20z%3A%20T%2C%0A%7D%0A%0Atype%20Foo%3C'a%2C%20'b%3E%20%3D%20TwoBounds%3C'a%2C%20'b%2C%20dyn%20Trait%20%2B%20'b%3E%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>For more information, see <a href="https://github.com/rust-lang/rfcs/blob/master/text/0599-default-object-bound.md">RFC 599</a> and its amendment <a href="https://github.com/rust-lang/rfcs/blob/master/text/1156-adjust-default-object-bounds.md">RFC 1156</a>.</p>
</div>
<div class="error-described"><h2 id="E0229" class="section-header"><a href="#E0229">E0229</a></h2>
<p>An associated type binding was done outside of the type parameter declaration
and <code>where</code> clause.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">A</span>;
    <span class="kw">fn</span> <span class="ident">boo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="op">&lt;</span><span class="self">Self</span> <span class="kw">as</span> <span class="ident">Foo</span><span class="op">&gt;</span>::<span class="ident">A</span>;
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">isize</span> {
    <span class="kw">type</span> <span class="ident">A</span> <span class="op">=</span> <span class="ident">usize</span>;
    <span class="kw">fn</span> <span class="ident">boo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">usize</span> { <span class="number">42</span> }
}

<span class="kw">fn</span> <span class="ident">baz</span><span class="op">&lt;</span><span class="ident">I</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="op">&lt;</span><span class="ident">I</span> <span class="kw">as</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">A</span><span class="op">=</span><span class="ident">Bar</span><span class="op">&gt;</span><span class="op">&gt;</span>::<span class="ident">A</span>) {}
<span class="comment">// error: associated type bindings are not allowed here</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Apub%20trait%20Foo%20%7B%0A%20%20%20%20type%20A%3B%0A%20%20%20%20fn%20boo(%26self)%20-%3E%20%3CSelf%20as%20Foo%3E%3A%3AA%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20isize%20%7B%0A%20%20%20%20type%20A%20%3D%20usize%3B%0A%20%20%20%20fn%20boo(%26self)%20-%3E%20usize%20%7B%2042%20%7D%0A%7D%0A%0Afn%20baz%3CI%3E(x%3A%20%26%3CI%20as%20Foo%3CA%3DBar%3E%3E%3A%3AA)%20%7B%7D%0A%2F%2F%20error%3A%20associated%20type%20bindings%20are%20not%20allowed%20here%0A%7D&amp;edition=2015">Run</a></div>
<p>To solve this error, please move the type bindings in the type parameter
declaration:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">baz</span><span class="op">&lt;</span><span class="ident">I</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">A</span><span class="op">=</span><span class="ident">Bar</span><span class="op">&gt;</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="op">&lt;</span><span class="ident">I</span> <span class="kw">as</span> <span class="ident">Foo</span><span class="op">&gt;</span>::<span class="ident">A</span>) {} <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Bar%3B%0Atrait%20Foo%20%7B%20type%20A%3B%20%7D%0Afn%20baz%3CI%3A%20Foo%3CA%3DBar%3E%3E(x%3A%20%26%3CI%20as%20Foo%3E%3A%3AA)%20%7B%7D%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>Or in the <code>where</code> clause:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">baz</span><span class="op">&lt;</span><span class="ident">I</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="op">&lt;</span><span class="ident">I</span> <span class="kw">as</span> <span class="ident">Foo</span><span class="op">&gt;</span>::<span class="ident">A</span>) <span class="kw">where</span> <span class="ident">I</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">A</span><span class="op">=</span><span class="ident">Bar</span><span class="op">&gt;</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Bar%3B%0Atrait%20Foo%20%7B%20type%20A%3B%20%7D%0Afn%20baz%3CI%3E(x%3A%20%26%3CI%20as%20Foo%3E%3A%3AA)%20where%20I%3A%20Foo%3CA%3DBar%3E%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0230" class="section-header"><a href="#E0230">E0230</a></h2>
<p>The <code>#[rustc_on_unimplemented]</code> attribute lets you specify a custom error
message for when a particular trait isn’t implemented on a type placed in a
position that needs that trait. For example, when the following code is
compiled:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">rustc_attrs</span>)]</span>

<span class="attribute">#[<span class="ident">rustc_on_unimplemented</span> <span class="op">=</span> <span class="string">&quot;error on `{Self}` with params `&lt;{A},{B}&gt;`&quot;</span>]</span> <span class="comment">// error</span>
<span class="kw">trait</span> <span class="ident">BadAnnotation</span><span class="op">&lt;</span><span class="ident">A</span><span class="op">&gt;</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(rustc_attrs)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brustc_on_unimplemented%20%3D%20%22error%20on%20%60%7BSelf%7D%60%20with%20params%20%60%3C%7BA%7D%2C%7BB%7D%3E%60%22%5D%20%2F%2F%20error%0Atrait%20BadAnnotation%3CA%3E%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>There will be an error about <code>bool</code> not implementing <code>Index&lt;u8&gt;</code>, followed by a
note saying “the type <code>bool</code> cannot be indexed by <code>u8</code>”.</p>
<p>As you can see, you can specify type parameters in curly braces for
substitution with the actual types (using the regular format string syntax) in
a given situation. Furthermore, <code>{Self}</code> will substitute to the type (in this
case, <code>bool</code>) that we tried to use.</p>
<p>This error appears when the curly braces contain an identifier which doesn’t
match with any of the type parameters or the string <code>Self</code>. This might happen
if you misspelled a type parameter, or if you intended to use literal curly
braces. If it is the latter, escape the curly braces with a second curly brace
of the same type; e.g., a literal <code>{</code> is <code>{% raw %}{{{% endraw %}</code>.</p>
</div>
<div class="error-described"><h2 id="E0231" class="section-header"><a href="#E0231">E0231</a></h2>
<p>The <code>#[rustc_on_unimplemented]</code> attribute lets you specify a custom error
message for when a particular trait isn’t implemented on a type placed in a
position that needs that trait. For example, when the following code is
compiled:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">rustc_attrs</span>)]</span>

<span class="attribute">#[<span class="ident">rustc_on_unimplemented</span> <span class="op">=</span> <span class="string">&quot;error on `{Self}` with params `&lt;{A},{}&gt;`&quot;</span>]</span> <span class="comment">// error!</span>
<span class="kw">trait</span> <span class="ident">BadAnnotation</span><span class="op">&lt;</span><span class="ident">A</span><span class="op">&gt;</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(rustc_attrs)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brustc_on_unimplemented%20%3D%20%22error%20on%20%60%7BSelf%7D%60%20with%20params%20%60%3C%7BA%7D%2C%7B%7D%3E%60%22%5D%20%2F%2F%20error!%0Atrait%20BadAnnotation%3CA%3E%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>there will be an error about <code>bool</code> not implementing <code>Index&lt;u8&gt;</code>, followed by a
note saying “the type <code>bool</code> cannot be indexed by <code>u8</code>”.</p>
<p>As you can see, you can specify type parameters in curly braces for
substitution with the actual types (using the regular format string syntax) in
a given situation. Furthermore, <code>{Self}</code> will substitute to the type (in this
case, <code>bool</code>) that we tried to use.</p>
<p>This error appears when the curly braces do not contain an identifier. Please
add one of the same name as a type parameter. If you intended to use literal
braces, use <code>{% raw %}{{</code> and <code>}}{% endraw %}</code> to escape them.</p>
</div>
<div class="error-described"><h2 id="E0232" class="section-header"><a href="#E0232">E0232</a></h2>
<p>The <code>#[rustc_on_unimplemented]</code> attribute lets you specify a custom error
message for when a particular trait isn’t implemented on a type placed in a
position that needs that trait. For example, when the following code is
compiled:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">rustc_attrs</span>)]</span>

<span class="attribute">#[<span class="ident">rustc_on_unimplemented</span>(<span class="ident">lorem</span><span class="op">=</span><span class="string">&quot;&quot;</span>)]</span> <span class="comment">// error!</span>
<span class="kw">trait</span> <span class="ident">BadAnnotation</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(rustc_attrs)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brustc_on_unimplemented(lorem%3D%22%22)%5D%20%2F%2F%20error!%0Atrait%20BadAnnotation%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>there will be an error about <code>bool</code> not implementing <code>Index&lt;u8&gt;</code>, followed by a
note saying “the type <code>bool</code> cannot be indexed by <code>u8</code>”.</p>
<p>For this to work, some note must be specified. An empty attribute will not do
anything, please remove the attribute or add some helpful note for users of the
trait.</p>
</div>
<div class="error-described"><h2 id="E0243" class="section-header"><a href="#E0243">E0243</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-19" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-19">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>This error indicates that not enough type parameters were found in a type or
trait.</p>
<p>For example, the <code>Foo</code> struct below is defined to be generic in <code>T</code>, but the
type parameter is missing in the definition of <code>Bar</code>:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> { <span class="ident">x</span>: <span class="ident">T</span> }

<span class="kw">struct</span> <span class="ident">Bar</span> { <span class="ident">x</span>: <span class="ident">Foo</span> }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3CT%3E%20%7B%20x%3A%20T%20%7D%0A%0Astruct%20Bar%20%7B%20x%3A%20Foo%20%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0244" class="section-header"><a href="#E0244">E0244</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-20" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-20">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>This error indicates that too many type parameters were found in a type or
trait.</p>
<p>For example, the <code>Foo</code> struct below has no type parameters, but is supplied
with two in the definition of <code>Bar</code>:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="ident">bool</span> }

<span class="kw">struct</span> <span class="ident">Bar</span><span class="op">&lt;</span><span class="ident">S</span>, <span class="ident">T</span><span class="op">&gt;</span> { <span class="ident">x</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">S</span>, <span class="ident">T</span><span class="op">&gt;</span> }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%20%7B%20x%3A%20bool%20%7D%0A%0Astruct%20Bar%3CS%2C%20T%3E%20%7B%20x%3A%20Foo%3CS%2C%20T%3E%20%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0251" class="section-header"><a href="#E0251">E0251</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-21" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-21">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>Two items of the same name cannot be imported without rebinding one of the
items under a new local name.</p>
<p>An example of this error:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">foo</span>::<span class="ident">baz</span>;
<span class="kw">use</span> <span class="ident">bar</span>::<span class="kw-2">*</span>; <span class="comment">// error, do `use foo::baz as quux` instead on the previous line</span>

<span class="kw">fn</span> <span class="ident">main</span>() {}

<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">baz</span>;
}

<span class="kw">mod</span> <span class="ident">bar</span> {
    <span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">baz</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20foo%3A%3Abaz%3B%0Ause%20bar%3A%3A*%3B%20%2F%2F%20error%2C%20do%20%60use%20foo%3A%3Abaz%20as%20quux%60%20instead%20on%20the%20previous%20line%0A%0Afn%20main()%20%7B%7D%0A%0Amod%20foo%20%7B%0A%20%20%20%20pub%20struct%20baz%3B%0A%7D%0A%0Amod%20bar%20%7B%0A%20%20%20%20pub%20mod%20baz%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0252" class="section-header"><a href="#E0252">E0252</a></h2>
<p>Two items of the same name cannot be imported without rebinding one of the
items under a new local name.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">foo</span>::<span class="ident">baz</span>;
<span class="kw">use</span> <span class="ident">bar</span>::<span class="ident">baz</span>; <span class="comment">// error, do `use bar::baz as quux` instead</span>

<span class="kw">fn</span> <span class="ident">main</span>() {}

<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">baz</span>;
}

<span class="kw">mod</span> <span class="ident">bar</span> {
    <span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">baz</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20foo%3A%3Abaz%3B%0Ause%20bar%3A%3Abaz%3B%20%2F%2F%20error%2C%20do%20%60use%20bar%3A%3Abaz%20as%20quux%60%20instead%0A%0Afn%20main()%20%7B%7D%0A%0Amod%20foo%20%7B%0A%20%20%20%20pub%20struct%20baz%3B%0A%7D%0A%0Amod%20bar%20%7B%0A%20%20%20%20pub%20mod%20baz%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>You can use aliases in order to fix this error. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">foo</span>::<span class="ident">baz</span> <span class="kw">as</span> <span class="ident">foo_baz</span>;
<span class="kw">use</span> <span class="ident">bar</span>::<span class="ident">baz</span>; <span class="comment">// ok!</span>

<span class="kw">fn</span> <span class="ident">main</span>() {}

<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">baz</span>;
}

<span class="kw">mod</span> <span class="ident">bar</span> {
    <span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">baz</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20foo%3A%3Abaz%20as%20foo_baz%3B%0Ause%20bar%3A%3Abaz%3B%20%2F%2F%20ok!%0A%0Afn%20main()%20%7B%7D%0A%0Amod%20foo%20%7B%0A%20%20%20%20pub%20struct%20baz%3B%0A%7D%0A%0Amod%20bar%20%7B%0A%20%20%20%20pub%20mod%20baz%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Or you can reference the item with its parent:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">bar</span>::<span class="ident">baz</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">foo</span>::<span class="ident">baz</span>; <span class="comment">// ok!</span>
}

<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">baz</span>;
}

<span class="kw">mod</span> <span class="ident">bar</span> {
    <span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">baz</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20bar%3A%3Abaz%3B%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%20foo%3A%3Abaz%3B%20%2F%2F%20ok!%0A%7D%0A%0Amod%20foo%20%7B%0A%20%20%20%20pub%20struct%20baz%3B%0A%7D%0A%0Amod%20bar%20%7B%0A%20%20%20%20pub%20mod%20baz%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0253" class="section-header"><a href="#E0253">E0253</a></h2>
<p>Attempt was made to import an unimportable value. This can happen when trying
to import a method from a trait.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">MyTrait</span> {
        <span class="kw">fn</span> <span class="ident">do_something</span>();
    }
}

<span class="kw">use</span> <span class="ident">foo</span>::<span class="ident">MyTrait</span>::<span class="ident">do_something</span>;
<span class="comment">// error: `do_something` is not directly importable</span>

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Amod%20foo%20%7B%0A%20%20%20%20pub%20trait%20MyTrait%20%7B%0A%20%20%20%20%20%20%20%20fn%20do_something()%3B%0A%20%20%20%20%7D%0A%7D%0A%0Ause%20foo%3A%3AMyTrait%3A%3Ado_something%3B%0A%2F%2F%20error%3A%20%60do_something%60%20is%20not%20directly%20importable%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>It’s invalid to directly import methods belonging to a trait or concrete type.</p>
</div>
<div class="error-described"><h2 id="E0254" class="section-header"><a href="#E0254">E0254</a></h2>
<p>Attempt was made to import an item whereas an extern crate with this name has
already been imported.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">core</span>;

<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">core</span> {
        <span class="kw">fn</span> <span class="ident">do_something</span>();
    }
}

<span class="kw">use</span> <span class="ident">foo</span>::<span class="ident">core</span>;  <span class="comment">// error: an extern crate named `core` has already</span>
                <span class="comment">//        been imported in this module</span>

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aextern%20crate%20core%3B%0A%0Amod%20foo%20%7B%0A%20%20%20%20pub%20trait%20core%20%7B%0A%20%20%20%20%20%20%20%20fn%20do_something()%3B%0A%20%20%20%20%7D%0A%7D%0A%0Ause%20foo%3A%3Acore%3B%20%20%2F%2F%20error%3A%20an%20extern%20crate%20named%20%60core%60%20has%20already%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20been%20imported%20in%20this%20module%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>To fix this issue, you have to rename at least one of the two imports.
Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">core</span> <span class="kw">as</span> <span class="ident">libcore</span>; <span class="comment">// ok!</span>

<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">core</span> {
        <span class="kw">fn</span> <span class="ident">do_something</span>();
    }
}

<span class="kw">use</span> <span class="ident">foo</span>::<span class="ident">core</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aextern%20crate%20core%20as%20libcore%3B%20%2F%2F%20ok!%0A%0Amod%20foo%20%7B%0A%20%20%20%20pub%20trait%20core%20%7B%0A%20%20%20%20%20%20%20%20fn%20do_something()%3B%0A%20%20%20%20%7D%0A%7D%0A%0Ause%20foo%3A%3Acore%3B%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0255" class="section-header"><a href="#E0255">E0255</a></h2>
<p>You can’t import a value whose name is the same as another value defined in the
module.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">bar</span>::<span class="ident">foo</span>; <span class="comment">// error: an item named `foo` is already in scope</span>

<span class="kw">fn</span> <span class="ident">foo</span>() {}

<span class="kw">mod</span> <span class="ident">bar</span> {
     <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span>() {}
}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20bar%3A%3Afoo%3B%20%2F%2F%20error%3A%20an%20item%20named%20%60foo%60%20is%20already%20in%20scope%0A%0Afn%20foo()%20%7B%7D%0A%0Amod%20bar%20%7B%0A%20%20%20%20%20pub%20fn%20foo()%20%7B%7D%0A%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>You can use aliases in order to fix this error. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">bar</span>::<span class="ident">foo</span> <span class="kw">as</span> <span class="ident">bar_foo</span>; <span class="comment">// ok!</span>

<span class="kw">fn</span> <span class="ident">foo</span>() {}

<span class="kw">mod</span> <span class="ident">bar</span> {
     <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span>() {}
}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20bar%3A%3Afoo%20as%20bar_foo%3B%20%2F%2F%20ok!%0A%0Afn%20foo()%20%7B%7D%0A%0Amod%20bar%20%7B%0A%20%20%20%20%20pub%20fn%20foo()%20%7B%7D%0A%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>Or you can reference the item with its parent:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span>() {}

<span class="kw">mod</span> <span class="ident">bar</span> {
     <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span>() {}
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">bar</span>::<span class="ident">foo</span>(); <span class="comment">// we get the item by referring to its parent</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20foo()%20%7B%7D%0A%0Amod%20bar%20%7B%0A%20%20%20%20%20pub%20fn%20foo()%20%7B%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20bar%3A%3Afoo()%3B%20%2F%2F%20we%20get%20the%20item%20by%20referring%20to%20its%20parent%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0256" class="section-header"><a href="#E0256">E0256</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-22" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-22">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>You can’t import a type or module when the name of the item being imported is
the same as another type or submodule defined in the module.</p>
<p>An example of this error:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">foo</span>::<span class="ident">Bar</span>; <span class="comment">// error</span>

<span class="kw">type</span> <span class="ident">Bar</span> <span class="op">=</span> <span class="ident">u32</span>;

<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">Bar</span> { }
}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20foo%3A%3ABar%3B%20%2F%2F%20error%0A%0Atype%20Bar%20%3D%20u32%3B%0A%0Amod%20foo%20%7B%0A%20%20%20%20pub%20mod%20Bar%20%7B%20%7D%0A%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0259" class="section-header"><a href="#E0259">E0259</a></h2>
<p>The name chosen for an external crate conflicts with another external crate
that has been imported into the current module.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">core</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">std</span> <span class="kw">as</span> <span class="ident">core</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aextern%20crate%20core%3B%0Aextern%20crate%20std%20as%20core%3B%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>The solution is to choose a different name that doesn’t conflict with any
external crate imported into the current module.</p>
<p>Correct example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">core</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">std</span> <span class="kw">as</span> <span class="ident">other_name</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aextern%20crate%20core%3B%0Aextern%20crate%20std%20as%20other_name%3B%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0260" class="section-header"><a href="#E0260">E0260</a></h2>
<p>The name for an item declaration conflicts with an external crate’s name.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">core</span>;

<span class="kw">struct</span> <span class="ident">core</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aextern%20crate%20core%3B%0A%0Astruct%20core%3B%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>There are two possible solutions:</p>
<p>Solution #1: Rename the item.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">core</span>;

<span class="kw">struct</span> <span class="ident">xyz</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aextern%20crate%20core%3B%0A%0Afn%20main()%20%7B%0Astruct%20xyz%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Solution #2: Import the crate with a different name.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">core</span> <span class="kw">as</span> <span class="ident">xyz</span>;

<span class="kw">struct</span> <span class="ident">abc</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aextern%20crate%20core%20as%20xyz%3B%0A%0Afn%20main()%20%7B%0Astruct%20abc%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>See the <a href="https://doc.rust-lang.org/reference/statements.html#declaration-statements">Declaration Statements</a> section of the
reference for more information about what constitutes an item declaration
and what does not.</p>
</div>
<div class="error-described"><h2 id="E0261" class="section-header"><a href="#E0261">E0261</a></h2>
<p>An undeclared lifetime was used.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="comment">// error, use of undeclared lifetime name `&#39;a`</span>
<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>) { }

<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="comment">// error, use of undeclared lifetime name `&#39;a`</span>
    <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20error%2C%20use%20of%20undeclared%20lifetime%20name%20%60'a%60%0Afn%20main()%20%7B%0Afn%20foo(x%3A%20%26'a%20str)%20%7B%20%7D%0A%0Astruct%20Foo%20%7B%0A%20%20%20%20%2F%2F%20error%2C%20use%20of%20undeclared%20lifetime%20name%20%60'a%60%0A%20%20%20%20x%3A%20%26'a%20str%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>These can be fixed by declaring lifetime parameters:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>,
}

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>) {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3C'a%3E%20%7B%0A%20%20%20%20x%3A%20%26'a%20str%2C%0A%7D%0A%0Afn%20foo%3C'a%3E(x%3A%20%26'a%20str)%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Impl blocks declare lifetime parameters separately. You need to add lifetime
parameters to an impl block if you’re implementing a type that has a lifetime
parameter of its own.
For example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>,
}

<span class="comment">// error,  use of undeclared lifetime name `&#39;a`</span>
<span class="kw">impl</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3C'a%3E%20%7B%0A%20%20%20%20x%3A%20%26'a%20str%2C%0A%7D%0A%0A%2F%2F%20error%2C%20%20use%20of%20undeclared%20lifetime%20name%20%60'a%60%0Aimpl%20Foo%3C'a%3E%20%7B%0A%20%20%20%20fn%20foo%3C'a%3E(x%3A%20%26'a%20str)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This is fixed by declaring the impl block like this:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>,
}

<span class="comment">// correct</span>
<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3C'a%3E%20%7B%0A%20%20%20%20x%3A%20%26'a%20str%2C%0A%7D%0A%0A%2F%2F%20correct%0Aimpl%3C'a%3E%20Foo%3C'a%3E%20%7B%0A%20%20%20%20fn%20foo(x%3A%20%26'a%20str)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0262" class="section-header"><a href="#E0262">E0262</a></h2>
<p>An invalid name was used for a lifetime parameter.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="comment">// error, invalid lifetime parameter name `&#39;static`</span>
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;static</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">str</span>) { }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20error%2C%20invalid%20lifetime%20parameter%20name%20%60'static%60%0Afn%20main()%20%7B%0Afn%20foo%3C'static%3E(x%3A%20%26'static%20str)%20%7B%20%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Declaring certain lifetime names in parameters is disallowed. For example,
because the <code>'static</code> lifetime is a special built-in lifetime name denoting
the lifetime of the entire program, this is an error:</p>
</div>
<div class="error-described"><h2 id="E0263" class="section-header"><a href="#E0263">E0263</a></h2>
<p>A lifetime was declared more than once in the same scope.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span>, <span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;b</span> <span class="ident">str</span>, <span class="ident">z</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>) { <span class="comment">// error!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3C'a%2C%20'b%2C%20'a%3E(x%3A%20%26'a%20str%2C%20y%3A%20%26'b%20str%2C%20z%3A%20%26'a%20str)%20%7B%20%2F%2F%20error!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Two lifetimes cannot have the same name. To fix this example, change
the second <code>'a</code> lifetime into something else (<code>'c</code> for example):</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span>, <span class="lifetime">&#39;c</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;b</span> <span class="ident">str</span>, <span class="ident">z</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;c</span> <span class="ident">str</span>) { <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3C'a%2C%20'b%2C%20'c%3E(x%3A%20%26'a%20str%2C%20y%3A%20%26'b%20str%2C%20z%3A%20%26'c%20str)%20%7B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0264" class="section-header"><a href="#E0264">E0264</a></h2>
<p>An unknown external lang item was used.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">lang_items</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {
    <span class="attribute">#[<span class="ident">lang</span> <span class="op">=</span> <span class="string">&quot;cake&quot;</span>]</span> <span class="comment">// error: unknown external lang item: `cake`</span>
    <span class="kw">fn</span> <span class="ident">cake</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(lang_items)%5D%0A%0Afn%20main()%20%7B%0Aextern%20%22C%22%20%7B%0A%20%20%20%20%23%5Blang%20%3D%20%22cake%22%5D%20%2F%2F%20error%3A%20unknown%20external%20lang%20item%3A%20%60cake%60%0A%20%20%20%20fn%20cake()%3B%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>A list of available external lang items is available in
<code>src/librustc_middle/middle/weak_lang_items.rs</code>. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">lang_items</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {
    <span class="attribute">#[<span class="ident">lang</span> <span class="op">=</span> <span class="string">&quot;panic_impl&quot;</span>]</span> <span class="comment">// ok!</span>
    <span class="kw">fn</span> <span class="ident">cake</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(lang_items)%5D%0A%0Afn%20main()%20%7B%0Aextern%20%22C%22%20%7B%0A%20%20%20%20%23%5Blang%20%3D%20%22panic_impl%22%5D%20%2F%2F%20ok!%0A%20%20%20%20fn%20cake()%3B%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0267" class="section-header"><a href="#E0267">E0267</a></h2>
<p>A loop keyword (<code>break</code> or <code>continue</code>) was used inside a closure but outside of
any loop.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">w</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> { <span class="kw">break</span>; }; <span class="comment">// error: `break` inside of a closure</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20w%20%3D%20%7C%7C%20%7B%20break%3B%20%7D%3B%20%2F%2F%20error%3A%20%60break%60%20inside%20of%20a%20closure%0A%7D&amp;edition=2015">Run</a></div>
<p><code>break</code> and <code>continue</code> keywords can be used as normal inside closures as long as
they are also contained within a loop. To halt the execution of a closure you
should instead use a return statement. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">w</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
    <span class="kw">for</span> <span class="kw">_</span> <span class="kw">in</span> <span class="number">0</span>..<span class="number">10</span> {
        <span class="kw">break</span>;
    }
};

<span class="ident">w</span>();</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20w%20%3D%20%7C%7C%20%7B%0A%20%20%20%20for%20_%20in%200..10%20%7B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%7D%3B%0A%0Aw()%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0268" class="section-header"><a href="#E0268">E0268</a></h2>
<p>A loop keyword (<code>break</code> or <code>continue</code>) was used outside of a loop.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">some_func</span>() {
    <span class="kw">break</span>; <span class="comment">// error: `break` outside of a loop</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20some_func()%20%7B%0A%20%20%20%20break%3B%20%2F%2F%20error%3A%20%60break%60%20outside%20of%20a%20loop%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Without a loop to break out of or continue in, no sensible action can be taken.
Please verify that you are using <code>break</code> and <code>continue</code> only in loops. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">some_func</span>() {
    <span class="kw">for</span> <span class="kw">_</span> <span class="kw">in</span> <span class="number">0</span>..<span class="number">10</span> {
        <span class="kw">break</span>; <span class="comment">// ok!</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20some_func()%20%7B%0A%20%20%20%20for%20_%20in%200..10%20%7B%0A%20%20%20%20%20%20%20%20break%3B%20%2F%2F%20ok!%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0271" class="section-header"><a href="#E0271">E0271</a></h2>
<p>A type mismatched an associated type of a trait.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Trait</span> { <span class="kw">type</span> <span class="ident">AssociatedType</span>; }

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">t</span>: <span class="ident">T</span>) <span class="kw">where</span> <span class="ident">T</span>: <span class="ident">Trait</span><span class="op">&lt;</span><span class="ident">AssociatedType</span><span class="op">=</span><span class="ident">u32</span><span class="op">&gt;</span> {
<span class="comment">//                    ~~~~~~~~ ~~~~~~~~~~~~~~~~~~</span>
<span class="comment">//                        |            |</span>
<span class="comment">//         This says `foo` can         |</span>
<span class="comment">//           only be used with         |</span>
<span class="comment">//              some type that         |</span>
<span class="comment">//         implements `Trait`.         |</span>
<span class="comment">//                                     |</span>
<span class="comment">//                             This says not only must</span>
<span class="comment">//                             `T` be an impl of `Trait`</span>
<span class="comment">//                             but also that the impl</span>
<span class="comment">//                             must assign the type `u32`</span>
<span class="comment">//                             to the associated type.</span>
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;in foo&quot;</span>);
}

<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">i8</span> { <span class="kw">type</span> <span class="ident">AssociatedType</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">str</span>; }
<span class="comment">//~~~~~~~~~~~~~~~   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="comment">//      |                             |</span>
<span class="comment">// `i8` does have                     |</span>
<span class="comment">// implementation                     |</span>
<span class="comment">// of `Trait`...                      |</span>
<span class="comment">//                     ... but it is an implementation</span>
<span class="comment">//                     that assigns `&amp;&#39;static str` to</span>
<span class="comment">//                     the associated type.</span>

<span class="ident">foo</span>(<span class="number">3_i8</span>);
<span class="comment">// Here, we invoke `foo` with an `i8`, which does not satisfy</span>
<span class="comment">// the constraint `&lt;i8 as Trait&gt;::AssociatedType=u32`, and</span>
<span class="comment">// therefore the type-checker complains with this error code.</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%20type%20AssociatedType%3B%20%7D%0A%0Afn%20foo%3CT%3E(t%3A%20T)%20where%20T%3A%20Trait%3CAssociatedType%3Du32%3E%20%7B%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20~~~~~~~~%20~~~~~~~~~~~~~~~~~~%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%2F%2F%20%20%20%20%20%20%20%20%20This%20says%20%60foo%60%20can%20%20%20%20%20%20%20%20%20%7C%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20only%20be%20used%20with%20%20%20%20%20%20%20%20%20%7C%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20some%20type%20that%20%20%20%20%20%20%20%20%20%7C%0A%2F%2F%20%20%20%20%20%20%20%20%20implements%20%60Trait%60.%20%20%20%20%20%20%20%20%20%7C%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20This%20says%20not%20only%20must%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60T%60%20be%20an%20impl%20of%20%60Trait%60%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20but%20also%20that%20the%20impl%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20must%20assign%20the%20type%20%60u32%60%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20to%20the%20associated%20type.%0A%20%20%20%20println!(%22in%20foo%22)%3B%0A%7D%0A%0Aimpl%20Trait%20for%20i8%20%7B%20type%20AssociatedType%20%3D%20%26'static%20str%3B%20%7D%0A%2F%2F~~~~~~~~~~~~~~~%20%20%20~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%0A%2F%2F%20%20%20%20%20%20%7C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%2F%2F%20%60i8%60%20does%20have%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%2F%2F%20implementation%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%2F%2F%20of%20%60Trait%60...%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20...%20but%20it%20is%20an%20implementation%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20that%20assigns%20%60%26'static%20str%60%20to%0A%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20the%20associated%20type.%0A%0Afoo(3_i8)%3B%0A%2F%2F%20Here%2C%20we%20invoke%20%60foo%60%20with%20an%20%60i8%60%2C%20which%20does%20not%20satisfy%0A%2F%2F%20the%20constraint%20%60%3Ci8%20as%20Trait%3E%3A%3AAssociatedType%3Du32%60%2C%20and%0A%2F%2F%20therefore%20the%20type-checker%20complains%20with%20this%20error%20code.%0A%7D&amp;edition=2015">Run</a></div>
<p>The issue can be resolved by changing the associated type:</p>
<ol>
<li>in the <code>foo</code> implementation:</li>
</ol>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Trait</span> { <span class="kw">type</span> <span class="ident">AssociatedType</span>; }

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">t</span>: <span class="ident">T</span>) <span class="kw">where</span> <span class="ident">T</span>: <span class="ident">Trait</span><span class="op">&lt;</span><span class="ident">AssociatedType</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">str</span><span class="op">&gt;</span> {
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;in foo&quot;</span>);
}

<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">i8</span> { <span class="kw">type</span> <span class="ident">AssociatedType</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">str</span>; }

<span class="ident">foo</span>(<span class="number">3_i8</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%20type%20AssociatedType%3B%20%7D%0A%0Afn%20foo%3CT%3E(t%3A%20T)%20where%20T%3A%20Trait%3CAssociatedType%20%3D%20%26'static%20str%3E%20%7B%0A%20%20%20%20println!(%22in%20foo%22)%3B%0A%7D%0A%0Aimpl%20Trait%20for%20i8%20%7B%20type%20AssociatedType%20%3D%20%26'static%20str%3B%20%7D%0A%0Afoo(3_i8)%3B%0A%7D&amp;edition=2015">Run</a></div>
<ol start="2">
<li>in the <code>Trait</code> implementation for <code>i8</code>:</li>
</ol>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Trait</span> { <span class="kw">type</span> <span class="ident">AssociatedType</span>; }

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">t</span>: <span class="ident">T</span>) <span class="kw">where</span> <span class="ident">T</span>: <span class="ident">Trait</span><span class="op">&lt;</span><span class="ident">AssociatedType</span> <span class="op">=</span> <span class="ident">u32</span><span class="op">&gt;</span> {
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;in foo&quot;</span>);
}

<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">i8</span> { <span class="kw">type</span> <span class="ident">AssociatedType</span> <span class="op">=</span> <span class="ident">u32</span>; }

<span class="ident">foo</span>(<span class="number">3_i8</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Trait%20%7B%20type%20AssociatedType%3B%20%7D%0A%0Afn%20foo%3CT%3E(t%3A%20T)%20where%20T%3A%20Trait%3CAssociatedType%20%3D%20u32%3E%20%7B%0A%20%20%20%20println!(%22in%20foo%22)%3B%0A%7D%0A%0Aimpl%20Trait%20for%20i8%20%7B%20type%20AssociatedType%20%3D%20u32%3B%20%7D%0A%0Afoo(3_i8)%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0275" class="section-header"><a href="#E0275">E0275</a></h2>
<p>An evaluation of a trait requirement overflowed.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {}

<span class="kw">struct</span> <span class="ident">Bar</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">T</span>);

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">T</span> <span class="kw">where</span> <span class="ident">Bar</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>: <span class="ident">Foo</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%7D%0A%0Astruct%20Bar%3CT%3E(T)%3B%0A%0Aimpl%3CT%3E%20Foo%20for%20T%20where%20Bar%3CT%3E%3A%20Foo%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This error occurs when there was a recursive trait requirement that overflowed
before it could be evaluated. This often means that there is an unbounded
recursion in resolving some type bounds.</p>
<p>To determine if a <code>T</code> is <code>Foo</code>, we need to check if <code>Bar&lt;T&gt;</code> is <code>Foo</code>. However,
to do this check, we need to determine that <code>Bar&lt;Bar&lt;T&gt;&gt;</code> is <code>Foo</code>. To
determine this, we check if <code>Bar&lt;Bar&lt;Bar&lt;T&gt;&gt;&gt;</code> is <code>Foo</code>, and so on. This is
clearly a recursive requirement that can’t be resolved directly.</p>
<p>Consider changing your trait bounds so that they’re less self-referential.</p>
</div>
<div class="error-described"><h2 id="E0276" class="section-header"><a href="#E0276">E0276</a></h2>
<p>A trait implementation has stricter requirements than the trait definition.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>);
}

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">bool</span> {
    <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>) <span class="kw">where</span> <span class="ident">T</span>: <span class="ident">Copy</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo%3CT%3E(x%3A%20T)%3B%0A%7D%0A%0Aimpl%20Foo%20for%20bool%20%7B%0A%20%20%20%20fn%20foo%3CT%3E(x%3A%20T)%20where%20T%3A%20Copy%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, all types implementing <code>Foo</code> must have a method <code>foo&lt;T&gt;(x: T)</code> which can
take any type <code>T</code>. However, in the <code>impl</code> for <code>bool</code>, we have added an extra
bound that <code>T</code> is <code>Copy</code>, which isn’t compatible with the original trait.</p>
<p>Consider removing the bound from the method or adding the bound to the original
method definition in the trait.</p>
</div>
<div class="error-described"><h2 id="E0277" class="section-header"><a href="#E0277">E0277</a></h2>
<p>You tried to use a type which doesn’t implement some trait in a place which
expected that trait.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="comment">// here we declare the Foo trait with a bar method</span>
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>);
}

<span class="comment">// we now declare a function which takes an object implementing the Foo trait</span>
<span class="kw">fn</span> <span class="ident">some_func</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Foo</span><span class="op">&gt;</span>(<span class="ident">foo</span>: <span class="ident">T</span>) {
    <span class="ident">foo</span>.<span class="ident">bar</span>();
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// we now call the method with the i32 type, which doesn&#39;t implement</span>
    <span class="comment">// the Foo trait</span>
    <span class="ident">some_func</span>(<span class="number">5i32</span>); <span class="comment">// error: the trait bound `i32 : Foo` is not satisfied</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20here%20we%20declare%20the%20Foo%20trait%20with%20a%20bar%20method%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20bar(%26self)%3B%0A%7D%0A%0A%2F%2F%20we%20now%20declare%20a%20function%20which%20takes%20an%20object%20implementing%20the%20Foo%20trait%0Afn%20some_func%3CT%3A%20Foo%3E(foo%3A%20T)%20%7B%0A%20%20%20%20foo.bar()%3B%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20we%20now%20call%20the%20method%20with%20the%20i32%20type%2C%20which%20doesn't%20implement%0A%20%20%20%20%2F%2F%20the%20Foo%20trait%0A%20%20%20%20some_func(5i32)%3B%20%2F%2F%20error%3A%20the%20trait%20bound%20%60i32%20%3A%20Foo%60%20is%20not%20satisfied%0A%7D&amp;edition=2015">Run</a></div>
<p>In order to fix this error, verify that the type you’re using does implement
the trait. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>);
}

<span class="kw">fn</span> <span class="ident">some_func</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Foo</span><span class="op">&gt;</span>(<span class="ident">foo</span>: <span class="ident">T</span>) {
    <span class="ident">foo</span>.<span class="ident">bar</span>(); <span class="comment">// we can now use this method since i32 implements the</span>
               <span class="comment">// Foo trait</span>
}

<span class="comment">// we implement the trait on the i32 type</span>
<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">i32</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">some_func</span>(<span class="number">5i32</span>); <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20bar(%26self)%3B%0A%7D%0A%0Afn%20some_func%3CT%3A%20Foo%3E(foo%3A%20T)%20%7B%0A%20%20%20%20foo.bar()%3B%20%2F%2F%20we%20can%20now%20use%20this%20method%20since%20i32%20implements%20the%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Foo%20trait%0A%7D%0A%0A%2F%2F%20we%20implement%20the%20trait%20on%20the%20i32%20type%0Aimpl%20Foo%20for%20i32%20%7B%0A%20%20%20%20fn%20bar(%26self)%20%7B%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20some_func(5i32)%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>Or in a generic context, an erroneous code example would look like:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">some_func</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">foo</span>: <span class="ident">T</span>) {
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{:?}&quot;</span>, <span class="ident">foo</span>); <span class="comment">// error: the trait `core::fmt::Debug` is not</span>
                           <span class="comment">//        implemented for the type `T`</span>
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// We now call the method with the i32 type,</span>
    <span class="comment">// which *does* implement the Debug trait.</span>
    <span class="ident">some_func</span>(<span class="number">5i32</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20some_func%3CT%3E(foo%3A%20T)%20%7B%0A%20%20%20%20println!(%22%7B%3A%3F%7D%22%2C%20foo)%3B%20%2F%2F%20error%3A%20the%20trait%20%60core%3A%3Afmt%3A%3ADebug%60%20is%20not%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20implemented%20for%20the%20type%20%60T%60%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20We%20now%20call%20the%20method%20with%20the%20i32%20type%2C%0A%20%20%20%20%2F%2F%20which%20*does*%20implement%20the%20Debug%20trait.%0A%20%20%20%20some_func(5i32)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Note that the error here is in the definition of the generic function. Although
we only call it with a parameter that does implement <code>Debug</code>, the compiler
still rejects the function. It must work with all possible input types. In
order to make this example compile, we need to restrict the generic type we’re
accepting:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">fmt</span>;

<span class="comment">// Restrict the input type to types that implement Debug.</span>
<span class="kw">fn</span> <span class="ident">some_func</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">fmt</span>::<span class="ident">Debug</span><span class="op">&gt;</span>(<span class="ident">foo</span>: <span class="ident">T</span>) {
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{:?}&quot;</span>, <span class="ident">foo</span>);
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// Calling the method is still fine, as i32 implements Debug.</span>
    <span class="ident">some_func</span>(<span class="number">5i32</span>);

    <span class="comment">// This would fail to compile now:</span>
    <span class="comment">// struct WithoutDebug;</span>
    <span class="comment">// some_func(WithoutDebug);</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Afmt%3B%0A%0A%2F%2F%20Restrict%20the%20input%20type%20to%20types%20that%20implement%20Debug.%0Afn%20some_func%3CT%3A%20fmt%3A%3ADebug%3E(foo%3A%20T)%20%7B%0A%20%20%20%20println!(%22%7B%3A%3F%7D%22%2C%20foo)%3B%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20Calling%20the%20method%20is%20still%20fine%2C%20as%20i32%20implements%20Debug.%0A%20%20%20%20some_func(5i32)%3B%0A%0A%20%20%20%20%2F%2F%20This%20would%20fail%20to%20compile%20now%3A%0A%20%20%20%20%2F%2F%20struct%20WithoutDebug%3B%0A%20%20%20%20%2F%2F%20some_func(WithoutDebug)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Rust only looks at the signature of the called function, as such it must
already specify all requirements that will be used for every type parameter.</p>
</div>
<div class="error-undescribed"><h2 id="E0279" class="section-header"><a href="#E0279">E0279</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0280" class="section-header"><a href="#E0280">E0280</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0281" class="section-header"><a href="#E0281">E0281</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-23" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-23">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>You tried to supply a type which doesn’t implement some trait in a location
which expected that trait. This error typically occurs when working with
<code>Fn</code>-based types. Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">F</span>: <span class="ident">Fn</span>(<span class="ident">usize</span>)<span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">F</span>) { }

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// type mismatch: ... implements the trait `core::ops::Fn&lt;(String,)&gt;`,</span>
    <span class="comment">// but the trait `core::ops::Fn&lt;(usize,)&gt;` is required</span>
    <span class="comment">// [E0281]</span>
    <span class="ident">foo</span>(<span class="op">|</span><span class="ident">y</span>: <span class="ident">String</span><span class="op">|</span> { });
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20foo%3CF%3A%20Fn(usize)%3E(x%3A%20F)%20%7B%20%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20type%20mismatch%3A%20...%20implements%20the%20trait%20%60core%3A%3Aops%3A%3AFn%3C(String%2C)%3E%60%2C%0A%20%20%20%20%2F%2F%20but%20the%20trait%20%60core%3A%3Aops%3A%3AFn%3C(usize%2C)%3E%60%20is%20required%0A%20%20%20%20%2F%2F%20%5BE0281%5D%0A%20%20%20%20foo(%7Cy%3A%20String%7C%20%7B%20%7D)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>The issue in this case is that <code>foo</code> is defined as accepting a <code>Fn</code> with one
argument of type <code>String</code>, but the closure we attempted to pass to it requires
one arguments of type <code>usize</code>.</p>
</div>
<div class="error-described"><h2 id="E0282" class="section-header"><a href="#E0282">E0282</a></h2>
<p>The compiler could not infer a type and asked for a type annotation.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="string">&quot;hello&quot;</span>.<span class="ident">chars</span>().<span class="ident">rev</span>().<span class="ident">collect</span>();</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%20%22hello%22.chars().rev().collect()%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>This error indicates that type inference did not result in one unique possible
type, and extra information is required. In most cases this can be provided
by adding a type annotation. Sometimes you need to specify a generic type
parameter manually.</p>
<p>A common example is the <code>collect</code> method on <code>Iterator</code>. It has a generic type
parameter with a <code>FromIterator</code> bound, which for a <code>char</code> iterator is
implemented by <code>Vec</code> and <code>String</code> among others. Consider the following snippet
that reverses the characters of a string:</p>
<p>In the first code example, the compiler cannot infer what the type of <code>x</code> should
be: <code>Vec&lt;char&gt;</code> and <code>String</code> are both suitable candidates. To specify which type
to use, you can use a type annotation on <code>x</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">char</span><span class="op">&gt;</span> <span class="op">=</span> <span class="string">&quot;hello&quot;</span>.<span class="ident">chars</span>().<span class="ident">rev</span>().<span class="ident">collect</span>();</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%3A%20Vec%3Cchar%3E%20%3D%20%22hello%22.chars().rev().collect()%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>It is not necessary to annotate the full type. Once the ambiguity is resolved,
the compiler can infer the rest:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="kw">_</span><span class="op">&gt;</span> <span class="op">=</span> <span class="string">&quot;hello&quot;</span>.<span class="ident">chars</span>().<span class="ident">rev</span>().<span class="ident">collect</span>();</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%3A%20Vec%3C_%3E%20%3D%20%22hello%22.chars().rev().collect()%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Another way to provide the compiler with enough information, is to specify the
generic type parameter:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="string">&quot;hello&quot;</span>.<span class="ident">chars</span>().<span class="ident">rev</span>().<span class="ident">collect</span>::<span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">char</span><span class="op">&gt;</span><span class="op">&gt;</span>();</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%20%22hello%22.chars().rev().collect%3A%3A%3CVec%3Cchar%3E%3E()%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Again, you need not specify the full type if the compiler can infer it:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="string">&quot;hello&quot;</span>.<span class="ident">chars</span>().<span class="ident">rev</span>().<span class="ident">collect</span>::<span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="kw">_</span><span class="op">&gt;</span><span class="op">&gt;</span>();</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%20%22hello%22.chars().rev().collect%3A%3A%3CVec%3C_%3E%3E()%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Apart from a method or function with a generic type parameter, this error can
occur when a type parameter of a struct or trait cannot be inferred. In that
case it is not always possible to use a type annotation, because all candidates
have the same return type. For instance:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">num</span>: <span class="ident">T</span>,
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i32</span> {
        <span class="number">0</span>
    }

    <span class="kw">fn</span> <span class="ident">baz</span>() {
        <span class="kw">let</span> <span class="ident">number</span> <span class="op">=</span> <span class="ident">Foo</span>::<span class="ident">bar</span>();
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3CT%3E%20%7B%0A%20%20%20%20num%3A%20T%2C%0A%7D%0A%0Aimpl%3CT%3E%20Foo%3CT%3E%20%7B%0A%20%20%20%20fn%20bar()%20-%3E%20i32%20%7B%0A%20%20%20%20%20%20%20%200%0A%20%20%20%20%7D%0A%0A%20%20%20%20fn%20baz()%20%7B%0A%20%20%20%20%20%20%20%20let%20number%20%3D%20Foo%3A%3Abar()%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This will fail because the compiler does not know which instance of <code>Foo</code> to
call <code>bar</code> on. Change <code>Foo::bar()</code> to <code>Foo::&lt;T&gt;::bar()</code> to resolve the error.</p>
</div>
<div class="error-described"><h2 id="E0283" class="section-header"><a href="#E0283">E0283</a></h2>
<p>An implementation cannot be chosen unambiguously because of lack of information.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Generator</span> {
    <span class="kw">fn</span> <span class="ident">create</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u32</span>;
}

<span class="kw">struct</span> <span class="ident">Impl</span>;

<span class="kw">impl</span> <span class="ident">Generator</span> <span class="kw">for</span> <span class="ident">Impl</span> {
    <span class="kw">fn</span> <span class="ident">create</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u32</span> { <span class="number">1</span> }
}

<span class="kw">struct</span> <span class="ident">AnotherImpl</span>;

<span class="kw">impl</span> <span class="ident">Generator</span> <span class="kw">for</span> <span class="ident">AnotherImpl</span> {
    <span class="kw">fn</span> <span class="ident">create</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u32</span> { <span class="number">2</span> }
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">cont</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="ident">Generator</span>::<span class="ident">create</span>();
    <span class="comment">// error, impossible to choose one of Generator trait implementation</span>
    <span class="comment">// Should it be Impl or AnotherImpl, maybe something else?</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Atrait%20Generator%20%7B%0A%20%20%20%20fn%20create()%20-%3E%20u32%3B%0A%7D%0A%0Astruct%20Impl%3B%0A%0Aimpl%20Generator%20for%20Impl%20%7B%0A%20%20%20%20fn%20create()%20-%3E%20u32%20%7B%201%20%7D%0A%7D%0A%0Astruct%20AnotherImpl%3B%0A%0Aimpl%20Generator%20for%20AnotherImpl%20%7B%0A%20%20%20%20fn%20create()%20-%3E%20u32%20%7B%202%20%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20cont%3A%20u32%20%3D%20Generator%3A%3Acreate()%3B%0A%20%20%20%20%2F%2F%20error%2C%20impossible%20to%20choose%20one%20of%20Generator%20trait%20implementation%0A%20%20%20%20%2F%2F%20Should%20it%20be%20Impl%20or%20AnotherImpl%2C%20maybe%20something%20else%3F%0A%7D&amp;edition=2015">Run</a></div>
<p>This error can be solved by adding type annotations that provide the missing
information to the compiler. In this case, the solution is to use a concrete
type:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Generator</span> {
    <span class="kw">fn</span> <span class="ident">create</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u32</span>;
}

<span class="kw">struct</span> <span class="ident">AnotherImpl</span>;

<span class="kw">impl</span> <span class="ident">Generator</span> <span class="kw">for</span> <span class="ident">AnotherImpl</span> {
    <span class="kw">fn</span> <span class="ident">create</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u32</span> { <span class="number">2</span> }
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">gen1</span> <span class="op">=</span> <span class="ident">AnotherImpl</span>::<span class="ident">create</span>();

    <span class="comment">// if there are multiple methods with same name (different traits)</span>
    <span class="kw">let</span> <span class="ident">gen2</span> <span class="op">=</span> <span class="op">&lt;</span><span class="ident">AnotherImpl</span> <span class="kw">as</span> <span class="ident">Generator</span><span class="op">&gt;</span>::<span class="ident">create</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Atrait%20Generator%20%7B%0A%20%20%20%20fn%20create()%20-%3E%20u32%3B%0A%7D%0A%0Astruct%20AnotherImpl%3B%0A%0Aimpl%20Generator%20for%20AnotherImpl%20%7B%0A%20%20%20%20fn%20create()%20-%3E%20u32%20%7B%202%20%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20gen1%20%3D%20AnotherImpl%3A%3Acreate()%3B%0A%0A%20%20%20%20%2F%2F%20if%20there%20are%20multiple%20methods%20with%20same%20name%20(different%20traits)%0A%20%20%20%20let%20gen2%20%3D%20%3CAnotherImpl%20as%20Generator%3E%3A%3Acreate()%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0284" class="section-header"><a href="#E0284">E0284</a></h2>
<p>This error occurs when the compiler is unable to unambiguously infer the
return type of a function or method which is generic on return type, such
as the <code>collect</code> method for <code>Iterator</code>s.</p>
<p>For example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">n</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="number">1</span>;
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">d</span>: <span class="ident">u64</span> <span class="op">=</span> <span class="number">2</span>;
    <span class="ident">d</span> <span class="op">=</span> <span class="ident">d</span> <span class="op">+</span> <span class="ident">n</span>.<span class="ident">into</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20n%3A%20u32%20%3D%201%3B%0A%20%20%20%20let%20mut%20d%3A%20u64%20%3D%202%3B%0A%20%20%20%20d%20%3D%20d%20%2B%20n.into()%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Here we have an addition of <code>d</code> and <code>n.into()</code>. Hence, <code>n.into()</code> can return
any type <code>T</code> where <code>u64: Add&lt;T&gt;</code>. On the other hand, the <code>into</code> method can
return any type where <code>u32: Into&lt;T&gt;</code>.</p>
<p>The author of this code probably wants <code>into()</code> to return a <code>u64</code>, but the
compiler can’t be sure that there isn’t another type <code>T</code> where both
<code>u32: Into&lt;T&gt;</code> and <code>u64: Add&lt;T&gt;</code>.</p>
<p>To resolve this error, use a concrete type for the intermediate expression:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">n</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="number">1</span>;
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">d</span>: <span class="ident">u64</span> <span class="op">=</span> <span class="number">2</span>;
    <span class="kw">let</span> <span class="ident">m</span>: <span class="ident">u64</span> <span class="op">=</span> <span class="ident">n</span>.<span class="ident">into</span>();
    <span class="ident">d</span> <span class="op">=</span> <span class="ident">d</span> <span class="op">+</span> <span class="ident">m</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20n%3A%20u32%20%3D%201%3B%0A%20%20%20%20let%20mut%20d%3A%20u64%20%3D%202%3B%0A%20%20%20%20let%20m%3A%20u64%20%3D%20n.into()%3B%0A%20%20%20%20d%20%3D%20d%20%2B%20m%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Note that the type of <code>v</code> can now be inferred from the type of <code>temp</code>.</p>
</div>
<div class="error-described"><h2 id="E0297" class="section-header"><a href="#E0297">E0297</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-24" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-24">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>Patterns used to bind names must be irrefutable. That is, they must guarantee
that a name will be extracted in all cases. Instead of pattern matching the
loop variable, consider using a <code>match</code> or <code>if let</code> inside the loop body. For
instance:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">xs</span> : <span class="ident">Vec</span><span class="op">&lt;</span><span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[<span class="prelude-val">Some</span>(<span class="number">1</span>), <span class="prelude-val">None</span>];

<span class="comment">// This fails because `None` is not covered.</span>
<span class="kw">for</span> <span class="prelude-val">Some</span>(<span class="ident">x</span>) <span class="kw">in</span> <span class="ident">xs</span> {
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20xs%20%3A%20Vec%3COption%3Ci32%3E%3E%20%3D%20vec!%5BSome(1)%2C%20None%5D%3B%0A%0A%2F%2F%20This%20fails%20because%20%60None%60%20is%20not%20covered.%0Afor%20Some(x)%20in%20xs%20%7B%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Match inside the loop instead:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">xs</span> : <span class="ident">Vec</span><span class="op">&lt;</span><span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[<span class="prelude-val">Some</span>(<span class="number">1</span>), <span class="prelude-val">None</span>];

<span class="kw">for</span> <span class="ident">item</span> <span class="kw">in</span> <span class="ident">xs</span> {
    <span class="kw">match</span> <span class="ident">item</span> {
        <span class="prelude-val">Some</span>(<span class="ident">x</span>) <span class="op">=</span><span class="op">&gt;</span> {},
        <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> {},
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20xs%20%3A%20Vec%3COption%3Ci32%3E%3E%20%3D%20vec!%5BSome(1)%2C%20None%5D%3B%0A%0Afor%20item%20in%20xs%20%7B%0A%20%20%20%20match%20item%20%7B%0A%20%20%20%20%20%20%20%20Some(x)%20%3D%3E%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20None%20%3D%3E%20%7B%7D%2C%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Or use <code>if let</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">xs</span> : <span class="ident">Vec</span><span class="op">&lt;</span><span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[<span class="prelude-val">Some</span>(<span class="number">1</span>), <span class="prelude-val">None</span>];

<span class="kw">for</span> <span class="ident">item</span> <span class="kw">in</span> <span class="ident">xs</span> {
    <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Some</span>(<span class="ident">x</span>) <span class="op">=</span> <span class="ident">item</span> {
        <span class="comment">// ...</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20xs%20%3A%20Vec%3COption%3Ci32%3E%3E%20%3D%20vec!%5BSome(1)%2C%20None%5D%3B%0A%0Afor%20item%20in%20xs%20%7B%0A%20%20%20%20if%20let%20Some(x)%20%3D%20item%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20...%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0301" class="section-header"><a href="#E0301">E0301</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-25" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-25">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>Mutable borrows are not allowed in pattern guards, because matching cannot have
side effects. Side effects could alter the matched object or the environment
on which the match depends in such a way, that the match would not be
exhaustive. For instance, the following would not match any arm if mutable
borrows were allowed:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">match</span> <span class="prelude-val">Some</span>(()) {
    <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> { },
    <span class="ident">option</span> <span class="kw">if</span> <span class="ident">option</span>.<span class="ident">take</span>().<span class="ident">is_none</span>() <span class="op">=</span><span class="op">&gt;</span> {
        <span class="comment">/* impossible, option is `Some` */</span>
    },
    <span class="prelude-val">Some</span>(<span class="kw">_</span>) <span class="op">=</span><span class="op">&gt;</span> { } <span class="comment">// When the previous match failed, the option became `None`.</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amatch%20Some(())%20%7B%0A%20%20%20%20None%20%3D%3E%20%7B%20%7D%2C%0A%20%20%20%20option%20if%20option.take().is_none()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%2F*%20impossible%2C%20option%20is%20%60Some%60%20*%2F%0A%20%20%20%20%7D%2C%0A%20%20%20%20Some(_)%20%3D%3E%20%7B%20%7D%20%2F%2F%20When%20the%20previous%20match%20failed%2C%20the%20option%20became%20%60None%60.%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0302" class="section-header"><a href="#E0302">E0302</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-26" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-26">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>Assignments are not allowed in pattern guards, because matching cannot have
side effects. Side effects could alter the matched object or the environment
on which the match depends in such a way, that the match would not be
exhaustive. For instance, the following would not match any arm if assignments
were allowed:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">match</span> <span class="prelude-val">Some</span>(()) {
    <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> { },
    <span class="ident">option</span> <span class="kw">if</span> { <span class="ident">option</span> <span class="op">=</span> <span class="prelude-val">None</span>; <span class="bool-val">false</span> } <span class="op">=</span><span class="op">&gt;</span> { },
    <span class="prelude-val">Some</span>(<span class="kw">_</span>) <span class="op">=</span><span class="op">&gt;</span> { } <span class="comment">// When the previous match failed, the option became `None`.</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amatch%20Some(())%20%7B%0A%20%20%20%20None%20%3D%3E%20%7B%20%7D%2C%0A%20%20%20%20option%20if%20%7B%20option%20%3D%20None%3B%20false%20%7D%20%3D%3E%20%7B%20%7D%2C%0A%20%20%20%20Some(_)%20%3D%3E%20%7B%20%7D%20%2F%2F%20When%20the%20previous%20match%20failed%2C%20the%20option%20became%20%60None%60.%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0303" class="section-header"><a href="#E0303">E0303</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-27" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-27">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>Sub-bindings, e.g. <code>ref x @ Some(ref y)</code> are now allowed under
<code>#![feature(bindings_after_at)]</code> and checked to make sure that
memory safety is upheld.</p>
<hr />
<p>In certain cases it is possible for sub-bindings to violate memory safety.
Updates to the borrow checker in a future version of Rust may remove this
restriction, but for now patterns must be rewritten without sub-bindings.</p>
<p>Before:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">match</span> <span class="prelude-val">Some</span>(<span class="string">&quot;hi&quot;</span>.<span class="ident">to_string</span>()) {
    <span class="kw-2">ref</span> <span class="ident">op_string_ref</span> @ <span class="prelude-val">Some</span>(<span class="ident">s</span>) <span class="op">=</span><span class="op">&gt;</span> {},
    <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> {},
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amatch%20Some(%22hi%22.to_string())%20%7B%0A%20%20%20%20ref%20op_string_ref%20%40%20Some(s)%20%3D%3E%20%7B%7D%2C%0A%20%20%20%20None%20%3D%3E%20%7B%7D%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>After:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">match</span> <span class="prelude-val">Some</span>(<span class="string">&quot;hi&quot;</span>.<span class="ident">to_string</span>()) {
    <span class="prelude-val">Some</span>(<span class="kw-2">ref</span> <span class="ident">s</span>) <span class="op">=</span><span class="op">&gt;</span> {
        <span class="kw">let</span> <span class="ident">op_string_ref</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="prelude-val">Some</span>(<span class="ident">s</span>);
        <span class="comment">// ...</span>
    },
    <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> {},
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amatch%20Some(%22hi%22.to_string())%20%7B%0A%20%20%20%20Some(ref%20s)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20let%20op_string_ref%20%3D%20%26Some(s)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20...%0A%20%20%20%20%7D%2C%0A%20%20%20%20None%20%3D%3E%20%7B%7D%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The <code>op_string_ref</code> binding has type <code>&amp;Option&lt;&amp;String&gt;</code> in both cases.</p>
<p>See also <a href="https://github.com/rust-lang/rust/issues/14587">Issue 14587</a>.</p>
</div>
<div class="error-described"><h2 id="E0307" class="section-header"><a href="#E0307">E0307</a></h2>
<p>The <code>self</code> parameter in a method has an invalid “receiver type”.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span>;
<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">trait</span> <span class="ident">Trait</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>);
}

<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="self">self</span>: <span class="kw-2">&amp;</span><span class="ident">Bar</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0Astruct%20Bar%3B%0A%0Atrait%20Trait%20%7B%0A%20%20%20%20fn%20foo(%26self)%3B%0A%7D%0A%0Aimpl%20Trait%20for%20Foo%20%7B%0A%20%20%20%20fn%20foo(self%3A%20%26Bar)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Methods take a special first parameter, of which there are three variants:
<code>self</code>, <code>&amp;self</code>, and <code>&amp;mut self</code>. These are syntactic sugar for
<code>self: Self</code>, <code>self: &amp;Self</code>, and <code>self: &amp;mut Self</code> respectively.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Trait</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>);
<span class="comment">//         ^^^^^ `self` here is a reference to the receiver object</span>
}

<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}
<span class="comment">//         ^^^^^ the receiver type is `&amp;Foo`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0Atrait%20Trait%20%7B%0A%20%20%20%20fn%20foo(%26self)%3B%0A%2F%2F%20%20%20%20%20%20%20%20%20%5E%5E%5E%5E%5E%20%60self%60%20here%20is%20a%20reference%20to%20the%20receiver%20object%0A%7D%0A%0Aimpl%20Trait%20for%20Foo%20%7B%0A%20%20%20%20fn%20foo(%26self)%20%7B%7D%0A%2F%2F%20%20%20%20%20%20%20%20%20%5E%5E%5E%5E%5E%20the%20receiver%20type%20is%20%60%26Foo%60%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The type <code>Self</code> acts as an alias to the type of the current trait
implementer, or “receiver type”. Besides the already mentioned <code>Self</code>,
<code>&amp;Self</code> and <code>&amp;mut Self</code> valid receiver types, the following are also valid:
<code>self: Box&lt;Self&gt;</code>, <code>self: Rc&lt;Self&gt;</code>, <code>self: Arc&lt;Self&gt;</code>, and <code>self: Pin&lt;P&gt;</code>
(where P is one of the previous types except <code>Self</code>). Note that <code>Self</code> can
also be the underlying implementing type, like <code>Foo</code> in the following
example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="self">self</span>: <span class="kw-2">&amp;</span><span class="ident">Foo</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0Atrait%20Trait%20%7B%0A%20%20%20%20fn%20foo(%26self)%3B%0A%7D%0Aimpl%20Trait%20for%20Foo%20%7B%0A%20%20%20%20fn%20foo(self%3A%20%26Foo)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This error will be emitted by the compiler when using an invalid receiver type,
like in the following example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">impl</span> <span class="ident">Trait</span> <span class="kw">for</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="self">self</span>: <span class="kw-2">&amp;</span><span class="ident">Bar</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0Astruct%20Bar%3B%0Atrait%20Trait%20%7B%0A%20%20%20%20fn%20foo(%26self)%3B%0A%7D%0Aimpl%20Trait%20for%20Foo%20%7B%0A%20%20%20%20fn%20foo(self%3A%20%26Bar)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The nightly feature <a href="https://doc.rust-lang.org/unstable-book/language-features/arbitrary-self-types.html">Arbitrary self types</a> extends the accepted
set of receiver types to also include any type that can dereference to
<code>Self</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">arbitrary_self_types</span>)]</span>

<span class="kw">struct</span> <span class="ident">Foo</span>;
<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="comment">// Because you can dereference `Bar` into `Foo`...</span>
<span class="kw">impl</span> <span class="ident">std</span>::<span class="ident">ops</span>::<span class="ident">Deref</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">type</span> <span class="ident">Target</span> <span class="op">=</span> <span class="ident">Foo</span>;

    <span class="kw">fn</span> <span class="ident">deref</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="ident">Foo</span> {
        <span class="kw-2">&amp;</span><span class="ident">Foo</span>
    }
}

<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="self">self</span>: <span class="ident">Bar</span>) {}
<span class="comment">//         ^^^^^^^^^ ...it can be used as the receiver type</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(arbitrary_self_types)%5D%0A%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0Astruct%20Bar%3B%0A%0A%2F%2F%20Because%20you%20can%20dereference%20%60Bar%60%20into%20%60Foo%60...%0Aimpl%20std%3A%3Aops%3A%3ADeref%20for%20Bar%20%7B%0A%20%20%20%20type%20Target%20%3D%20Foo%3B%0A%0A%20%20%20%20fn%20deref(%26self)%20-%3E%20%26Foo%20%7B%0A%20%20%20%20%20%20%20%20%26Foo%0A%20%20%20%20%7D%0A%7D%0A%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20foo(self%3A%20Bar)%20%7B%7D%0A%2F%2F%20%20%20%20%20%20%20%20%20%5E%5E%5E%5E%5E%5E%5E%5E%5E%20...it%20can%20be%20used%20as%20the%20receiver%20type%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0308" class="section-header"><a href="#E0308">E0308</a></h2>
<p>Expected type did not match the received type.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">plus_one</span>(<span class="ident">x</span>: <span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i32</span> {
    <span class="ident">x</span> <span class="op">+</span> <span class="number">1</span>
}

<span class="ident">plus_one</span>(<span class="string">&quot;Not a number&quot;</span>);
<span class="comment">//       ^^^^^^^^^^^^^^ expected `i32`, found `&amp;str`</span>

<span class="kw">if</span> <span class="string">&quot;Not a bool&quot;</span> {
<span class="comment">// ^^^^^^^^^^^^ expected `bool`, found `&amp;str`</span>
}

<span class="kw">let</span> <span class="ident">x</span>: <span class="ident">f32</span> <span class="op">=</span> <span class="string">&quot;Not a float&quot;</span>;
<span class="comment">//     ---   ^^^^^^^^^^^^^ expected `f32`, found `&amp;str`</span>
<span class="comment">//     |</span>
<span class="comment">//     expected due to this</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20plus_one(x%3A%20i32)%20-%3E%20i32%20%7B%0A%20%20%20%20x%20%2B%201%0A%7D%0A%0Aplus_one(%22Not%20a%20number%22)%3B%0A%2F%2F%20%20%20%20%20%20%20%5E%5E%5E%5E%5E%5E%5E%5E%5E%5E%5E%5E%5E%5E%20expected%20%60i32%60%2C%20found%20%60%26str%60%0A%0Aif%20%22Not%20a%20bool%22%20%7B%0A%2F%2F%20%5E%5E%5E%5E%5E%5E%5E%5E%5E%5E%5E%5E%20expected%20%60bool%60%2C%20found%20%60%26str%60%0A%7D%0A%0Alet%20x%3A%20f32%20%3D%20%22Not%20a%20float%22%3B%0A%2F%2F%20%20%20%20%20---%20%20%20%5E%5E%5E%5E%5E%5E%5E%5E%5E%5E%5E%5E%5E%20expected%20%60f32%60%2C%20found%20%60%26str%60%0A%2F%2F%20%20%20%20%20%7C%0A%2F%2F%20%20%20%20%20expected%20due%20to%20this%0A%7D&amp;edition=2015">Run</a></div>
<p>This error occurs when an expression was used in a place where the compiler
expected an expression of a different type. It can occur in several cases, the
most common being when calling a function and passing an argument which has a
different type than the matching type in the function declaration.</p>
</div>
<div class="error-described"><h2 id="E0309" class="section-header"><a href="#E0309">E0309</a></h2>
<p>A parameter type is missing an explicit lifetime bound and may not live long
enough.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="comment">// This won&#39;t compile because the applicable impl of</span>
<span class="comment">// `SomeTrait` (below) requires that `T: &#39;a`, but the struct does</span>
<span class="comment">// not have a matching where-clause.</span>
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">foo</span>: <span class="op">&lt;</span><span class="ident">T</span> <span class="kw">as</span> <span class="ident">SomeTrait</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span><span class="op">&gt;</span>::<span class="ident">Output</span>,
}

<span class="kw">trait</span> <span class="ident">SomeTrait</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="kw">type</span> <span class="ident">Output</span>;
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="ident">T</span><span class="op">&gt;</span> <span class="ident">SomeTrait</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">T</span>
<span class="kw">where</span>
    <span class="ident">T</span>: <span class="lifetime">&#39;a</span>,
{
    <span class="kw">type</span> <span class="ident">Output</span> <span class="op">=</span> <span class="ident">u32</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20This%20won't%20compile%20because%20the%20applicable%20impl%20of%0A%2F%2F%20%60SomeTrait%60%20(below)%20requires%20that%20%60T%3A%20'a%60%2C%20but%20the%20struct%20does%0A%2F%2F%20not%20have%20a%20matching%20where-clause.%0Afn%20main()%20%7B%0Astruct%20Foo%3C'a%2C%20T%3E%20%7B%0A%20%20%20%20foo%3A%20%3CT%20as%20SomeTrait%3C'a%3E%3E%3A%3AOutput%2C%0A%7D%0A%0Atrait%20SomeTrait%3C'a%3E%20%7B%0A%20%20%20%20type%20Output%3B%0A%7D%0A%0Aimpl%3C'a%2C%20T%3E%20SomeTrait%3C'a%3E%20for%20T%0Awhere%0A%20%20%20%20T%3A%20'a%2C%0A%7B%0A%20%20%20%20type%20Output%20%3D%20u32%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The type definition contains some field whose type requires an outlives
annotation. Outlives annotations (e.g., <code>T: 'a</code>) are used to guarantee that all
the data in <code>T</code> is valid for at least the lifetime <code>'a</code>. This scenario most
commonly arises when the type contains an associated type reference like
<code>&lt;T as SomeTrait&lt;'a&gt;&gt;::Output</code>, as shown in the previous code.</p>
<p>There, the where clause <code>T: 'a</code> that appears on the impl is not known to be
satisfied on the struct. To make this example compile, you have to add a
where-clause like <code>T: 'a</code> to the struct definition:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="ident">T</span><span class="op">&gt;</span>
<span class="kw">where</span>
    <span class="ident">T</span>: <span class="lifetime">&#39;a</span>,
{
    <span class="ident">foo</span>: <span class="op">&lt;</span><span class="ident">T</span> <span class="kw">as</span> <span class="ident">SomeTrait</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span><span class="op">&gt;</span>::<span class="ident">Output</span>
}

<span class="kw">trait</span> <span class="ident">SomeTrait</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="kw">type</span> <span class="ident">Output</span>;
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="ident">T</span><span class="op">&gt;</span> <span class="ident">SomeTrait</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">T</span>
<span class="kw">where</span>
    <span class="ident">T</span>: <span class="lifetime">&#39;a</span>,
{
    <span class="kw">type</span> <span class="ident">Output</span> <span class="op">=</span> <span class="ident">u32</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3C'a%2C%20T%3E%0Awhere%0A%20%20%20%20T%3A%20'a%2C%0A%7B%0A%20%20%20%20foo%3A%20%3CT%20as%20SomeTrait%3C'a%3E%3E%3A%3AOutput%0A%7D%0A%0Atrait%20SomeTrait%3C'a%3E%20%7B%0A%20%20%20%20type%20Output%3B%0A%7D%0A%0Aimpl%3C'a%2C%20T%3E%20SomeTrait%3C'a%3E%20for%20T%0Awhere%0A%20%20%20%20T%3A%20'a%2C%0A%7B%0A%20%20%20%20type%20Output%20%3D%20u32%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0310" class="section-header"><a href="#E0310">E0310</a></h2>
<p>A parameter type is missing a lifetime constraint or has a lifetime that
does not live long enough.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="comment">// This won&#39;t compile because T is not constrained to the static lifetime</span>
<span class="comment">// the reference needs</span>
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">foo</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">T</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20This%20won't%20compile%20because%20T%20is%20not%20constrained%20to%20the%20static%20lifetime%0A%2F%2F%20the%20reference%20needs%0Afn%20main()%20%7B%0Astruct%20Foo%3CT%3E%20%7B%0A%20%20%20%20foo%3A%20%26'static%20T%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Type parameters in type definitions have lifetimes associated with them that
represent how long the data stored within them is guaranteed to live. This
lifetime must be as long as the data needs to be alive, and missing the
constraint that denotes this will cause this error.</p>
<p>This will compile, because it has the constraint on the type parameter:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="lifetime">&#39;static</span><span class="op">&gt;</span> {
    <span class="ident">foo</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">T</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3CT%3A%20'static%3E%20%7B%0A%20%20%20%20foo%3A%20%26'static%20T%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-undescribed"><h2 id="E0311" class="section-header"><a href="#E0311">E0311</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0312" class="section-header"><a href="#E0312">E0312</a></h2>
<p>Reference’s lifetime of borrowed content doesn’t match the expected lifetime.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">opt_str</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">maybestr</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">String</span><span class="op">&gt;</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">str</span> {
    <span class="kw">if</span> <span class="ident">maybestr</span>.<span class="ident">is_none</span>() {
        <span class="string">&quot;(none)&quot;</span>
    } <span class="kw">else</span> {
        <span class="kw">let</span> <span class="ident">s</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span> <span class="op">=</span> <span class="ident">maybestr</span>.<span class="ident">as_ref</span>().<span class="ident">unwrap</span>();
        <span class="ident">s</span>  <span class="comment">// Invalid lifetime!</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Apub%20fn%20opt_str%3C'a%3E(maybestr%3A%20%26'a%20Option%3CString%3E)%20-%3E%20%26'static%20str%20%7B%0A%20%20%20%20if%20maybestr.is_none()%20%7B%0A%20%20%20%20%20%20%20%20%22(none)%22%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20let%20s%3A%20%26'a%20str%20%3D%20maybestr.as_ref().unwrap()%3B%0A%20%20%20%20%20%20%20%20s%20%20%2F%2F%20Invalid%20lifetime!%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, either lessen the expected lifetime or find a way to not have
to use this reference outside of its current scope (by running the code directly
in the same block for example?):</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="comment">// In this case, we can fix the issue by switching from &quot;static&quot; lifetime to &#39;a</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">opt_str</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">maybestr</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">String</span><span class="op">&gt;</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span> {
    <span class="kw">if</span> <span class="ident">maybestr</span>.<span class="ident">is_none</span>() {
        <span class="string">&quot;(none)&quot;</span>
    } <span class="kw">else</span> {
        <span class="kw">let</span> <span class="ident">s</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span> <span class="op">=</span> <span class="ident">maybestr</span>.<span class="ident">as_ref</span>().<span class="ident">unwrap</span>();
        <span class="ident">s</span>  <span class="comment">// Ok!</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20In%20this%20case%2C%20we%20can%20fix%20the%20issue%20by%20switching%20from%20%22static%22%20lifetime%20to%20'a%0Afn%20main()%20%7B%0Apub%20fn%20opt_str%3C'a%3E(maybestr%3A%20%26'a%20Option%3CString%3E)%20-%3E%20%26'a%20str%20%7B%0A%20%20%20%20if%20maybestr.is_none()%20%7B%0A%20%20%20%20%20%20%20%20%22(none)%22%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20let%20s%3A%20%26'a%20str%20%3D%20maybestr.as_ref().unwrap()%3B%0A%20%20%20%20%20%20%20%20s%20%20%2F%2F%20Ok!%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-undescribed"><h2 id="E0313" class="section-header"><a href="#E0313">E0313</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0314" class="section-header"><a href="#E0314">E0314</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0315" class="section-header"><a href="#E0315">E0315</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0316" class="section-header"><a href="#E0316">E0316</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0317" class="section-header"><a href="#E0317">E0317</a></h2>
<p>An <code>if</code> expression is missing an <code>else</code> block.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">5</span>;
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="kw">if</span> <span class="ident">x</span> <span class="op">=</span><span class="op">=</span> <span class="number">5</span> {
    <span class="number">1</span>
};</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%205%3B%0Alet%20a%20%3D%20if%20x%20%3D%3D%205%20%7B%0A%20%20%20%201%0A%7D%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>This error occurs when an <code>if</code> expression without an <code>else</code> block is used in a
context where a type other than <code>()</code> is expected. In the previous code example,
the <code>let</code> expression was expecting a value but since there was no <code>else</code>, no
value was returned.</p>
<p>An <code>if</code> expression without an <code>else</code> block has the type <code>()</code>, so this is a type
error. To resolve it, add an <code>else</code> block having the same type as the <code>if</code>
block.</p>
<p>So to fix the previous code example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">5</span>;
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="kw">if</span> <span class="ident">x</span> <span class="op">=</span><span class="op">=</span> <span class="number">5</span> {
    <span class="number">1</span>
} <span class="kw">else</span> {
    <span class="number">2</span>
};</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%205%3B%0Alet%20a%20%3D%20if%20x%20%3D%3D%205%20%7B%0A%20%20%20%201%0A%7D%20else%20%7B%0A%20%20%20%202%0A%7D%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-undescribed"><h2 id="E0320" class="section-header"><a href="#E0320">E0320</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0321" class="section-header"><a href="#E0321">E0321</a></h2>
<p>A cross-crate opt-out trait was implemented on something which wasn’t a struct
or enum type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">auto_traits</span>)]</span>

<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="op">!</span><span class="ident">Sync</span> <span class="kw">for</span> <span class="ident">Foo</span> {}

<span class="kw">unsafe</span> <span class="kw">impl</span> <span class="ident">Send</span> <span class="kw">for</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">Foo</span> {}
<span class="comment">// error: cross-crate traits with a default impl, like `core::marker::Send`,</span>
<span class="comment">//        can only be implemented for a struct/enum type, not</span>
<span class="comment">//        `&amp;&#39;static Foo`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(auto_traits)%5D%0A%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aimpl%20!Sync%20for%20Foo%20%7B%7D%0A%0Aunsafe%20impl%20Send%20for%20%26'static%20Foo%20%7B%7D%0A%2F%2F%20error%3A%20cross-crate%20traits%20with%20a%20default%20impl%2C%20like%20%60core%3A%3Amarker%3A%3ASend%60%2C%0A%2F%2F%20%20%20%20%20%20%20%20can%20only%20be%20implemented%20for%20a%20struct%2Fenum%20type%2C%20not%0A%2F%2F%20%20%20%20%20%20%20%20%60%26'static%20Foo%60%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Only structs and enums are permitted to impl Send, Sync, and other opt-out
trait, and the struct or enum must be local to the current crate. So, for
example, <code>unsafe impl Send for Rc&lt;Foo&gt;</code> is not allowed.</p>
</div>
<div class="error-described"><h2 id="E0322" class="section-header"><a href="#E0322">E0322</a></h2>
<p>The <code>Sized</code> trait was implemented explicitly.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="ident">Sized</span> <span class="kw">for</span> <span class="ident">Foo</span> {} <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aimpl%20Sized%20for%20Foo%20%7B%7D%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>The <code>Sized</code> trait is a special trait built-in to the compiler for types with a
constant size known at compile-time. This trait is automatically implemented
for types as needed by the compiler, and it is currently disallowed to
explicitly implement it for a type.</p>
</div>
<div class="error-described"><h2 id="E0323" class="section-header"><a href="#E0323">E0323</a></h2>
<p>An associated const was implemented when another trait item was expected.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">N</span>;
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">const</span> <span class="ident">N</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">0</span>;
    <span class="comment">// error: item `N` is an associated const, which doesn&#39;t match its</span>
    <span class="comment">//        trait `&lt;Bar as Foo&gt;`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20type%20N%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20const%20N%20%3A%20u32%20%3D%200%3B%0A%20%20%20%20%2F%2F%20error%3A%20item%20%60N%60%20is%20an%20associated%20const%2C%20which%20doesn't%20match%20its%0A%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20trait%20%60%3CBar%20as%20Foo%3E%60%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify that the associated const wasn’t misspelled and the correct trait
was implemented. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">N</span>;
}

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">type</span> <span class="ident">N</span> <span class="op">=</span> <span class="ident">u32</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Bar%3B%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20type%20N%3B%0A%7D%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20type%20N%20%3D%20u32%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Or:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">const</span> <span class="ident">N</span> : <span class="ident">u32</span>;
}

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">const</span> <span class="ident">N</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">0</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Bar%3B%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20const%20N%20%3A%20u32%3B%0A%7D%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20const%20N%20%3A%20u32%20%3D%200%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0324" class="section-header"><a href="#E0324">E0324</a></h2>
<p>A method was implemented when another trait item was expected.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">const</span> <span class="ident">N</span> : <span class="ident">u32</span>;

    <span class="kw">fn</span> <span class="ident">M</span>();
}

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">N</span>() {}
    <span class="comment">// error: item `N` is an associated method, which doesn&#39;t match its</span>
    <span class="comment">//        trait `&lt;Bar as Foo&gt;`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Bar%3B%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20const%20N%20%3A%20u32%3B%0A%0A%20%20%20%20fn%20M()%3B%0A%7D%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20fn%20N()%20%7B%7D%0A%20%20%20%20%2F%2F%20error%3A%20item%20%60N%60%20is%20an%20associated%20method%2C%20which%20doesn't%20match%20its%0A%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20trait%20%60%3CBar%20as%20Foo%3E%60%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, please verify that the method name wasn’t misspelled and
verify that you are indeed implementing the correct trait items. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">const</span> <span class="ident">N</span> : <span class="ident">u32</span>;

    <span class="kw">fn</span> <span class="ident">M</span>();
}

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">const</span> <span class="ident">N</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">0</span>;

    <span class="kw">fn</span> <span class="ident">M</span>() {} <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Bar%3B%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20const%20N%20%3A%20u32%3B%0A%0A%20%20%20%20fn%20M()%3B%0A%7D%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20const%20N%20%3A%20u32%20%3D%200%3B%0A%0A%20%20%20%20fn%20M()%20%7B%7D%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0325" class="section-header"><a href="#E0325">E0325</a></h2>
<p>An associated type was implemented when another trait item was expected.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">const</span> <span class="ident">N</span> : <span class="ident">u32</span>;
}

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">type</span> <span class="ident">N</span> <span class="op">=</span> <span class="ident">u32</span>;
    <span class="comment">// error: item `N` is an associated type, which doesn&#39;t match its</span>
    <span class="comment">//        trait `&lt;Bar as Foo&gt;`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Bar%3B%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20const%20N%20%3A%20u32%3B%0A%7D%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20type%20N%20%3D%20u32%3B%0A%20%20%20%20%2F%2F%20error%3A%20item%20%60N%60%20is%20an%20associated%20type%2C%20which%20doesn't%20match%20its%0A%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20trait%20%60%3CBar%20as%20Foo%3E%60%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify that the associated type name wasn’t misspelled and your
implementation corresponds to the trait definition. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">N</span>;
}

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">type</span> <span class="ident">N</span> <span class="op">=</span> <span class="ident">u32</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Bar%3B%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20type%20N%3B%0A%7D%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20type%20N%20%3D%20u32%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Or:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">const</span> <span class="ident">N</span> : <span class="ident">u32</span>;
}

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">const</span> <span class="ident">N</span> : <span class="ident">u32</span> <span class="op">=</span> <span class="number">0</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Bar%3B%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20const%20N%20%3A%20u32%3B%0A%7D%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20const%20N%20%3A%20u32%20%3D%200%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0326" class="section-header"><a href="#E0326">E0326</a></h2>
<p>An implementation of a trait doesn’t match the type constraint.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">const</span> <span class="ident">BAR</span>: <span class="ident">bool</span>;
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">const</span> <span class="ident">BAR</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="number">5</span>; <span class="comment">// error, expected bool, found u32</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20const%20BAR%3A%20bool%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20const%20BAR%3A%20u32%20%3D%205%3B%20%2F%2F%20error%2C%20expected%20bool%2C%20found%20u32%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The types of any associated constants in a trait implementation must match the
types in the trait definition.</p>
</div>
<div class="error-described"><h2 id="E0328" class="section-header"><a href="#E0328">E0328</a></h2>
<p>The Unsize trait should not be implemented directly. All implementations of
Unsize are provided automatically by the compiler.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">unsize</span>)]</span>

<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">marker</span>::<span class="ident">Unsize</span>;

<span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">MyType</span>;

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">Unsize</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">MyType</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(unsize)%5D%0A%0Afn%20main()%20%7B%0Ause%20std%3A%3Amarker%3A%3AUnsize%3B%0A%0Apub%20struct%20MyType%3B%0A%0Aimpl%3CT%3E%20Unsize%3CT%3E%20for%20MyType%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>If you are defining your own smart pointer type and would like to enable
conversion from a sized to an unsized type with the
<a href="https://github.com/rust-lang/rfcs/blob/master/text/0982-dst-coercion.md">DST coercion system</a>, use <a href="https://doc.rust-lang.org/std/ops/trait.CoerceUnsized.html"><code>CoerceUnsized</code></a> instead.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">coerce_unsized</span>)]</span>

<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">ops</span>::<span class="ident">CoerceUnsized</span>;

<span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">MyType</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="question-mark">?</span><span class="ident">Sized</span><span class="op">&gt;</span> {
    <span class="ident">field_with_unsized_type</span>: <span class="ident">T</span>,
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">U</span><span class="op">&gt;</span> <span class="ident">CoerceUnsized</span><span class="op">&lt;</span><span class="ident">MyType</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">MyType</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>
    <span class="kw">where</span> <span class="ident">T</span>: <span class="ident">CoerceUnsized</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(coerce_unsized)%5D%0A%0Afn%20main()%20%7B%0Ause%20std%3A%3Aops%3A%3ACoerceUnsized%3B%0A%0Apub%20struct%20MyType%3CT%3A%20%3FSized%3E%20%7B%0A%20%20%20%20field_with_unsized_type%3A%20T%2C%0A%7D%0A%0Aimpl%3CT%2C%20U%3E%20CoerceUnsized%3CMyType%3CU%3E%3E%20for%20MyType%3CT%3E%0A%20%20%20%20where%20T%3A%20CoerceUnsized%3CU%3E%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0329" class="section-header"><a href="#E0329">E0329</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-28" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-28">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>An attempt was made to access an associated constant through either a generic
type parameter or <code>Self</code>. This is not supported yet. An example causing this
error is shown below:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">const</span> <span class="ident">BAR</span>: <span class="ident">f64</span>;
}

<span class="kw">struct</span> <span class="ident">MyStruct</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">MyStruct</span> {
    <span class="kw">const</span> <span class="ident">BAR</span>: <span class="ident">f64</span> <span class="op">=</span> <span class="number">0f64</span>;
}

<span class="kw">fn</span> <span class="ident">get_bar_bad</span><span class="op">&lt;</span><span class="ident">F</span>: <span class="ident">Foo</span><span class="op">&gt;</span>(<span class="ident">t</span>: <span class="ident">F</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">f64</span> {
    <span class="ident">F</span>::<span class="ident">BAR</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20const%20BAR%3A%20f64%3B%0A%7D%0A%0Astruct%20MyStruct%3B%0A%0Aimpl%20Foo%20for%20MyStruct%20%7B%0A%20%20%20%20const%20BAR%3A%20f64%20%3D%200f64%3B%0A%7D%0A%0Afn%20get_bar_bad%3CF%3A%20Foo%3E(t%3A%20F)%20-%3E%20f64%20%7B%0A%20%20%20%20F%3A%3ABAR%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Currently, the value of <code>BAR</code> for a particular type can only be accessed
through a concrete type, as shown below:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">const</span> <span class="ident">BAR</span>: <span class="ident">f64</span>;
}

<span class="kw">struct</span> <span class="ident">MyStruct</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">MyStruct</span> {
    <span class="kw">const</span> <span class="ident">BAR</span>: <span class="ident">f64</span> <span class="op">=</span> <span class="number">0f64</span>;
}

<span class="kw">fn</span> <span class="ident">get_bar_good</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">f64</span> {
    <span class="op">&lt;</span><span class="ident">MyStruct</span> <span class="kw">as</span> <span class="ident">Foo</span><span class="op">&gt;</span>::<span class="ident">BAR</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20const%20BAR%3A%20f64%3B%0A%7D%0A%0Astruct%20MyStruct%3B%0A%0Aimpl%20Foo%20for%20MyStruct%20%7B%0A%20%20%20%20const%20BAR%3A%20f64%20%3D%200f64%3B%0A%7D%0A%0Afn%20get_bar_good()%20-%3E%20f64%20%7B%0A%20%20%20%20%3CMyStruct%20as%20Foo%3E%3A%3ABAR%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0364" class="section-header"><a href="#E0364">E0364</a></h2>
<p>Private items cannot be publicly re-exported. This error indicates that you
attempted to <code>pub use</code> a type or value that was not itself public.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">mod</span> <span class="ident">a</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>() {}

    <span class="kw">mod</span> <span class="ident">a</span> {
        <span class="kw">pub</span> <span class="kw">use</span> <span class="kw">super</span>::<span class="ident">foo</span>; <span class="comment">// error!</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20a%20%7B%0A%20%20%20%20fn%20foo()%20%7B%7D%0A%0A%20%20%20%20mod%20a%20%7B%0A%20%20%20%20%20%20%20%20pub%20use%20super%3A%3Afoo%3B%20%2F%2F%20error!%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The solution to this problem is to ensure that the items that you are
re-exporting are themselves marked with <code>pub</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">mod</span> <span class="ident">a</span> {
    <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span>() {} <span class="comment">// ok!</span>

    <span class="kw">mod</span> <span class="ident">a</span> {
        <span class="kw">pub</span> <span class="kw">use</span> <span class="kw">super</span>::<span class="ident">foo</span>;
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20a%20%7B%0A%20%20%20%20pub%20fn%20foo()%20%7B%7D%20%2F%2F%20ok!%0A%0A%20%20%20%20mod%20a%20%7B%0A%20%20%20%20%20%20%20%20pub%20use%20super%3A%3Afoo%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>See the <a href="https://doc.rust-lang.org/reference/items/use-declarations.html">Use Declarations</a> section of the reference for
more information on this topic.</p>
</div>
<div class="error-described"><h2 id="E0365" class="section-header"><a href="#E0365">E0365</a></h2>
<p>Private modules cannot be publicly re-exported. This error indicates that you
attempted to <code>pub use</code> a module that was not itself public.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">X</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="number">1</span>;
}

<span class="kw">pub</span> <span class="kw">use</span> <span class="ident">foo</span> <span class="kw">as</span> <span class="ident">foo2</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Amod%20foo%20%7B%0A%20%20%20%20pub%20const%20X%3A%20u32%20%3D%201%3B%0A%7D%0A%0Apub%20use%20foo%20as%20foo2%3B%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>The solution to this problem is to ensure that the module that you are
re-exporting is itself marked with <code>pub</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">X</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="number">1</span>;
}

<span class="kw">pub</span> <span class="kw">use</span> <span class="ident">foo</span> <span class="kw">as</span> <span class="ident">foo2</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Apub%20mod%20foo%20%7B%0A%20%20%20%20pub%20const%20X%3A%20u32%20%3D%201%3B%0A%7D%0A%0Apub%20use%20foo%20as%20foo2%3B%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>See the <a href="https://doc.rust-lang.org/reference/items/use-declarations.html">Use Declarations</a> section of the reference for
more information on this topic.</p>
</div>
<div class="error-described"><h2 id="E0366" class="section-header"><a href="#E0366">E0366</a></h2>
<p>An attempt was made to implement <code>Drop</code> on a concrete specialization of a
generic type. An example is shown below:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">t</span>: <span class="ident">T</span>
}

<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">u32</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3CT%3E%20%7B%0A%20%20%20%20t%3A%20T%0A%7D%0A%0Aimpl%20Drop%20for%20Foo%3Cu32%3E%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This code is not legal: it is not possible to specialize <code>Drop</code> to a subset of
implementations of a generic type. One workaround for this is to wrap the
generic type, as shown below:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">t</span>: <span class="ident">T</span>
}

<span class="kw">struct</span> <span class="ident">Bar</span> {
    <span class="ident">t</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">u32</span><span class="op">&gt;</span>
}

<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3CT%3E%20%7B%0A%20%20%20%20t%3A%20T%0A%7D%0A%0Astruct%20Bar%20%7B%0A%20%20%20%20t%3A%20Foo%3Cu32%3E%0A%7D%0A%0Aimpl%20Drop%20for%20Bar%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0367" class="section-header"><a href="#E0367">E0367</a></h2>
<p>An attempt was made to implement <code>Drop</code> on a specialization of a generic type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {}

<span class="kw">struct</span> <span class="ident">MyStruct</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">t</span>: <span class="ident">T</span>
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Foo</span><span class="op">&gt;</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">MyStruct</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%7D%0A%0Astruct%20MyStruct%3CT%3E%20%7B%0A%20%20%20%20t%3A%20T%0A%7D%0A%0Aimpl%3CT%3A%20Foo%3E%20Drop%20for%20MyStruct%3CT%3E%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This code is not legal: it is not possible to specialize <code>Drop</code> to a subset of
implementations of a generic type. In order for this code to work, <code>MyStruct</code>
must also require that <code>T</code> implements <code>Foo</code>. Alternatively, another option is
to wrap the generic type in another that specializes appropriately:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span>{}

<span class="kw">struct</span> <span class="ident">MyStruct</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">t</span>: <span class="ident">T</span>
}

<span class="kw">struct</span> <span class="ident">MyStructWrapper</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Foo</span><span class="op">&gt;</span> {
    <span class="ident">t</span>: <span class="ident">MyStruct</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>
}

<span class="kw">impl</span> <span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Foo</span><span class="op">&gt;</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">MyStructWrapper</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%7B%7D%0A%0Astruct%20MyStruct%3CT%3E%20%7B%0A%20%20%20%20t%3A%20T%0A%7D%0A%0Astruct%20MyStructWrapper%3CT%3A%20Foo%3E%20%7B%0A%20%20%20%20t%3A%20MyStruct%3CT%3E%0A%7D%0A%0Aimpl%20%3CT%3A%20Foo%3E%20Drop%20for%20MyStructWrapper%3CT%3E%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0368" class="section-header"><a href="#E0368">E0368</a></h2>
<p>A binary assignment operator like <code>+=</code> or <code>^=</code> was applied to a type that
doesn’t support it.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">12f32</span>; <span class="comment">// error: binary operation `&lt;&lt;` cannot be applied to</span>
                   <span class="comment">//        type `f32`</span>

<span class="ident">x</span> <span class="op">&lt;</span><span class="op">&lt;</span><span class="op">=</span> <span class="number">2</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20x%20%3D%2012f32%3B%20%2F%2F%20error%3A%20binary%20operation%20%60%3C%3C%60%20cannot%20be%20applied%20to%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20type%20%60f32%60%0A%0Ax%20%3C%3C%3D%202%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, please check that this type implements this binary
operation. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">12u32</span>; <span class="comment">// the `u32` type does implement the `ShlAssign` trait</span>

<span class="ident">x</span> <span class="op">&lt;</span><span class="op">&lt;</span><span class="op">=</span> <span class="number">2</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20x%20%3D%2012u32%3B%20%2F%2F%20the%20%60u32%60%20type%20does%20implement%20the%20%60ShlAssign%60%20trait%0A%0Ax%20%3C%3C%3D%202%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>It is also possible to overload most operators for your own type by
implementing the <code>[OP]Assign</code> traits from <code>std::ops</code>.</p>
<p>Another problem you might be facing is this: suppose you’ve overloaded the <code>+</code>
operator for some type <code>Foo</code> by implementing the <code>std::ops::Add</code> trait for
<code>Foo</code>, but you find that using <code>+=</code> does not work, as in this example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">ops</span>::<span class="ident">Add</span>;

<span class="kw">struct</span> <span class="ident">Foo</span>(<span class="ident">u32</span>);

<span class="kw">impl</span> <span class="ident">Add</span> <span class="kw">for</span> <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">Output</span> <span class="op">=</span> <span class="ident">Foo</span>;

    <span class="kw">fn</span> <span class="ident">add</span>(<span class="self">self</span>, <span class="ident">rhs</span>: <span class="ident">Foo</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Foo</span> {
        <span class="ident">Foo</span>(<span class="self">self</span>.<span class="number">0</span> <span class="op">+</span> <span class="ident">rhs</span>.<span class="number">0</span>)
    }
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span>: <span class="ident">Foo</span> <span class="op">=</span> <span class="ident">Foo</span>(<span class="number">5</span>);
    <span class="ident">x</span> <span class="op">+</span><span class="op">=</span> <span class="ident">Foo</span>(<span class="number">7</span>); <span class="comment">// error, `+= cannot be applied to the type `Foo`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Aops%3A%3AAdd%3B%0A%0Astruct%20Foo(u32)%3B%0A%0Aimpl%20Add%20for%20Foo%20%7B%0A%20%20%20%20type%20Output%20%3D%20Foo%3B%0A%0A%20%20%20%20fn%20add(self%2C%20rhs%3A%20Foo)%20-%3E%20Foo%20%7B%0A%20%20%20%20%20%20%20%20Foo(self.0%20%2B%20rhs.0)%0A%20%20%20%20%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20x%3A%20Foo%20%3D%20Foo(5)%3B%0A%20%20%20%20x%20%2B%3D%20Foo(7)%3B%20%2F%2F%20error%2C%20%60%2B%3D%20cannot%20be%20applied%20to%20the%20type%20%60Foo%60%0A%7D&amp;edition=2015">Run</a></div>
<p>This is because <code>AddAssign</code> is not automatically implemented, so you need to
manually implement it for your type.</p>
</div>
<div class="error-described"><h2 id="E0369" class="section-header"><a href="#E0369">E0369</a></h2>
<p>A binary operation was attempted on a type which doesn’t support it.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">12f32</span>; <span class="comment">// error: binary operation `&lt;&lt;` cannot be applied to</span>
               <span class="comment">//        type `f32`</span>

<span class="ident">x</span> <span class="op">&lt;</span><span class="op">&lt;</span> <span class="number">2</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%2012f32%3B%20%2F%2F%20error%3A%20binary%20operation%20%60%3C%3C%60%20cannot%20be%20applied%20to%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20type%20%60f32%60%0A%0Ax%20%3C%3C%202%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, please check that this type implements this binary
operation. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">12u32</span>; <span class="comment">// the `u32` type does implement it:</span>
               <span class="comment">// https://doc.rust-lang.org/stable/std/ops/trait.Shl.html</span>

<span class="ident">x</span> <span class="op">&lt;</span><span class="op">&lt;</span> <span class="number">2</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%2012u32%3B%20%2F%2F%20the%20%60u32%60%20type%20does%20implement%20it%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fdoc.rust-lang.org%2Fstable%2Fstd%2Fops%2Ftrait.Shl.html%0A%0Ax%20%3C%3C%202%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>It is also possible to overload most operators for your own type by
implementing traits from <code>std::ops</code>.</p>
<p>String concatenation appends the string on the right to the string on the
left and may require reallocation. This requires ownership of the string
on the left. If something should be added to a string literal, move the
literal to the heap by allocating it with <code>to_owned()</code> like in
<code>&quot;Your text&quot;.to_owned()</code>.</p>
</div>
<div class="error-described"><h2 id="E0370" class="section-header"><a href="#E0370">E0370</a></h2>
<p>The maximum value of an enum was reached, so it cannot be automatically
set in the next enum value.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">i64</span>)]</span>
<span class="kw">enum</span> <span class="ident">Foo</span> {
    <span class="ident">X</span> <span class="op">=</span> <span class="number">0x7fffffffffffffff</span>,
    <span class="ident">Y</span>, <span class="comment">// error: enum discriminant overflowed on value after</span>
       <span class="comment">//        9223372036854775807: i64; set explicitly via</span>
       <span class="comment">//        Y = -9223372036854775808 if that is desired outcome</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(i64)%5D%0Aenum%20Foo%20%7B%0A%20%20%20%20X%20%3D%200x7fffffffffffffff%2C%0A%20%20%20%20Y%2C%20%2F%2F%20error%3A%20enum%20discriminant%20overflowed%20on%20value%20after%0A%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%209223372036854775807%3A%20i64%3B%20set%20explicitly%20via%0A%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20Y%20%3D%20-9223372036854775808%20if%20that%20is%20desired%20outcome%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this, please set manually the next enum value or put the enum variant
with the maximum value at the end of the enum. Examples:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">i64</span>)]</span>
<span class="kw">enum</span> <span class="ident">Foo</span> {
    <span class="ident">X</span> <span class="op">=</span> <span class="number">0x7fffffffffffffff</span>,
    <span class="ident">Y</span> <span class="op">=</span> <span class="number">0</span>, <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(i64)%5D%0Aenum%20Foo%20%7B%0A%20%20%20%20X%20%3D%200x7fffffffffffffff%2C%0A%20%20%20%20Y%20%3D%200%2C%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Or:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">i64</span>)]</span>
<span class="kw">enum</span> <span class="ident">Foo</span> {
    <span class="ident">Y</span> <span class="op">=</span> <span class="number">0</span>, <span class="comment">// ok!</span>
    <span class="ident">X</span> <span class="op">=</span> <span class="number">0x7fffffffffffffff</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(i64)%5D%0Aenum%20Foo%20%7B%0A%20%20%20%20Y%20%3D%200%2C%20%2F%2F%20ok!%0A%20%20%20%20X%20%3D%200x7fffffffffffffff%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0371" class="section-header"><a href="#E0371">E0371</a></h2>
<p>A trait was implemented on another which already automatically implemented it.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> { <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) { } }
<span class="kw">trait</span> <span class="ident">Bar</span>: <span class="ident">Foo</span> { }
<span class="kw">trait</span> <span class="ident">Baz</span>: <span class="ident">Bar</span> { }

<span class="kw">impl</span> <span class="ident">Bar</span> <span class="kw">for</span> <span class="ident">Baz</span> { } <span class="comment">// error, `Baz` implements `Bar` by definition</span>
<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Baz</span> { } <span class="comment">// error, `Baz` implements `Bar` which implements `Foo`</span>
<span class="kw">impl</span> <span class="ident">Baz</span> <span class="kw">for</span> <span class="ident">Baz</span> { } <span class="comment">// error, `Baz` (trivially) implements `Baz`</span>
<span class="kw">impl</span> <span class="ident">Baz</span> <span class="kw">for</span> <span class="ident">Bar</span> { } <span class="comment">// Note: This is OK</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%20fn%20foo(%26self)%20%7B%20%7D%20%7D%0Atrait%20Bar%3A%20Foo%20%7B%20%7D%0Atrait%20Baz%3A%20Bar%20%7B%20%7D%0A%0Aimpl%20Bar%20for%20Baz%20%7B%20%7D%20%2F%2F%20error%2C%20%60Baz%60%20implements%20%60Bar%60%20by%20definition%0Aimpl%20Foo%20for%20Baz%20%7B%20%7D%20%2F%2F%20error%2C%20%60Baz%60%20implements%20%60Bar%60%20which%20implements%20%60Foo%60%0Aimpl%20Baz%20for%20Baz%20%7B%20%7D%20%2F%2F%20error%2C%20%60Baz%60%20(trivially)%20implements%20%60Baz%60%0Aimpl%20Baz%20for%20Bar%20%7B%20%7D%20%2F%2F%20Note%3A%20This%20is%20OK%0A%7D&amp;edition=2015">Run</a></div>
<p>When <code>Trait2</code> is a subtrait of <code>Trait1</code> (for example, when <code>Trait2</code> has a
definition like <code>trait Trait2: Trait1 { ... }</code>), it is not allowed to implement
<code>Trait1</code> for <code>Trait2</code>. This is because <code>Trait2</code> already implements <code>Trait1</code> by
definition, so it is not useful to do this.</p>
</div>
<div class="error-described"><h2 id="E0373" class="section-header"><a href="#E0373">E0373</a></h2>
<p>A captured variable in a closure may not live long enough.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">Fn</span>(<span class="ident">u32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u32</span><span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">0u32</span>;
    <span class="ident">Box</span>::<span class="ident">new</span>(<span class="op">|</span><span class="ident">y</span><span class="op">|</span> <span class="ident">x</span> <span class="op">+</span> <span class="ident">y</span>)
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo()%20-%3E%20Box%3CFn(u32)%20-%3E%20u32%3E%20%7B%0A%20%20%20%20let%20x%20%3D%200u32%3B%0A%20%20%20%20Box%3A%3Anew(%7Cy%7C%20x%20%2B%20y)%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This error occurs when an attempt is made to use data captured by a closure,
when that data may no longer exist. It’s most commonly seen when attempting to
return a closure as shown in the previous code example.</p>
<p>Notice that <code>x</code> is stack-allocated by <code>foo()</code>. By default, Rust captures
closed-over data by reference. This means that once <code>foo()</code> returns, <code>x</code> no
longer exists. An attempt to access <code>x</code> within the closure would thus be
unsafe.</p>
<p>Another situation where this might be encountered is when spawning threads:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">0u32</span>;
    <span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="number">1u32</span>;

    <span class="kw">let</span> <span class="ident">thr</span> <span class="op">=</span> <span class="ident">std</span>::<span class="ident">thread</span>::<span class="ident">spawn</span>(<span class="op">|</span><span class="op">|</span> {
        <span class="ident">x</span> <span class="op">+</span> <span class="ident">y</span>
    });
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo()%20%7B%0A%20%20%20%20let%20x%20%3D%200u32%3B%0A%20%20%20%20let%20y%20%3D%201u32%3B%0A%0A%20%20%20%20let%20thr%20%3D%20std%3A%3Athread%3A%3Aspawn(%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20x%20%2B%20y%0A%20%20%20%20%7D)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Since our new thread runs in parallel, the stack frame containing <code>x</code> and <code>y</code>
may well have disappeared by the time we try to use them. Even if we call
<code>thr.join()</code> within foo (which blocks until <code>thr</code> has completed, ensuring the
stack frame won’t disappear), we will not succeed: the compiler cannot prove
that this behavior is safe, and so won’t let us do it.</p>
<p>The solution to this problem is usually to switch to using a <code>move</code> closure.
This approach moves (or copies, where possible) data into the closure, rather
than taking references to it. For example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">Fn</span>(<span class="ident">u32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u32</span><span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">0u32</span>;
    <span class="ident">Box</span>::<span class="ident">new</span>(<span class="kw">move</span> <span class="op">|</span><span class="ident">y</span><span class="op">|</span> <span class="ident">x</span> <span class="op">+</span> <span class="ident">y</span>)
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo()%20-%3E%20Box%3CFn(u32)%20-%3E%20u32%3E%20%7B%0A%20%20%20%20let%20x%20%3D%200u32%3B%0A%20%20%20%20Box%3A%3Anew(move%20%7Cy%7C%20x%20%2B%20y)%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Now that the closure has its own copy of the data, there’s no need to worry
about safety.</p>
<p>This error may also be encountered while using <code>async</code> blocks:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">future</span>::<span class="ident">Future</span>;

<span class="kw">async</span> <span class="kw">fn</span> <span class="ident">f</span>() {
    <span class="kw">let</span> <span class="ident">v</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3i32</span>];
    <span class="ident">spawn</span>(<span class="kw">async</span> { <span class="comment">//~ ERROR E0373</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{:?}&quot;</span>, <span class="ident">v</span>)
    });
}

<span class="kw">fn</span> <span class="ident">spawn</span><span class="op">&lt;</span><span class="ident">F</span>: <span class="ident">Future</span> <span class="op">+</span> <span class="ident">Send</span> <span class="op">+</span> <span class="lifetime">&#39;static</span><span class="op">&gt;</span>(<span class="ident">future</span>: <span class="ident">F</span>) {
    <span class="macro">unimplemented</span><span class="macro">!</span>()
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Afuture%3A%3AFuture%3B%0A%0Aasync%20fn%20f()%20%7B%0A%20%20%20%20let%20v%20%3D%20vec!%5B1%2C%202%2C%203i32%5D%3B%0A%20%20%20%20spawn(async%20%7B%20%2F%2F~%20ERROR%20E0373%0A%20%20%20%20%20%20%20%20println!(%22%7B%3A%3F%7D%22%2C%20v)%0A%20%20%20%20%7D)%3B%0A%7D%0A%0Afn%20spawn%3CF%3A%20Future%20%2B%20Send%20%2B%20'static%3E(future%3A%20F)%20%7B%0A%20%20%20%20unimplemented!()%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
<p>Similarly to closures, <code>async</code> blocks are not executed immediately and may
capture closed-over data by reference. For more information, see
https://rust-lang.github.io/async-book/03_async_await/01_chapter.html.</p>
</div>
<div class="error-described"><h2 id="E0374" class="section-header"><a href="#E0374">E0374</a></h2>
<p><code>CoerceUnsized</code> was implemented on a struct which does not contain a field with
an unsized type.</p>
<p>Example of erroneous code:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">coerce_unsized</span>)]</span>
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">ops</span>::<span class="ident">CoerceUnsized</span>;

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="question-mark">?</span><span class="ident">Sized</span><span class="op">&gt;</span> {
    <span class="ident">a</span>: <span class="ident">i32</span>,
}

<span class="comment">// error: Struct `Foo` has no unsized fields that need `CoerceUnsized`.</span>
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">U</span><span class="op">&gt;</span> <span class="ident">CoerceUnsized</span><span class="op">&lt;</span><span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>
    <span class="kw">where</span> <span class="ident">T</span>: <span class="ident">CoerceUnsized</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(coerce_unsized)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aops%3A%3ACoerceUnsized%3B%0A%0Astruct%20Foo%3CT%3A%20%3FSized%3E%20%7B%0A%20%20%20%20a%3A%20i32%2C%0A%7D%0A%0A%2F%2F%20error%3A%20Struct%20%60Foo%60%20has%20no%20unsized%20fields%20that%20need%20%60CoerceUnsized%60.%0Aimpl%3CT%2C%20U%3E%20CoerceUnsized%3CFoo%3CU%3E%3E%20for%20Foo%3CT%3E%0A%20%20%20%20where%20T%3A%20CoerceUnsized%3CU%3E%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>An <a href="https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait">unsized type</a> is any type where the compiler does not know the length or
alignment of at compile time. Any struct containing an unsized type is also
unsized.</p>
<p><code>CoerceUnsized</code> is used to coerce one struct containing an unsized type
into another struct containing a different unsized type. If the struct
doesn’t have any fields of unsized types then you don’t need explicit
coercion to get the types you want. To fix this you can either
not try to implement <code>CoerceUnsized</code> or you can add a field that is
unsized to the struct.</p>
<p>Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">coerce_unsized</span>)]</span>
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">ops</span>::<span class="ident">CoerceUnsized</span>;

<span class="comment">// We don&#39;t need to impl `CoerceUnsized` here.</span>
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">a</span>: <span class="ident">i32</span>,
}

<span class="comment">// We add the unsized type field to the struct.</span>
<span class="kw">struct</span> <span class="ident">Bar</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="question-mark">?</span><span class="ident">Sized</span><span class="op">&gt;</span> {
    <span class="ident">a</span>: <span class="ident">i32</span>,
    <span class="ident">b</span>: <span class="ident">T</span>,
}

<span class="comment">// The struct has an unsized field so we can implement</span>
<span class="comment">// `CoerceUnsized` for it.</span>
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">U</span><span class="op">&gt;</span> <span class="ident">CoerceUnsized</span><span class="op">&lt;</span><span class="ident">Bar</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Bar</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>
    <span class="kw">where</span> <span class="ident">T</span>: <span class="ident">CoerceUnsized</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(coerce_unsized)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aops%3A%3ACoerceUnsized%3B%0A%0A%2F%2F%20We%20don't%20need%20to%20impl%20%60CoerceUnsized%60%20here.%0Astruct%20Foo%20%7B%0A%20%20%20%20a%3A%20i32%2C%0A%7D%0A%0A%2F%2F%20We%20add%20the%20unsized%20type%20field%20to%20the%20struct.%0Astruct%20Bar%3CT%3A%20%3FSized%3E%20%7B%0A%20%20%20%20a%3A%20i32%2C%0A%20%20%20%20b%3A%20T%2C%0A%7D%0A%0A%2F%2F%20The%20struct%20has%20an%20unsized%20field%20so%20we%20can%20implement%0A%2F%2F%20%60CoerceUnsized%60%20for%20it.%0Aimpl%3CT%2C%20U%3E%20CoerceUnsized%3CBar%3CU%3E%3E%20for%20Bar%3CT%3E%0A%20%20%20%20where%20T%3A%20CoerceUnsized%3CU%3E%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Note that <code>CoerceUnsized</code> is mainly used by smart pointers like <code>Box</code>, <code>Rc</code>
and <code>Arc</code> to be able to mark that they can coerce unsized types that they
are pointing at.</p>
</div>
<div class="error-described"><h2 id="E0375" class="section-header"><a href="#E0375">E0375</a></h2>
<p><code>CoerceUnsized</code> was implemented on a struct which contains more than one field
with an unsized type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">coerce_unsized</span>)]</span>
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">ops</span>::<span class="ident">CoerceUnsized</span>;

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="question-mark">?</span><span class="ident">Sized</span>, <span class="ident">U</span>: <span class="question-mark">?</span><span class="ident">Sized</span><span class="op">&gt;</span> {
    <span class="ident">a</span>: <span class="ident">i32</span>,
    <span class="ident">b</span>: <span class="ident">T</span>,
    <span class="ident">c</span>: <span class="ident">U</span>,
}

<span class="comment">// error: Struct `Foo` has more than one unsized field.</span>
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">U</span><span class="op">&gt;</span> <span class="ident">CoerceUnsized</span><span class="op">&lt;</span><span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">U</span>, <span class="ident">T</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">U</span><span class="op">&gt;</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(coerce_unsized)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aops%3A%3ACoerceUnsized%3B%0A%0Astruct%20Foo%3CT%3A%20%3FSized%2C%20U%3A%20%3FSized%3E%20%7B%0A%20%20%20%20a%3A%20i32%2C%0A%20%20%20%20b%3A%20T%2C%0A%20%20%20%20c%3A%20U%2C%0A%7D%0A%0A%2F%2F%20error%3A%20Struct%20%60Foo%60%20has%20more%20than%20one%20unsized%20field.%0Aimpl%3CT%2C%20U%3E%20CoerceUnsized%3CFoo%3CU%2C%20T%3E%3E%20for%20Foo%3CT%2C%20U%3E%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>A struct with more than one field containing an unsized type cannot implement
<code>CoerceUnsized</code>. This only occurs when you are trying to coerce one of the
types in your struct to another type in the struct. In this case we try to
impl <code>CoerceUnsized</code> from <code>T</code> to <code>U</code> which are both types that the struct
takes. An <a href="https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait">unsized type</a> is any type that the compiler doesn’t know the
length or alignment of at compile time. Any struct containing an unsized type
is also unsized.</p>
<p><code>CoerceUnsized</code> only allows for coercion from a structure with a single
unsized type field to another struct with a single unsized type field.
In fact Rust only allows for a struct to have one unsized type in a struct
and that unsized type must be the last field in the struct. So having two
unsized types in a single struct is not allowed by the compiler. To fix this
use only one field containing an unsized type in the struct and then use
multiple structs to manage each unsized type field you need.</p>
<p>Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">coerce_unsized</span>)]</span>
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">ops</span>::<span class="ident">CoerceUnsized</span>;

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="question-mark">?</span><span class="ident">Sized</span><span class="op">&gt;</span> {
    <span class="ident">a</span>: <span class="ident">i32</span>,
    <span class="ident">b</span>: <span class="ident">T</span>,
}

<span class="kw">impl</span> <span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">U</span><span class="op">&gt;</span> <span class="ident">CoerceUnsized</span><span class="op">&lt;</span><span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>
    <span class="kw">where</span> <span class="ident">T</span>: <span class="ident">CoerceUnsized</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span> {}

<span class="kw">fn</span> <span class="ident">coerce_foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">CoerceUnsized</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span>, <span class="ident">U</span><span class="op">&gt;</span>(<span class="ident">t</span>: <span class="ident">T</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span> {
    <span class="ident">Foo</span> { <span class="ident">a</span>: <span class="number">12i32</span>, <span class="ident">b</span>: <span class="ident">t</span> } <span class="comment">// we use coercion to get the `Foo&lt;U&gt;` type we need</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(coerce_unsized)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aops%3A%3ACoerceUnsized%3B%0A%0Astruct%20Foo%3CT%3A%20%3FSized%3E%20%7B%0A%20%20%20%20a%3A%20i32%2C%0A%20%20%20%20b%3A%20T%2C%0A%7D%0A%0Aimpl%20%3CT%2C%20U%3E%20CoerceUnsized%3CFoo%3CU%3E%3E%20for%20Foo%3CT%3E%0A%20%20%20%20where%20T%3A%20CoerceUnsized%3CU%3E%20%7B%7D%0A%0Afn%20coerce_foo%3CT%3A%20CoerceUnsized%3CU%3E%2C%20U%3E(t%3A%20T)%20-%3E%20Foo%3CU%3E%20%7B%0A%20%20%20%20Foo%20%7B%20a%3A%2012i32%2C%20b%3A%20t%20%7D%20%2F%2F%20we%20use%20coercion%20to%20get%20the%20%60Foo%3CU%3E%60%20type%20we%20need%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0376" class="section-header"><a href="#E0376">E0376</a></h2>
<p><code>CoerceUnsized</code> was implemented on something that isn’t a struct.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">coerce_unsized</span>)]</span>
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">ops</span>::<span class="ident">CoerceUnsized</span>;

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="question-mark">?</span><span class="ident">Sized</span><span class="op">&gt;</span> {
    <span class="ident">a</span>: <span class="ident">T</span>,
}

<span class="comment">// error: The type `U` is not a struct</span>
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">U</span><span class="op">&gt;</span> <span class="ident">CoerceUnsized</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(coerce_unsized)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aops%3A%3ACoerceUnsized%3B%0A%0Astruct%20Foo%3CT%3A%20%3FSized%3E%20%7B%0A%20%20%20%20a%3A%20T%2C%0A%7D%0A%0A%2F%2F%20error%3A%20The%20type%20%60U%60%20is%20not%20a%20struct%0Aimpl%3CT%2C%20U%3E%20CoerceUnsized%3CU%3E%20for%20Foo%3CT%3E%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p><code>CoerceUnsized</code> can only be implemented for a struct. Unsized types are
already able to be coerced without an implementation of <code>CoerceUnsized</code>
whereas a struct containing an unsized type needs to know the unsized type
field it’s containing is able to be coerced. An <a href="https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait">unsized type</a>
is any type that the compiler doesn’t know the length or alignment of at
compile time. Any struct containing an unsized type is also unsized.</p>
<p>The <code>CoerceUnsized</code> trait takes a struct type. Make sure the type you are
providing to <code>CoerceUnsized</code> is a struct with only the last field containing an
unsized type.</p>
<p>Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">coerce_unsized</span>)]</span>
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">ops</span>::<span class="ident">CoerceUnsized</span>;

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">a</span>: <span class="ident">T</span>,
}

<span class="comment">// The `Foo&lt;U&gt;` is a struct so `CoerceUnsized` can be implemented</span>
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">U</span><span class="op">&gt;</span> <span class="ident">CoerceUnsized</span><span class="op">&lt;</span><span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="kw">where</span> <span class="ident">T</span>: <span class="ident">CoerceUnsized</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(coerce_unsized)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aops%3A%3ACoerceUnsized%3B%0A%0Astruct%20Foo%3CT%3E%20%7B%0A%20%20%20%20a%3A%20T%2C%0A%7D%0A%0A%2F%2F%20The%20%60Foo%3CU%3E%60%20is%20a%20struct%20so%20%60CoerceUnsized%60%20can%20be%20implemented%0Aimpl%3CT%2C%20U%3E%20CoerceUnsized%3CFoo%3CU%3E%3E%20for%20Foo%3CT%3E%20where%20T%3A%20CoerceUnsized%3CU%3E%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Note that in Rust, structs can only contain an unsized type if the field
containing the unsized type is the last and only unsized type field in the
struct.</p>
</div>
<div class="error-undescribed"><h2 id="E0377" class="section-header"><a href="#E0377">E0377</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0378" class="section-header"><a href="#E0378">E0378</a></h2>
<p>The <code>DispatchFromDyn</code> trait was implemented on something which is not a pointer
or a newtype wrapper around a pointer.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">dispatch_from_dyn</span>)]</span>
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">ops</span>::<span class="ident">DispatchFromDyn</span>;

<span class="kw">struct</span> <span class="ident">WrapperExtraField</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">ptr</span>: <span class="ident">T</span>,
    <span class="ident">extra_stuff</span>: <span class="ident">i32</span>,
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">U</span><span class="op">&gt;</span> <span class="ident">DispatchFromDyn</span><span class="op">&lt;</span><span class="ident">WrapperExtraField</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">WrapperExtraField</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>
<span class="kw">where</span>
    <span class="ident">T</span>: <span class="ident">DispatchFromDyn</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span>,
{}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(dispatch_from_dyn)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aops%3A%3ADispatchFromDyn%3B%0A%0Astruct%20WrapperExtraField%3CT%3E%20%7B%0A%20%20%20%20ptr%3A%20T%2C%0A%20%20%20%20extra_stuff%3A%20i32%2C%0A%7D%0A%0Aimpl%3CT%2C%20U%3E%20DispatchFromDyn%3CWrapperExtraField%3CU%3E%3E%20for%20WrapperExtraField%3CT%3E%0Awhere%0A%20%20%20%20T%3A%20DispatchFromDyn%3CU%3E%2C%0A%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>The <code>DispatchFromDyn</code> trait currently can only be implemented for
builtin pointer types and structs that are newtype wrappers around them
— that is, the struct must have only one field (except for<code>PhantomData</code>),
and that field must itself implement <code>DispatchFromDyn</code>.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">dispatch_from_dyn</span>, <span class="ident">unsize</span>)]</span>
<span class="kw">use</span> <span class="ident">std</span>::{
    <span class="ident">marker</span>::<span class="ident">Unsize</span>,
    <span class="ident">ops</span>::<span class="ident">DispatchFromDyn</span>,
};

<span class="kw">struct</span> <span class="ident">Ptr</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="question-mark">?</span><span class="ident">Sized</span><span class="op">&gt;</span>(<span class="kw-2">*</span><span class="kw">const</span> <span class="ident">T</span>);

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="question-mark">?</span><span class="ident">Sized</span>, <span class="ident">U</span>: <span class="question-mark">?</span><span class="ident">Sized</span><span class="op">&gt;</span> <span class="ident">DispatchFromDyn</span><span class="op">&lt;</span><span class="ident">Ptr</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Ptr</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>
<span class="kw">where</span>
    <span class="ident">T</span>: <span class="ident">Unsize</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span>,
{}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(dispatch_from_dyn%2C%20unsize)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3A%7B%0A%20%20%20%20marker%3A%3AUnsize%2C%0A%20%20%20%20ops%3A%3ADispatchFromDyn%2C%0A%7D%3B%0A%0Astruct%20Ptr%3CT%3A%20%3FSized%3E(*const%20T)%3B%0A%0Aimpl%3CT%3A%20%3FSized%2C%20U%3A%20%3FSized%3E%20DispatchFromDyn%3CPtr%3CU%3E%3E%20for%20Ptr%3CT%3E%0Awhere%0A%20%20%20%20T%3A%20Unsize%3CU%3E%2C%0A%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Another example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">dispatch_from_dyn</span>)]</span>
<span class="kw">use</span> <span class="ident">std</span>::{
    <span class="ident">ops</span>::<span class="ident">DispatchFromDyn</span>,
    <span class="ident">marker</span>::<span class="ident">PhantomData</span>,
};

<span class="kw">struct</span> <span class="ident">Wrapper</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">ptr</span>: <span class="ident">T</span>,
    <span class="ident">_phantom</span>: <span class="ident">PhantomData</span><span class="op">&lt;</span>()<span class="op">&gt;</span>,
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">U</span><span class="op">&gt;</span> <span class="ident">DispatchFromDyn</span><span class="op">&lt;</span><span class="ident">Wrapper</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Wrapper</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>
<span class="kw">where</span>
    <span class="ident">T</span>: <span class="ident">DispatchFromDyn</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span>,
{}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(dispatch_from_dyn)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3A%7B%0A%20%20%20%20ops%3A%3ADispatchFromDyn%2C%0A%20%20%20%20marker%3A%3APhantomData%2C%0A%7D%3B%0A%0Astruct%20Wrapper%3CT%3E%20%7B%0A%20%20%20%20ptr%3A%20T%2C%0A%20%20%20%20_phantom%3A%20PhantomData%3C()%3E%2C%0A%7D%0A%0Aimpl%3CT%2C%20U%3E%20DispatchFromDyn%3CWrapper%3CU%3E%3E%20for%20Wrapper%3CT%3E%0Awhere%0A%20%20%20%20T%3A%20DispatchFromDyn%3CU%3E%2C%0A%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0379" class="section-header"><a href="#E0379">E0379</a></h2>
<p>A trait method was declared const.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">const_fn</span>)]</span>

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">const</span> <span class="kw">fn</span> <span class="ident">bar</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u32</span>; <span class="comment">// error!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(const_fn)%5D%0A%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20const%20fn%20bar()%20-%3E%20u32%3B%20%2F%2F%20error!%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Trait methods cannot be declared <code>const</code> by design. For more information, see
<a href="https://github.com/rust-lang/rfcs/pull/911">RFC 911</a>.</p>
</div>
<div class="error-described"><h2 id="E0380" class="section-header"><a href="#E0380">E0380</a></h2>
<p>An auto trait was declared with a method or an associated item.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">unsafe</span> <span class="ident">auto</span> <span class="kw">trait</span> <span class="ident">Trait</span> {
    <span class="kw">type</span> <span class="ident">Output</span>; <span class="comment">// error!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aunsafe%20auto%20trait%20Trait%20%7B%0A%20%20%20%20type%20Output%3B%20%2F%2F%20error!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Auto traits cannot have methods or associated items. For more information see
the <a href="https://github.com/rust-lang/rfcs/blob/master/text/0019-opt-in-builtin-traits.md">opt-in builtin traits RFC</a>.</p>
</div>
<div class="error-described"><h2 id="E0381" class="section-header"><a href="#E0381">E0381</a></h2>
<p>It is not allowed to use or capture an uninitialized variable.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span>: <span class="ident">i32</span>;
    <span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="ident">x</span>; <span class="comment">// error, use of possibly-uninitialized variable</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%3A%20i32%3B%0A%20%20%20%20let%20y%20%3D%20x%3B%20%2F%2F%20error%2C%20use%20of%20possibly-uninitialized%20variable%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this, ensure that any declared variables are initialized before being
used. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span>: <span class="ident">i32</span> <span class="op">=</span> <span class="number">0</span>;
    <span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="ident">x</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%3A%20i32%20%3D%200%3B%0A%20%20%20%20let%20y%20%3D%20x%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0382" class="section-header"><a href="#E0382">E0382</a></h2>
<p>A variable was used after its contents have been moved elsewhere.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">MyStruct</span> { <span class="ident">s</span>: <span class="ident">u32</span> }

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">MyStruct</span>{ <span class="ident">s</span>: <span class="number">5u32</span> };
    <span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="ident">x</span>;
    <span class="ident">x</span>.<span class="ident">s</span> <span class="op">=</span> <span class="number">6</span>;
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">x</span>.<span class="ident">s</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20MyStruct%20%7B%20s%3A%20u32%20%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20x%20%3D%20MyStruct%7B%20s%3A%205u32%20%7D%3B%0A%20%20%20%20let%20y%20%3D%20x%3B%0A%20%20%20%20x.s%20%3D%206%3B%0A%20%20%20%20println!(%22%7B%7D%22%2C%20x.s)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Since <code>MyStruct</code> is a type that is not marked <code>Copy</code>, the data gets moved out
of <code>x</code> when we set <code>y</code>. This is fundamental to Rust’s ownership system: outside
of workarounds like <code>Rc</code>, a value cannot be owned by more than one variable.</p>
<p>Sometimes we don’t need to move the value. Using a reference, we can let another
function borrow the value without changing its ownership. In the example below,
we don’t actually have to move our string to <code>calculate_length</code>, we can give it
a reference to it with <code>&amp;</code> instead.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">s1</span> <span class="op">=</span> <span class="ident">String</span>::<span class="ident">from</span>(<span class="string">&quot;hello&quot;</span>);

    <span class="kw">let</span> <span class="ident">len</span> <span class="op">=</span> <span class="ident">calculate_length</span>(<span class="kw-2">&amp;</span><span class="ident">s1</span>);

    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;The length of &#39;{}&#39; is {}.&quot;</span>, <span class="ident">s1</span>, <span class="ident">len</span>);
}

<span class="kw">fn</span> <span class="ident">calculate_length</span>(<span class="ident">s</span>: <span class="kw-2">&amp;</span><span class="ident">String</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">usize</span> {
    <span class="ident">s</span>.<span class="ident">len</span>()
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20s1%20%3D%20String%3A%3Afrom(%22hello%22)%3B%0A%0A%20%20%20%20let%20len%20%3D%20calculate_length(%26s1)%3B%0A%0A%20%20%20%20println!(%22The%20length%20of%20'%7B%7D'%20is%20%7B%7D.%22%2C%20s1%2C%20len)%3B%0A%7D%0A%0Afn%20calculate_length(s%3A%20%26String)%20-%3E%20usize%20%7B%0A%20%20%20%20s.len()%0A%7D&amp;edition=2015">Run</a></div>
<p>A mutable reference can be created with <code>&amp;mut</code>.</p>
<p>Sometimes we don’t want a reference, but a duplicate. All types marked <code>Clone</code>
can be duplicated by calling <code>.clone()</code>. Subsequent changes to a clone do not
affect the original variable.</p>
<p>Most types in the standard library are marked <code>Clone</code>. The example below
demonstrates using <code>clone()</code> on a string. <code>s1</code> is first set to “many”, and then
copied to <code>s2</code>. Then the first character of <code>s1</code> is removed, without affecting
<code>s2</code>. “any many” is printed to the console.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">s1</span> <span class="op">=</span> <span class="ident">String</span>::<span class="ident">from</span>(<span class="string">&quot;many&quot;</span>);
    <span class="kw">let</span> <span class="ident">s2</span> <span class="op">=</span> <span class="ident">s1</span>.<span class="ident">clone</span>();
    <span class="ident">s1</span>.<span class="ident">remove</span>(<span class="number">0</span>);
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{} {}&quot;</span>, <span class="ident">s1</span>, <span class="ident">s2</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20s1%20%3D%20String%3A%3Afrom(%22many%22)%3B%0A%20%20%20%20let%20s2%20%3D%20s1.clone()%3B%0A%20%20%20%20s1.remove(0)%3B%0A%20%20%20%20println!(%22%7B%7D%20%7B%7D%22%2C%20s1%2C%20s2)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>If we control the definition of a type, we can implement <code>Clone</code> on it ourselves
with <code>#[derive(Clone)]</code>.</p>
<p>Some types have no ownership semantics at all and are trivial to duplicate. An
example is <code>i32</code> and the other number types. We don’t have to call <code>.clone()</code> to
clone them, because they are marked <code>Copy</code> in addition to <code>Clone</code>.  Implicit
cloning is more convenient in this case. We can mark our own types <code>Copy</code> if
all their members also are marked <code>Copy</code>.</p>
<p>In the example below, we implement a <code>Point</code> type. Because it only stores two
integers, we opt-out of ownership semantics with <code>Copy</code>. Then we can
<code>let p2 = p1</code> without <code>p1</code> being moved.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Copy</span>, <span class="ident">Clone</span>)]</span>
<span class="kw">struct</span> <span class="ident">Point</span> { <span class="ident">x</span>: <span class="ident">i32</span>, <span class="ident">y</span>: <span class="ident">i32</span> }

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">p1</span> <span class="op">=</span> <span class="ident">Point</span>{ <span class="ident">x</span>: <span class="op">-</span><span class="number">1</span>, <span class="ident">y</span>: <span class="number">2</span> };
    <span class="kw">let</span> <span class="ident">p2</span> <span class="op">=</span> <span class="ident">p1</span>;
    <span class="ident">p1</span>.<span class="ident">x</span> <span class="op">=</span> <span class="number">1</span>;
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;p1: {}, {}&quot;</span>, <span class="ident">p1</span>.<span class="ident">x</span>, <span class="ident">p1</span>.<span class="ident">y</span>);
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;p2: {}, {}&quot;</span>, <span class="ident">p2</span>.<span class="ident">x</span>, <span class="ident">p2</span>.<span class="ident">y</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Bderive(Copy%2C%20Clone)%5D%0Astruct%20Point%20%7B%20x%3A%20i32%2C%20y%3A%20i32%20%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20p1%20%3D%20Point%7B%20x%3A%20-1%2C%20y%3A%202%20%7D%3B%0A%20%20%20%20let%20p2%20%3D%20p1%3B%0A%20%20%20%20p1.x%20%3D%201%3B%0A%20%20%20%20println!(%22p1%3A%20%7B%7D%2C%20%7B%7D%22%2C%20p1.x%2C%20p1.y)%3B%0A%20%20%20%20println!(%22p2%3A%20%7B%7D%2C%20%7B%7D%22%2C%20p2.x%2C%20p2.y)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Alternatively, if we don’t control the struct’s definition, or mutable shared
ownership is truly required, we can use <code>Rc</code> and <code>RefCell</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">cell</span>::<span class="ident">RefCell</span>;
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">rc</span>::<span class="ident">Rc</span>;

<span class="kw">struct</span> <span class="ident">MyStruct</span> { <span class="ident">s</span>: <span class="ident">u32</span> }

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Rc</span>::<span class="ident">new</span>(<span class="ident">RefCell</span>::<span class="ident">new</span>(<span class="ident">MyStruct</span>{ <span class="ident">s</span>: <span class="number">5u32</span> }));
    <span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="ident">x</span>.<span class="ident">clone</span>();
    <span class="ident">x</span>.<span class="ident">borrow_mut</span>().<span class="ident">s</span> <span class="op">=</span> <span class="number">6</span>;
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">x</span>.<span class="ident">borrow</span>().<span class="ident">s</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Acell%3A%3ARefCell%3B%0Ause%20std%3A%3Arc%3A%3ARc%3B%0A%0Astruct%20MyStruct%20%7B%20s%3A%20u32%20%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20x%20%3D%20Rc%3A%3Anew(RefCell%3A%3Anew(MyStruct%7B%20s%3A%205u32%20%7D))%3B%0A%20%20%20%20let%20y%20%3D%20x.clone()%3B%0A%20%20%20%20x.borrow_mut().s%20%3D%206%3B%0A%20%20%20%20println!(%22%7B%7D%22%2C%20x.borrow().s)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>With this approach, x and y share ownership of the data via the <code>Rc</code> (reference
count type). <code>RefCell</code> essentially performs runtime borrow checking: ensuring
that at most one writer or multiple readers can access the data at any one time.</p>
<p>If you wish to learn more about ownership in Rust, start with the
<a href="https://doc.rust-lang.org/book/ch04-00-understanding-ownership.html">Understanding Ownership</a> chapter in the Book.</p>
</div>
<div class="error-described"><h2 id="E0383" class="section-header"><a href="#E0383">E0383</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-29" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-29">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>This error occurs when an attempt is made to partially reinitialize a
structure that is currently uninitialized.</p>
<p>For example, this can happen when a drop has taken place:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">a</span>: <span class="ident">u32</span>,
}
<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) { <span class="comment">/* ... */</span> }
}

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">a</span>: <span class="number">1</span> };
<span class="ident">drop</span>(<span class="ident">x</span>); <span class="comment">// `x` is now uninitialized</span>
<span class="ident">x</span>.<span class="ident">a</span> <span class="op">=</span> <span class="number">2</span>; <span class="comment">// error, partial reinitialization of uninitialized structure `t`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%20%7B%0A%20%20%20%20a%3A%20u32%2C%0A%7D%0Aimpl%20Drop%20for%20Foo%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%20%2F*%20...%20*%2F%20%7D%0A%7D%0A%0Alet%20mut%20x%20%3D%20Foo%20%7B%20a%3A%201%20%7D%3B%0Adrop(x)%3B%20%2F%2F%20%60x%60%20is%20now%20uninitialized%0Ax.a%20%3D%202%3B%20%2F%2F%20error%2C%20partial%20reinitialization%20of%20uninitialized%20structure%20%60t%60%0A%7D&amp;edition=2015">Run</a></div>
<p>This error can be fixed by fully reinitializing the structure in question:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">a</span>: <span class="ident">u32</span>,
}
<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) { <span class="comment">/* ... */</span> }
}

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">a</span>: <span class="number">1</span> };
<span class="ident">drop</span>(<span class="ident">x</span>);
<span class="ident">x</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">a</span>: <span class="number">2</span> };</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%20%7B%0A%20%20%20%20a%3A%20u32%2C%0A%7D%0Aimpl%20Drop%20for%20Foo%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%20%2F*%20...%20*%2F%20%7D%0A%7D%0A%0Alet%20mut%20x%20%3D%20Foo%20%7B%20a%3A%201%20%7D%3B%0Adrop(x)%3B%0Ax%20%3D%20Foo%20%7B%20a%3A%202%20%7D%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0384" class="section-header"><a href="#E0384">E0384</a></h2>
<p>An immutable variable was reassigned.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">3</span>;
    <span class="ident">x</span> <span class="op">=</span> <span class="number">5</span>; <span class="comment">// error, reassignment of immutable variable</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%203%3B%0A%20%20%20%20x%20%3D%205%3B%20%2F%2F%20error%2C%20reassignment%20of%20immutable%20variable%0A%7D&amp;edition=2015">Run</a></div>
<p>By default, variables in Rust are immutable. To fix this error, add the keyword
<code>mut</code> after the keyword <code>let</code> when declaring the variable. For example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">3</span>;
    <span class="ident">x</span> <span class="op">=</span> <span class="number">5</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20x%20%3D%203%3B%0A%20%20%20%20x%20%3D%205%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0386" class="section-header"><a href="#E0386">E0386</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-30" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-30">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>This error occurs when an attempt is made to mutate the target of a mutable
reference stored inside an immutable container.</p>
<p>For example, this can happen when storing a <code>&amp;mut</code> inside an immutable <code>Box</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span>: <span class="ident">i64</span> <span class="op">=</span> <span class="number">1</span>;
<span class="kw">let</span> <span class="ident">y</span>: <span class="ident">Box</span><span class="op">&lt;</span><span class="kw">_</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">Box</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">x</span>);
<span class="kw-2">*</span><span class="kw-2">*</span><span class="ident">y</span> <span class="op">=</span> <span class="number">2</span>; <span class="comment">// error, cannot assign to data in an immutable container</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20x%3A%20i64%20%3D%201%3B%0Alet%20y%3A%20Box%3C_%3E%20%3D%20Box%3A%3Anew(%26mut%20x)%3B%0A**y%20%3D%202%3B%20%2F%2F%20error%2C%20cannot%20assign%20to%20data%20in%20an%20immutable%20container%0A%7D&amp;edition=2015">Run</a></div>
<p>This error can be fixed by making the container mutable:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span>: <span class="ident">i64</span> <span class="op">=</span> <span class="number">1</span>;
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">y</span>: <span class="ident">Box</span><span class="op">&lt;</span><span class="kw">_</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">Box</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">x</span>);
<span class="kw-2">*</span><span class="kw-2">*</span><span class="ident">y</span> <span class="op">=</span> <span class="number">2</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20x%3A%20i64%20%3D%201%3B%0Alet%20mut%20y%3A%20Box%3C_%3E%20%3D%20Box%3A%3Anew(%26mut%20x)%3B%0A**y%20%3D%202%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>It can also be fixed by using a type with interior mutability, such as <code>Cell</code>
or <code>RefCell</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">cell</span>::<span class="ident">Cell</span>;

<span class="kw">let</span> <span class="ident">x</span>: <span class="ident">i64</span> <span class="op">=</span> <span class="number">1</span>;
<span class="kw">let</span> <span class="ident">y</span>: <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">Cell</span><span class="op">&lt;</span><span class="kw">_</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">Box</span>::<span class="ident">new</span>(<span class="ident">Cell</span>::<span class="ident">new</span>(<span class="ident">x</span>));
<span class="ident">y</span>.<span class="ident">set</span>(<span class="number">2</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Acell%3A%3ACell%3B%0A%0Alet%20x%3A%20i64%20%3D%201%3B%0Alet%20y%3A%20Box%3CCell%3C_%3E%3E%20%3D%20Box%3A%3Anew(Cell%3A%3Anew(x))%3B%0Ay.set(2)%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0387" class="section-header"><a href="#E0387">E0387</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-31" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-31">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>This error occurs when an attempt is made to mutate or mutably reference data
that a closure has captured immutably.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="comment">// Accepts a function or a closure that captures its environment immutably.</span>
<span class="comment">// Closures passed to foo will not be able to mutate their closed-over state.</span>
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">F</span>: <span class="ident">Fn</span>()<span class="op">&gt;</span>(<span class="ident">f</span>: <span class="ident">F</span>) { }

<span class="comment">// Attempts to mutate closed-over data. Error message reads:</span>
<span class="comment">// `cannot assign to data in a captured outer variable...`</span>
<span class="kw">fn</span> <span class="ident">mutable</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">0u32</span>;
    <span class="ident">foo</span>(<span class="op">|</span><span class="op">|</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">2</span>);
}

<span class="comment">// Attempts to take a mutable reference to closed-over data.  Error message</span>
<span class="comment">// reads: `cannot borrow data mutably in a captured outer variable...`</span>
<span class="kw">fn</span> <span class="ident">mut_addr</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">0u32</span>;
    <span class="ident">foo</span>(<span class="op">|</span><span class="op">|</span> { <span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">x</span>; });
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20Accepts%20a%20function%20or%20a%20closure%20that%20captures%20its%20environment%20immutably.%0A%2F%2F%20Closures%20passed%20to%20foo%20will%20not%20be%20able%20to%20mutate%20their%20closed-over%20state.%0Afn%20main()%20%7B%0Afn%20foo%3CF%3A%20Fn()%3E(f%3A%20F)%20%7B%20%7D%0A%0A%2F%2F%20Attempts%20to%20mutate%20closed-over%20data.%20Error%20message%20reads%3A%0A%2F%2F%20%60cannot%20assign%20to%20data%20in%20a%20captured%20outer%20variable...%60%0Afn%20mutable()%20%7B%0A%20%20%20%20let%20mut%20x%20%3D%200u32%3B%0A%20%20%20%20foo(%7C%7C%20x%20%3D%202)%3B%0A%7D%0A%0A%2F%2F%20Attempts%20to%20take%20a%20mutable%20reference%20to%20closed-over%20data.%20%20Error%20message%0A%2F%2F%20reads%3A%20%60cannot%20borrow%20data%20mutably%20in%20a%20captured%20outer%20variable...%60%0Afn%20mut_addr()%20%7B%0A%20%20%20%20let%20mut%20x%20%3D%200u32%3B%0A%20%20%20%20foo(%7C%7C%20%7B%20let%20y%20%3D%20%26mut%20x%3B%20%7D)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The problem here is that foo is defined as accepting a parameter of type <code>Fn</code>.
Closures passed into foo will thus be inferred to be of type <code>Fn</code>, meaning that
they capture their context immutably.</p>
<p>If the definition of <code>foo</code> is under your control, the simplest solution is to
capture the data mutably. This can be done by defining <code>foo</code> to take FnMut
rather than Fn:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">F</span>: <span class="ident">FnMut</span>()<span class="op">&gt;</span>(<span class="ident">f</span>: <span class="ident">F</span>) { }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3CF%3A%20FnMut()%3E(f%3A%20F)%20%7B%20%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Alternatively, we can consider using the <code>Cell</code> and <code>RefCell</code> types to achieve
interior mutability through a shared reference. Our example’s <code>mutable</code>
function could be redefined as below:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">cell</span>::<span class="ident">Cell</span>;

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">F</span>: <span class="ident">Fn</span>()<span class="op">&gt;</span>(<span class="ident">f</span>: <span class="ident">F</span>) { }

<span class="kw">fn</span> <span class="ident">mutable</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Cell</span>::<span class="ident">new</span>(<span class="number">0u32</span>);
    <span class="ident">foo</span>(<span class="op">|</span><span class="op">|</span> <span class="ident">x</span>.<span class="ident">set</span>(<span class="number">2</span>));
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Acell%3A%3ACell%3B%0A%0Afn%20foo%3CF%3A%20Fn()%3E(f%3A%20F)%20%7B%20%7D%0A%0Afn%20mutable()%20%7B%0A%20%20%20%20let%20x%20%3D%20Cell%3A%3Anew(0u32)%3B%0A%20%20%20%20foo(%7C%7C%20x.set(2))%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>You can read more in the API documentation for <a href="https://doc.rust-lang.org/std/cell/">Cell</a>.</p>
</div>
<div class="error-described"><h2 id="E0388" class="section-header"><a href="#E0388">E0388</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-32" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-32">Note: this error code is no longer emitted by the compiler.</a></h4></div>
<div class="error-described"><h2 id="E0389" class="section-header"><a href="#E0389">E0389</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-33" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-33">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>An attempt was made to mutate data using a non-mutable reference. This
commonly occurs when attempting to assign to a non-mutable reference of a
mutable reference (<code>&amp;(&amp;mut T)</code>).</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">FancyNum</span> {
    <span class="ident">num</span>: <span class="ident">u8</span>,
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">fancy</span> <span class="op">=</span> <span class="ident">FancyNum</span>{ <span class="ident">num</span>: <span class="number">5</span> };
    <span class="kw">let</span> <span class="ident">fancy_ref</span> <span class="op">=</span> <span class="kw-2">&amp;</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">fancy</span>);
    <span class="ident">fancy_ref</span>.<span class="ident">num</span> <span class="op">=</span> <span class="number">6</span>; <span class="comment">// error: cannot assign to data in a `&amp;` reference</span>
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">fancy_ref</span>.<span class="ident">num</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20FancyNum%20%7B%0A%20%20%20%20num%3A%20u8%2C%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20fancy%20%3D%20FancyNum%7B%20num%3A%205%20%7D%3B%0A%20%20%20%20let%20fancy_ref%20%3D%20%26(%26mut%20fancy)%3B%0A%20%20%20%20fancy_ref.num%20%3D%206%3B%20%2F%2F%20error%3A%20cannot%20assign%20to%20data%20in%20a%20%60%26%60%20reference%0A%20%20%20%20println!(%22%7B%7D%22%2C%20fancy_ref.num)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, <code>&amp;mut fancy</code> is mutable, but <code>&amp;(&amp;mut fancy)</code> is not. Creating an
immutable reference to a value borrows it immutably. There can be multiple
references of type <code>&amp;(&amp;mut T)</code> that point to the same value, so they must be
immutable to prevent multiple mutable references to the same value.</p>
<p>To fix this, either remove the outer reference:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">FancyNum</span> {
    <span class="ident">num</span>: <span class="ident">u8</span>,
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">fancy</span> <span class="op">=</span> <span class="ident">FancyNum</span>{ <span class="ident">num</span>: <span class="number">5</span> };

    <span class="kw">let</span> <span class="ident">fancy_ref</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">fancy</span>;
    <span class="comment">// `fancy_ref` is now &amp;mut FancyNum, rather than &amp;(&amp;mut FancyNum)</span>

    <span class="ident">fancy_ref</span>.<span class="ident">num</span> <span class="op">=</span> <span class="number">6</span>; <span class="comment">// No error!</span>

    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">fancy_ref</span>.<span class="ident">num</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20FancyNum%20%7B%0A%20%20%20%20num%3A%20u8%2C%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20fancy%20%3D%20FancyNum%7B%20num%3A%205%20%7D%3B%0A%0A%20%20%20%20let%20fancy_ref%20%3D%20%26mut%20fancy%3B%0A%20%20%20%20%2F%2F%20%60fancy_ref%60%20is%20now%20%26mut%20FancyNum%2C%20rather%20than%20%26(%26mut%20FancyNum)%0A%0A%20%20%20%20fancy_ref.num%20%3D%206%3B%20%2F%2F%20No%20error!%0A%0A%20%20%20%20println!(%22%7B%7D%22%2C%20fancy_ref.num)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Or make the outer reference mutable:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">FancyNum</span> {
    <span class="ident">num</span>: <span class="ident">u8</span>
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">fancy</span> <span class="op">=</span> <span class="ident">FancyNum</span>{ <span class="ident">num</span>: <span class="number">5</span> };

    <span class="kw">let</span> <span class="ident">fancy_ref</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> (<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">fancy</span>);
    <span class="comment">// `fancy_ref` is now &amp;mut(&amp;mut FancyNum), rather than &amp;(&amp;mut FancyNum)</span>

    <span class="ident">fancy_ref</span>.<span class="ident">num</span> <span class="op">=</span> <span class="number">6</span>; <span class="comment">// No error!</span>

    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">fancy_ref</span>.<span class="ident">num</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20FancyNum%20%7B%0A%20%20%20%20num%3A%20u8%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20fancy%20%3D%20FancyNum%7B%20num%3A%205%20%7D%3B%0A%0A%20%20%20%20let%20fancy_ref%20%3D%20%26mut%20(%26mut%20fancy)%3B%0A%20%20%20%20%2F%2F%20%60fancy_ref%60%20is%20now%20%26mut(%26mut%20FancyNum)%2C%20rather%20than%20%26(%26mut%20FancyNum)%0A%0A%20%20%20%20fancy_ref.num%20%3D%206%3B%20%2F%2F%20No%20error!%0A%0A%20%20%20%20println!(%22%7B%7D%22%2C%20fancy_ref.num)%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0390" class="section-header"><a href="#E0390">E0390</a></h2>
<p>A method or constant was implemented on a primitive type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">x</span>: <span class="ident">i32</span>
}

<span class="kw">impl</span> <span class="kw-2">*</span><span class="kw-2">mut</span> <span class="ident">Foo</span> {}
<span class="comment">// error: only a single inherent implementation marked with</span>
<span class="comment">//        `#[lang = &quot;mut_ptr&quot;]` is allowed for the `*mut T` primitive</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%20%7B%0A%20%20%20%20x%3A%20i32%0A%7D%0A%0Aimpl%20*mut%20Foo%20%7B%7D%0A%2F%2F%20error%3A%20only%20a%20single%20inherent%20implementation%20marked%20with%0A%2F%2F%20%20%20%20%20%20%20%20%60%23%5Blang%20%3D%20%22mut_ptr%22%5D%60%20is%20allowed%20for%20the%20%60*mut%20T%60%20primitive%0A%7D&amp;edition=2015">Run</a></div>
<p>This isn’t allowed, but using a trait to implement a method or constant
is a good solution.
Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">x</span>: <span class="ident">i32</span>
}

<span class="kw">trait</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>();
}

<span class="kw">impl</span> <span class="ident">Bar</span> <span class="kw">for</span> <span class="kw-2">*</span><span class="kw-2">mut</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>() {} <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%20%7B%0A%20%20%20%20x%3A%20i32%0A%7D%0A%0Atrait%20Bar%20%7B%0A%20%20%20%20fn%20bar()%3B%0A%7D%0A%0Aimpl%20Bar%20for%20*mut%20Foo%20%7B%0A%20%20%20%20fn%20bar()%20%7B%7D%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0391" class="section-header"><a href="#E0391">E0391</a></h2>
<p>A type dependency cycle has been encountered.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">FirstTrait</span> : <span class="ident">SecondTrait</span> {

}

<span class="kw">trait</span> <span class="ident">SecondTrait</span> : <span class="ident">FirstTrait</span> {

}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20FirstTrait%20%3A%20SecondTrait%20%7B%0A%0A%7D%0A%0Atrait%20SecondTrait%20%3A%20FirstTrait%20%7B%0A%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The previous example contains a circular dependency between two traits:
<code>FirstTrait</code> depends on <code>SecondTrait</code> which itself depends on <code>FirstTrait</code>.</p>
</div>
<div class="error-described"><h2 id="E0392" class="section-header"><a href="#E0392">E0392</a></h2>
<p>A type or lifetime parameter has been declared but is not actually used.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">Bar</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Foo%3CT%3E%20%7B%0A%20%20%20%20Bar%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>If the type parameter was included by mistake, this error can be fixed
by simply removing the type parameter, as shown below:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">Foo</span> {
    <span class="ident">Bar</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Foo%20%7B%0A%20%20%20%20Bar%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Alternatively, if the type parameter was intentionally inserted, it must be
used. A simple fix is shown below:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">Bar</span>(<span class="ident">T</span>),
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Foo%3CT%3E%20%7B%0A%20%20%20%20Bar(T)%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This error may also commonly be found when working with unsafe code. For
example, when using raw pointers one may wish to specify the lifetime for
which the pointed-at data is valid. An initial attempt (below) causes this
error:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">T</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3C'a%2C%20T%3E%20%7B%0A%20%20%20%20x%3A%20*const%20T%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>We want to express the constraint that Foo should not outlive <code>'a</code>, because
the data pointed to by <code>T</code> is only valid for that lifetime. The problem is
that there are no actual uses of <code>'a</code>. It’s possible to work around this
by adding a PhantomData type to the struct, using it to tell the compiler
to act as if the struct contained a borrowed reference <code>&amp;'a T</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">marker</span>::<span class="ident">PhantomData</span>;

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="ident">T</span>: <span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">T</span>,
    <span class="ident">phantom</span>: <span class="ident">PhantomData</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">T</span><span class="op">&gt;</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Amarker%3A%3APhantomData%3B%0A%0Astruct%20Foo%3C'a%2C%20T%3A%20'a%3E%20%7B%0A%20%20%20%20x%3A%20*const%20T%2C%0A%20%20%20%20phantom%3A%20PhantomData%3C%26'a%20T%3E%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p><a href="https://doc.rust-lang.org/std/marker/struct.PhantomData.html">PhantomData</a> can also be used to express information about unused type
parameters.</p>
</div>
<div class="error-described"><h2 id="E0393" class="section-header"><a href="#E0393">E0393</a></h2>
<p>A type parameter which references <code>Self</code> in its default value was not specified.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">A</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">=</span><span class="self">Self</span><span class="op">&gt;</span> {}

<span class="kw">fn</span> <span class="ident">together_we_will_rule_the_galaxy</span>(<span class="ident">son</span>: <span class="kw-2">&amp;</span><span class="ident">A</span>) {}
<span class="comment">// error: the type parameter `T` must be explicitly specified in an</span>
<span class="comment">//        object type because its default value `Self` references the</span>
<span class="comment">//        type `Self`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20A%3CT%3DSelf%3E%20%7B%7D%0A%0Afn%20together_we_will_rule_the_galaxy(son%3A%20%26A)%20%7B%7D%0A%2F%2F%20error%3A%20the%20type%20parameter%20%60T%60%20must%20be%20explicitly%20specified%20in%20an%0A%2F%2F%20%20%20%20%20%20%20%20object%20type%20because%20its%20default%20value%20%60Self%60%20references%20the%0A%2F%2F%20%20%20%20%20%20%20%20type%20%60Self%60%0A%7D&amp;edition=2015">Run</a></div>
<p>A trait object is defined over a single, fully-defined trait. With a regular
default parameter, this parameter can just be substituted in. However, if the
default parameter is <code>Self</code>, the trait changes for each concrete type; i.e.
<code>i32</code> will be expected to implement <code>A&lt;i32&gt;</code>, <code>bool</code> will be expected to
implement <code>A&lt;bool&gt;</code>, etc… These types will not share an implementation of a
fully-defined trait; instead they share implementations of a trait with
different parameters substituted in for each implementation. This is
irreconcilable with what we need to make a trait object work, and is thus
disallowed. Making the trait concrete by explicitly specifying the value of the
defaulted parameter will fix this issue. Fixed example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">A</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">=</span><span class="self">Self</span><span class="op">&gt;</span> {}

<span class="kw">fn</span> <span class="ident">together_we_will_rule_the_galaxy</span>(<span class="ident">son</span>: <span class="kw-2">&amp;</span><span class="ident">A</span><span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span>) {} <span class="comment">// Ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20A%3CT%3DSelf%3E%20%7B%7D%0A%0Afn%20together_we_will_rule_the_galaxy(son%3A%20%26A%3Ci32%3E)%20%7B%7D%20%2F%2F%20Ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0398" class="section-header"><a href="#E0398">E0398</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-34" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-34">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>In Rust 1.3, the default object lifetime bounds are expected to change, as
described in <a href="https://github.com/rust-lang/rfcs/blob/master/text/1156-adjust-default-object-bounds.md">RFC 1156</a>. You are getting a warning because the compiler
thinks it is possible that this change will cause a compilation error in your
code. It is possible, though unlikely, that this is a false alarm.</p>
<p>The heart of the change is that where <code>&amp;'a Box&lt;SomeTrait&gt;</code> used to default to
<code>&amp;'a Box&lt;SomeTrait+'a&gt;</code>, it now defaults to <code>&amp;'a Box&lt;SomeTrait+'static&gt;</code> (here,
<code>SomeTrait</code> is the name of some trait type). Note that the only types which are
affected are references to boxes, like <code>&amp;Box&lt;SomeTrait&gt;</code> or
<code>&amp;[Box&lt;SomeTrait&gt;]</code>. More common types like <code>&amp;SomeTrait</code> or <code>Box&lt;SomeTrait&gt;</code>
are unaffected.</p>
<p>To silence this warning, edit your code to use an explicit bound. Most of the
time, this means that you will want to change the signature of a function that
you are calling. For example, if the error is reported on a call like <code>foo(x)</code>,
and <code>foo</code> is defined as follows:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">arg</span>: <span class="kw-2">&amp;</span><span class="ident">Box</span><span class="op">&lt;</span><span class="ident">SomeTrait</span><span class="op">&gt;</span>) { <span class="comment">/* ... */</span> }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20SomeTrait%20%7B%7D%0Afn%20foo(arg%3A%20%26Box%3CSomeTrait%3E)%20%7B%20%2F*%20...%20*%2F%20%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>You might change it to:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">arg</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">SomeTrait</span><span class="op">+</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>) { <span class="comment">/* ... */</span> }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20SomeTrait%20%7B%7D%0Afn%20foo%3C'a%3E(arg%3A%20%26'a%20Box%3CSomeTrait%2B'a%3E)%20%7B%20%2F*%20...%20*%2F%20%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This explicitly states that you expect the trait object <code>SomeTrait</code> to contain
references (with a maximum lifetime of <code>'a</code>).</p>
</div>
<div class="error-described"><h2 id="E0399" class="section-header"><a href="#E0399">E0399</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-35" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-35">Note: this error code is no longer emitted by the compiler</a></h4>
<p>You implemented a trait, overriding one or more of its associated types but did
not reimplement its default methods.</p>
<p>Example of erroneous code:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">associated_type_defaults</span>)]</span>

<span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">Assoc</span> <span class="op">=</span> <span class="ident">u8</span>;
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}
}

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">i32</span> {
    <span class="comment">// error - the following trait items need to be reimplemented as</span>
    <span class="comment">//         `Assoc` was overridden: `bar`</span>
    <span class="kw">type</span> <span class="ident">Assoc</span> <span class="op">=</span> <span class="ident">i32</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(associated_type_defaults)%5D%0A%0Afn%20main()%20%7B%0Apub%20trait%20Foo%20%7B%0A%20%20%20%20type%20Assoc%20%3D%20u8%3B%0A%20%20%20%20fn%20bar(%26self)%20%7B%7D%0A%7D%0A%0Aimpl%20Foo%20for%20i32%20%7B%0A%20%20%20%20%2F%2F%20error%20-%20the%20following%20trait%20items%20need%20to%20be%20reimplemented%20as%0A%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%60Assoc%60%20was%20overridden%3A%20%60bar%60%0A%20%20%20%20type%20Assoc%20%3D%20i32%3B%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>To fix this, add an implementation for each default method from the trait:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">associated_type_defaults</span>)]</span>

<span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">Assoc</span> <span class="op">=</span> <span class="ident">u8</span>;
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}
}

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">i32</span> {
    <span class="kw">type</span> <span class="ident">Assoc</span> <span class="op">=</span> <span class="ident">i32</span>;
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {} <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(associated_type_defaults)%5D%0A%0Afn%20main()%20%7B%0Apub%20trait%20Foo%20%7B%0A%20%20%20%20type%20Assoc%20%3D%20u8%3B%0A%20%20%20%20fn%20bar(%26self)%20%7B%7D%0A%7D%0A%0Aimpl%20Foo%20for%20i32%20%7B%0A%20%20%20%20type%20Assoc%20%3D%20i32%3B%0A%20%20%20%20fn%20bar(%26self)%20%7B%7D%20%2F%2F%20ok!%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0401" class="section-header"><a href="#E0401">E0401</a></h2>
<p>Inner items do not inherit type or const parameters from the functions
they are embedded in.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>) {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="ident">y</span>: <span class="ident">T</span>) { <span class="comment">// T is defined in the &quot;outer&quot; function</span>
        <span class="comment">// ..</span>
    }
    <span class="ident">bar</span>(<span class="ident">x</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3CT%3E(x%3A%20T)%20%7B%0A%20%20%20%20fn%20bar(y%3A%20T)%20%7B%20%2F%2F%20T%20is%20defined%20in%20the%20%22outer%22%20function%0A%20%20%20%20%20%20%20%20%2F%2F%20..%0A%20%20%20%20%7D%0A%20%20%20%20bar(x)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Nor will this:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>) {
    <span class="kw">type</span> <span class="ident">MaybeT</span> <span class="op">=</span> <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>;
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3CT%3E(x%3A%20T)%20%7B%0A%20%20%20%20type%20MaybeT%20%3D%20Option%3CT%3E%3B%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Or this:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>) {
    <span class="kw">struct</span> <span class="ident">Foo</span> {
        <span class="ident">x</span>: <span class="ident">T</span>,
    }
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3CT%3E(x%3A%20T)%20%7B%0A%20%20%20%20struct%20Foo%20%7B%0A%20%20%20%20%20%20%20%20x%3A%20T%2C%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Items inside functions are basically just like top-level items, except
that they can only be used from the function they are in.</p>
<p>There are a couple of solutions for this.</p>
<p>If the item is a function, you may use a closure:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>) {
    <span class="kw">let</span> <span class="ident">bar</span> <span class="op">=</span> <span class="op">|</span><span class="ident">y</span>: <span class="ident">T</span><span class="op">|</span> { <span class="comment">// explicit type annotation may not be necessary</span>
        <span class="comment">// ..</span>
    };
    <span class="ident">bar</span>(<span class="ident">x</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3CT%3E(x%3A%20T)%20%7B%0A%20%20%20%20let%20bar%20%3D%20%7Cy%3A%20T%7C%20%7B%20%2F%2F%20explicit%20type%20annotation%20may%20not%20be%20necessary%0A%20%20%20%20%20%20%20%20%2F%2F%20..%0A%20%20%20%20%7D%3B%0A%20%20%20%20bar(x)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>For a generic item, you can copy over the parameters:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>) {
    <span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">y</span>: <span class="ident">T</span>) {
        <span class="comment">// ..</span>
    }
    <span class="ident">bar</span>(<span class="ident">x</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3CT%3E(x%3A%20T)%20%7B%0A%20%20%20%20fn%20bar%3CT%3E(y%3A%20T)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20..%0A%20%20%20%20%7D%0A%20%20%20%20bar(x)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>) {
    <span class="kw">type</span> <span class="ident">MaybeT</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="op">=</span> <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3CT%3E(x%3A%20T)%20%7B%0A%20%20%20%20type%20MaybeT%3CT%3E%20%3D%20Option%3CT%3E%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Be sure to copy over any bounds as well:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Copy</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>) {
    <span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Copy</span><span class="op">&gt;</span>(<span class="ident">y</span>: <span class="ident">T</span>) {
        <span class="comment">// ..</span>
    }
    <span class="ident">bar</span>(<span class="ident">x</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3CT%3A%20Copy%3E(x%3A%20T)%20%7B%0A%20%20%20%20fn%20bar%3CT%3A%20Copy%3E(y%3A%20T)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20..%0A%20%20%20%20%7D%0A%20%20%20%20bar(x)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Copy</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>) {
    <span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Copy</span><span class="op">&gt;</span> {
        <span class="ident">x</span>: <span class="ident">T</span>,
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3CT%3A%20Copy%3E(x%3A%20T)%20%7B%0A%20%20%20%20struct%20Foo%3CT%3A%20Copy%3E%20%7B%0A%20%20%20%20%20%20%20%20x%3A%20T%2C%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This may require additional type hints in the function body.</p>
<p>In case the item is a function inside an <code>impl</code>, defining a private helper
function might be easier:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">x</span>: <span class="ident">T</span>) {
        <span class="self">self</span>.<span class="ident">bar</span>(<span class="ident">x</span>);
    }

    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">y</span>: <span class="ident">T</span>) {
        <span class="comment">// ..</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3CT%3E(T)%3B%0Aimpl%3CT%3E%20Foo%3CT%3E%20%7B%0A%20%20%20%20pub%20fn%20foo(%26self%2C%20x%3A%20T)%20%7B%0A%20%20%20%20%20%20%20%20self.bar(x)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20fn%20bar(%26self%2C%20y%3A%20T)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20..%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>For default impls in traits, the private helper solution won’t work, however
closures or copying the parameters should still work.</p>
</div>
<div class="error-described"><h2 id="E0403" class="section-header"><a href="#E0403">E0403</a></h2>
<p>Some type parameters have the same name.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">f</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">s</span>: <span class="ident">T</span>, <span class="ident">u</span>: <span class="ident">T</span>) {} <span class="comment">// error: the name `T` is already used for a generic</span>
                          <span class="comment">//        parameter in this item&#39;s generic parameters</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20f%3CT%2C%20T%3E(s%3A%20T%2C%20u%3A%20T)%20%7B%7D%20%2F%2F%20error%3A%20the%20name%20%60T%60%20is%20already%20used%20for%20a%20generic%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20parameter%20in%20this%20item's%20generic%20parameters%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify that none of the type parameters are misspelled, and rename any
clashing parameters. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">f</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="ident">Y</span><span class="op">&gt;</span>(<span class="ident">s</span>: <span class="ident">T</span>, <span class="ident">u</span>: <span class="ident">Y</span>) {} <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20f%3CT%2C%20Y%3E(s%3A%20T%2C%20u%3A%20Y)%20%7B%7D%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>Type parameters in an associated item also cannot shadow parameters from the
containing item:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">do_something</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">T</span>;
    <span class="kw">fn</span> <span class="ident">do_something_else</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Clone</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">bar</span>: <span class="ident">T</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%3CT%3E%20%7B%0A%20%20%20%20fn%20do_something(%26self)%20-%3E%20T%3B%0A%20%20%20%20fn%20do_something_else%3CT%3A%20Clone%3E(%26self%2C%20bar%3A%20T)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0404" class="section-header"><a href="#E0404">E0404</a></h2>
<p>A type that is not a trait was used in a trait position, such as a bound
or <code>impl</code>.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span>;
<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {} <span class="comment">// error: `Foo` is not a trait</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%7D%20%2F%2F%20error%3A%20%60Foo%60%20is%20not%20a%20trait%0A%7D&amp;edition=2015">Run</a></div>
<p>Another erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Foo</span><span class="op">&gt;</span>(<span class="ident">t</span>: <span class="ident">T</span>) {} <span class="comment">// error: `Foo` is not a trait</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Afn%20bar%3CT%3A%20Foo%3E(t%3A%20T)%20%7B%7D%20%2F%2F%20error%3A%20%60Foo%60%20is%20not%20a%20trait%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify that the trait’s name was not misspelled or that the right
identifier was used. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="comment">// some functions</span>
}
<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> { <span class="comment">// ok!</span>
    <span class="comment">// functions implementation</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20%2F%2F%20some%20functions%0A%7D%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%2F%2F%20functions%20implementation%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>or:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="comment">// some functions</span>
}

<span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Foo</span><span class="op">&gt;</span>(<span class="ident">t</span>: <span class="ident">T</span>) {} <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20%2F%2F%20some%20functions%0A%7D%0A%0Afn%20bar%3CT%3A%20Foo%3E(t%3A%20T)%20%7B%7D%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0405" class="section-header"><a href="#E0405">E0405</a></h2>
<p>The code refers to a trait that is not in scope.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="ident">SomeTrait</span> <span class="kw">for</span> <span class="ident">Foo</span> {} <span class="comment">// error: trait `SomeTrait` is not in scope</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aimpl%20SomeTrait%20for%20Foo%20%7B%7D%20%2F%2F%20error%3A%20trait%20%60SomeTrait%60%20is%20not%20in%20scope%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify that the name of the trait wasn’t misspelled and ensure that it
was imported. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="comment">// solution 1:</span>
<span class="kw">use</span> <span class="ident">some_file</span>::<span class="ident">SomeTrait</span>;

<span class="comment">// solution 2:</span>
<span class="kw">trait</span> <span class="ident">SomeTrait</span> {
    <span class="comment">// some functions</span>
}

<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="ident">SomeTrait</span> <span class="kw">for</span> <span class="ident">Foo</span> { <span class="comment">// ok!</span>
    <span class="comment">// implements functions</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bcfg(for_demonstration_only)%5D%0A%2F%2F%20solution%201%3A%0Ause%20some_file%3A%3ASomeTrait%3B%0A%0A%2F%2F%20solution%202%3A%0Atrait%20SomeTrait%20%7B%0A%20%20%20%20%2F%2F%20some%20functions%0A%7D%0A%0Astruct%20Foo%3B%0A%0Aimpl%20SomeTrait%20for%20Foo%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%2F%2F%20implements%20functions%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0407" class="section-header"><a href="#E0407">E0407</a></h2>
<p>A definition of a method not in the implemented trait was given in a trait
implementation.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">a</span>();
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">a</span>() {}
    <span class="kw">fn</span> <span class="ident">b</span>() {} <span class="comment">// error: method `b` is not a member of trait `Foo`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20a()%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20fn%20a()%20%7B%7D%0A%20%20%20%20fn%20b()%20%7B%7D%20%2F%2F%20error%3A%20method%20%60b%60%20is%20not%20a%20member%20of%20trait%20%60Foo%60%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify you didn’t misspell the method name and you used the correct
trait. First example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">a</span>();
    <span class="kw">fn</span> <span class="ident">b</span>();
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">a</span>() {}
    <span class="kw">fn</span> <span class="ident">b</span>() {} <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20a()%3B%0A%20%20%20%20fn%20b()%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20fn%20a()%20%7B%7D%0A%20%20%20%20fn%20b()%20%7B%7D%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Second example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">a</span>();
}

<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">a</span>() {}
}

<span class="kw">impl</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">b</span>() {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20a()%3B%0A%7D%0A%0Astruct%20Bar%3B%0A%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20fn%20a()%20%7B%7D%0A%7D%0A%0Aimpl%20Bar%20%7B%0A%20%20%20%20fn%20b()%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0408" class="section-header"><a href="#E0408">E0408</a></h2>
<p>An “or” pattern was used where the variable bindings are not consistently bound
across patterns.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">match</span> <span class="ident">x</span> {
    <span class="prelude-val">Some</span>(<span class="ident">y</span>) <span class="op">|</span> <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">/* use y */</span> } <span class="comment">// error: variable `y` from pattern #1 is</span>
                                      <span class="comment">//        not bound in pattern #2</span>
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> ()
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amatch%20x%20%7B%0A%20%20%20%20Some(y)%20%7C%20None%20%3D%3E%20%7B%20%2F*%20use%20y%20*%2F%20%7D%20%2F%2F%20error%3A%20variable%20%60y%60%20from%20pattern%20%231%20is%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20not%20bound%20in%20pattern%20%232%0A%20%20%20%20_%20%3D%3E%20()%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, <code>y</code> is bound to the contents of the <code>Some</code> and can be used within the
block corresponding to the match arm. However, in case <code>x</code> is <code>None</code>, we have
not specified what <code>y</code> is, and the block will use a nonexistent variable.</p>
<p>To fix this error, either split into multiple match arms:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="prelude-val">Some</span>(<span class="number">1</span>);
<span class="kw">match</span> <span class="ident">x</span> {
    <span class="prelude-val">Some</span>(<span class="ident">y</span>) <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">/* use y */</span> }
    <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">/* ... */</span> }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%20Some(1)%3B%0Amatch%20x%20%7B%0A%20%20%20%20Some(y)%20%3D%3E%20%7B%20%2F*%20use%20y%20*%2F%20%7D%0A%20%20%20%20None%20%3D%3E%20%7B%20%2F*%20...%20*%2F%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>or, bind the variable to a field of the same type in all sub-patterns of the
or pattern:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> (<span class="number">0</span>, <span class="number">2</span>);
<span class="kw">match</span> <span class="ident">x</span> {
    (<span class="number">0</span>, <span class="ident">y</span>) <span class="op">|</span> (<span class="ident">y</span>, <span class="number">0</span>) <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">/* use y */</span>}
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%20(0%2C%202)%3B%0Amatch%20x%20%7B%0A%20%20%20%20(0%2C%20y)%20%7C%20(y%2C%200)%20%3D%3E%20%7B%20%2F*%20use%20y%20*%2F%7D%0A%20%20%20%20_%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In this example, if <code>x</code> matches the pattern <code>(0, _)</code>, the second field is set
to <code>y</code>. If it matches <code>(_, 0)</code>, the first field is set to <code>y</code>; so in all
cases <code>y</code> is set to some value.</p>
</div>
<div class="error-described"><h2 id="E0409" class="section-header"><a href="#E0409">E0409</a></h2>
<p>An “or” pattern was used where the variable bindings are not consistently bound
across patterns.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> (<span class="number">0</span>, <span class="number">2</span>);
<span class="kw">match</span> <span class="ident">x</span> {
    (<span class="number">0</span>, <span class="kw-2">ref</span> <span class="ident">y</span>) <span class="op">|</span> (<span class="ident">y</span>, <span class="number">0</span>) <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">/* use y */</span>} <span class="comment">// error: variable `y` is bound with</span>
                                          <span class="comment">//        different mode in pattern #2</span>
                                          <span class="comment">//        than in pattern #1</span>
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> ()
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%20(0%2C%202)%3B%0Amatch%20x%20%7B%0A%20%20%20%20(0%2C%20ref%20y)%20%7C%20(y%2C%200)%20%3D%3E%20%7B%20%2F*%20use%20y%20*%2F%7D%20%2F%2F%20error%3A%20variable%20%60y%60%20is%20bound%20with%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20different%20mode%20in%20pattern%20%232%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20than%20in%20pattern%20%231%0A%20%20%20%20_%20%3D%3E%20()%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, <code>y</code> is bound by-value in one case and by-reference in the other.</p>
<p>To fix this error, just use the same mode in both cases.
Generally using <code>ref</code> or <code>ref mut</code> where not already used will fix this:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> (<span class="number">0</span>, <span class="number">2</span>);
<span class="kw">match</span> <span class="ident">x</span> {
    (<span class="number">0</span>, <span class="kw-2">ref</span> <span class="ident">y</span>) <span class="op">|</span> (<span class="kw-2">ref</span> <span class="ident">y</span>, <span class="number">0</span>) <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">/* use y */</span>}
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> ()
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%20(0%2C%202)%3B%0Amatch%20x%20%7B%0A%20%20%20%20(0%2C%20ref%20y)%20%7C%20(ref%20y%2C%200)%20%3D%3E%20%7B%20%2F*%20use%20y%20*%2F%7D%0A%20%20%20%20_%20%3D%3E%20()%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Alternatively, split the pattern:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> (<span class="number">0</span>, <span class="number">2</span>);
<span class="kw">match</span> <span class="ident">x</span> {
    (<span class="ident">y</span>, <span class="number">0</span>) <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">/* use y */</span> }
    (<span class="number">0</span>, <span class="kw-2">ref</span> <span class="ident">y</span>) <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">/* use y */</span>}
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> ()
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%20(0%2C%202)%3B%0Amatch%20x%20%7B%0A%20%20%20%20(y%2C%200)%20%3D%3E%20%7B%20%2F*%20use%20y%20*%2F%20%7D%0A%20%20%20%20(0%2C%20ref%20y)%20%3D%3E%20%7B%20%2F*%20use%20y%20*%2F%7D%0A%20%20%20%20_%20%3D%3E%20()%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0411" class="section-header"><a href="#E0411">E0411</a></h2>
<p>The <code>Self</code> keyword was used outside an impl, trait, or type definition.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="op">&lt;</span><span class="self">Self</span><span class="op">&gt;</span>::<span class="ident">foo</span>; <span class="comment">// error: use of `Self` outside of an impl, trait, or type</span>
             <span class="comment">// definition</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%3CSelf%3E%3A%3Afoo%3B%20%2F%2F%20error%3A%20use%20of%20%60Self%60%20outside%20of%20an%20impl%2C%20trait%2C%20or%20type%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20definition%0A%7D&amp;edition=2015">Run</a></div>
<p>The <code>Self</code> keyword represents the current type, which explains why it can only
be used inside an impl, trait, or type definition. It gives access to the
associated items of a type:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">Bar</span>;
}

<span class="kw">trait</span> <span class="ident">Baz</span> : <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span>::<span class="ident">Bar</span>; <span class="comment">// like this</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20type%20Bar%3B%0A%7D%0A%0Atrait%20Baz%20%3A%20Foo%20%7B%0A%20%20%20%20fn%20bar()%20-%3E%20Self%3A%3ABar%3B%20%2F%2F%20like%20this%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>However, be careful when two types have a common associated type:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">Bar</span>;
}

<span class="kw">trait</span> <span class="ident">Foo2</span> {
    <span class="kw">type</span> <span class="ident">Bar</span>;
}

<span class="kw">trait</span> <span class="ident">Baz</span> : <span class="ident">Foo</span> <span class="op">+</span> <span class="ident">Foo2</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span>::<span class="ident">Bar</span>;
    <span class="comment">// error: ambiguous associated type `Bar` in bounds of `Self`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20type%20Bar%3B%0A%7D%0A%0Atrait%20Foo2%20%7B%0A%20%20%20%20type%20Bar%3B%0A%7D%0A%0Atrait%20Baz%20%3A%20Foo%20%2B%20Foo2%20%7B%0A%20%20%20%20fn%20bar()%20-%3E%20Self%3A%3ABar%3B%0A%20%20%20%20%2F%2F%20error%3A%20ambiguous%20associated%20type%20%60Bar%60%20in%20bounds%20of%20%60Self%60%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This problem can be solved by specifying from which trait we want to use the
<code>Bar</code> type:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">Bar</span>;
}

<span class="kw">trait</span> <span class="ident">Foo2</span> {
    <span class="kw">type</span> <span class="ident">Bar</span>;
}

<span class="kw">trait</span> <span class="ident">Baz</span> : <span class="ident">Foo</span> <span class="op">+</span> <span class="ident">Foo2</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="op">&lt;</span><span class="self">Self</span> <span class="kw">as</span> <span class="ident">Foo</span><span class="op">&gt;</span>::<span class="ident">Bar</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20type%20Bar%3B%0A%7D%0A%0Atrait%20Foo2%20%7B%0A%20%20%20%20type%20Bar%3B%0A%7D%0A%0Atrait%20Baz%20%3A%20Foo%20%2B%20Foo2%20%7B%0A%20%20%20%20fn%20bar()%20-%3E%20%3CSelf%20as%20Foo%3E%3A%3ABar%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0412" class="section-header"><a href="#E0412">E0412</a></h2>
<p>A used type name is not in scope.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">impl</span> <span class="ident">Something</span> {} <span class="comment">// error: type name `Something` is not in scope</span>

<span class="comment">// or:</span>

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="ident">N</span>); <span class="comment">// error: type name `N` is not in scope</span>
}

<span class="comment">// or:</span>

<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="ident">T</span>) {} <span class="comment">// type name `T` is not in scope</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aimpl%20Something%20%7B%7D%20%2F%2F%20error%3A%20type%20name%20%60Something%60%20is%20not%20in%20scope%0A%0A%2F%2F%20or%3A%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20bar(N)%3B%20%2F%2F%20error%3A%20type%20name%20%60N%60%20is%20not%20in%20scope%0A%7D%0A%0A%2F%2F%20or%3A%0A%0Afn%20foo(x%3A%20T)%20%7B%7D%20%2F%2F%20type%20name%20%60T%60%20is%20not%20in%20scope%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, please verify you didn’t misspell the type name, you did
declare it or imported it into the scope. Examples:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Something</span>;

<span class="kw">impl</span> <span class="ident">Something</span> {} <span class="comment">// ok!</span>

<span class="comment">// or:</span>

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">type</span> <span class="ident">N</span>;

    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw">_</span>: <span class="self">Self</span>::<span class="ident">N</span>); <span class="comment">// ok!</span>
}

<span class="comment">// or:</span>

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">T</span>) {} <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Something%3B%0A%0Aimpl%20Something%20%7B%7D%20%2F%2F%20ok!%0A%0A%2F%2F%20or%3A%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20type%20N%3B%0A%0A%20%20%20%20fn%20bar(_%3A%20Self%3A%3AN)%3B%20%2F%2F%20ok!%0A%7D%0A%0A%2F%2F%20or%3A%0A%0Afn%20foo%3CT%3E(x%3A%20T)%20%7B%7D%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>Another case that causes this error is when a type is imported into a parent
module. To fix this, you can follow the suggestion and use File directly or
<code>use super::File;</code> which will import the types from the parent namespace. An
example that causes this error is below:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">fs</span>::<span class="ident">File</span>;

<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">fn</span> <span class="ident">some_function</span>(<span class="ident">f</span>: <span class="ident">File</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Afs%3A%3AFile%3B%0A%0Amod%20foo%20%7B%0A%20%20%20%20fn%20some_function(f%3A%20File)%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">fs</span>::<span class="ident">File</span>;

<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="comment">// either</span>
    <span class="kw">use</span> <span class="kw">super</span>::<span class="ident">File</span>;
    <span class="comment">// or</span>
    <span class="comment">// use std::fs::File;</span>
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">f</span>: <span class="ident">File</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Afs%3A%3AFile%3B%0A%0Amod%20foo%20%7B%0A%20%20%20%20%2F%2F%20either%0A%20%20%20%20use%20super%3A%3AFile%3B%0A%20%20%20%20%2F%2F%20or%0A%20%20%20%20%2F%2F%20use%20std%3A%3Afs%3A%3AFile%3B%0A%20%20%20%20fn%20foo(f%3A%20File)%20%7B%7D%0A%7D%0Afn%20main()%20%7B%7D%20%2F%2F%20don't%20insert%20it%20for%20us%3B%20that'll%20break%20imports&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0415" class="section-header"><a href="#E0415">E0415</a></h2>
<p>More than one function parameter have the same name.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">f</span>: <span class="ident">i32</span>, <span class="ident">f</span>: <span class="ident">i32</span>) {} <span class="comment">// error: identifier `f` is bound more than</span>
                          <span class="comment">//        once in this parameter list</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo(f%3A%20i32%2C%20f%3A%20i32)%20%7B%7D%20%2F%2F%20error%3A%20identifier%20%60f%60%20is%20bound%20more%20than%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20once%20in%20this%20parameter%20list%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify you didn’t misspell parameters’ name. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">f</span>: <span class="ident">i32</span>, <span class="ident">g</span>: <span class="ident">i32</span>) {} <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo(f%3A%20i32%2C%20g%3A%20i32)%20%7B%7D%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0416" class="section-header"><a href="#E0416">E0416</a></h2>
<p>An identifier is bound more than once in a pattern.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">match</span> (<span class="number">1</span>, <span class="number">2</span>) {
    (<span class="ident">x</span>, <span class="ident">x</span>) <span class="op">=</span><span class="op">&gt;</span> {} <span class="comment">// error: identifier `x` is bound more than once in the</span>
                 <span class="comment">//        same pattern</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amatch%20(1%2C%202)%20%7B%0A%20%20%20%20(x%2C%20x)%20%3D%3E%20%7B%7D%20%2F%2F%20error%3A%20identifier%20%60x%60%20is%20bound%20more%20than%20once%20in%20the%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20same%20pattern%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify you didn’t misspell identifiers’ name. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">match</span> (<span class="number">1</span>, <span class="number">2</span>) {
    (<span class="ident">x</span>, <span class="ident">y</span>) <span class="op">=</span><span class="op">&gt;</span> {} <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amatch%20(1%2C%202)%20%7B%0A%20%20%20%20(x%2C%20y)%20%3D%3E%20%7B%7D%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Or maybe did you mean to unify? Consider using a guard:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">match</span> (<span class="ident">A</span>, <span class="ident">B</span>, <span class="ident">C</span>) {
    (<span class="ident">x</span>, <span class="ident">x2</span>, <span class="ident">see</span>) <span class="kw">if</span> <span class="ident">x</span> <span class="op">=</span><span class="op">=</span> <span class="ident">x2</span> <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">/* A and B are equal, do one thing */</span> }
    (<span class="ident">y</span>, <span class="ident">z</span>, <span class="ident">see</span>) <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">/* A and B unequal; do another thing */</span> }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20(A%2C%20B%2C%20C)%20%3D%20(1%2C%202%2C%203)%3B%0Amatch%20(A%2C%20B%2C%20C)%20%7B%0A%20%20%20%20(x%2C%20x2%2C%20see)%20if%20x%20%3D%3D%20x2%20%3D%3E%20%7B%20%2F*%20A%20and%20B%20are%20equal%2C%20do%20one%20thing%20*%2F%20%7D%0A%20%20%20%20(y%2C%20z%2C%20see)%20%3D%3E%20%7B%20%2F*%20A%20and%20B%20unequal%3B%20do%20another%20thing%20*%2F%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0422" class="section-header"><a href="#E0422">E0422</a></h2>
<p>An identifier that is neither defined nor a struct was used.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span> () {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="number">1</span>, <span class="ident">y</span>: <span class="number">2</span> };
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main%20()%20%7B%0A%20%20%20%20let%20x%20%3D%20Foo%20%7B%20x%3A%201%2C%20y%3A%202%20%7D%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>In this case, <code>Foo</code> is undefined, so it inherently isn’t anything, and
definitely not a struct.</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span> () {
    <span class="kw">let</span> <span class="ident">foo</span> <span class="op">=</span> <span class="number">1</span>;
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">foo</span> { <span class="ident">x</span>: <span class="number">1</span>, <span class="ident">y</span>: <span class="number">2</span> };
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main%20()%20%7B%0A%20%20%20%20let%20foo%20%3D%201%3B%0A%20%20%20%20let%20x%20%3D%20foo%20%7B%20x%3A%201%2C%20y%3A%202%20%7D%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>In this case, <code>foo</code> is defined, but is not a struct, so Rust can’t use it as
one.</p>
</div>
<div class="error-described"><h2 id="E0423" class="section-header"><a href="#E0423">E0423</a></h2>
<p>An identifier was used like a function name or a value was expected and the
identifier exists but it belongs to a different namespace.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span> { <span class="ident">a</span>: <span class="ident">bool</span> };

<span class="kw">let</span> <span class="ident">f</span> <span class="op">=</span> <span class="ident">Foo</span>();
<span class="comment">// error: expected function, tuple struct or tuple variant, found `Foo`</span>
<span class="comment">// `Foo` is a struct name, but this expression uses it like a function name</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%20%7B%20a%3A%20bool%20%7D%3B%0A%0Alet%20f%20%3D%20Foo()%3B%0A%2F%2F%20error%3A%20expected%20function%2C%20tuple%20struct%20or%20tuple%20variant%2C%20found%20%60Foo%60%0A%2F%2F%20%60Foo%60%20is%20a%20struct%20name%2C%20but%20this%20expression%20uses%20it%20like%20a%20function%20name%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify you didn’t misspell the name of what you actually wanted to use
here. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">Foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u32</span> { <span class="number">0</span> }

<span class="kw">let</span> <span class="ident">f</span> <span class="op">=</span> <span class="ident">Foo</span>(); <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20Foo()%20-%3E%20u32%20%7B%200%20%7D%0A%0Alet%20f%20%3D%20Foo()%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>It is common to forget the trailing <code>!</code> on macro invocations, which would also
yield this error:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="ident">println</span>(<span class="string">&quot;&quot;</span>);
<span class="comment">// error: expected function, tuple struct or tuple variant,</span>
<span class="comment">// found macro `println`</span>
<span class="comment">// did you mean `println!(...)`? (notice the trailing `!`)</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aprintln(%22%22)%3B%0A%2F%2F%20error%3A%20expected%20function%2C%20tuple%20struct%20or%20tuple%20variant%2C%0A%2F%2F%20found%20macro%20%60println%60%0A%2F%2F%20did%20you%20mean%20%60println!(...)%60%3F%20(notice%20the%20trailing%20%60!%60)%0A%7D&amp;edition=2015">Run</a></div>
<p>Another case where this error is emitted is when a value is expected, but
something else is found:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">a</span> {
    <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">I</span>: <span class="ident">i32</span> <span class="op">=</span> <span class="number">1</span>;
}

<span class="kw">fn</span> <span class="ident">h1</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i32</span> {
    <span class="ident">a</span>.<span class="ident">I</span>
    <span class="comment">//~^ ERROR expected value, found module `a`</span>
    <span class="comment">// did you mean `a::I`?</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Apub%20mod%20a%20%7B%0A%20%20%20%20pub%20const%20I%3A%20i32%20%3D%201%3B%0A%7D%0A%0Afn%20h1()%20-%3E%20i32%20%7B%0A%20%20%20%20a.I%0A%20%20%20%20%2F%2F~%5E%20ERROR%20expected%20value%2C%20found%20module%20%60a%60%0A%20%20%20%20%2F%2F%20did%20you%20mean%20%60a%3A%3AI%60%3F%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0424" class="section-header"><a href="#E0424">E0424</a></h2>
<p>The <code>self</code> keyword was used inside of an associated function without a “<code>self</code>
receiver” parameter.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="comment">// `bar` is a method, because it has a receiver parameter.</span>
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}

    <span class="comment">// `foo` is not a method, because it has no receiver parameter.</span>
    <span class="kw">fn</span> <span class="ident">foo</span>() {
        <span class="self">self</span>.<span class="ident">bar</span>(); <span class="comment">// error: `self` value is a keyword only available in</span>
                    <span class="comment">//        methods with a `self` parameter</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aimpl%20Foo%20%7B%0A%20%20%20%20%2F%2F%20%60bar%60%20is%20a%20method%2C%20because%20it%20has%20a%20receiver%20parameter.%0A%20%20%20%20fn%20bar(%26self)%20%7B%7D%0A%0A%20%20%20%20%2F%2F%20%60foo%60%20is%20not%20a%20method%2C%20because%20it%20has%20no%20receiver%20parameter.%0A%20%20%20%20fn%20foo()%20%7B%0A%20%20%20%20%20%20%20%20self.bar()%3B%20%2F%2F%20error%3A%20%60self%60%20value%20is%20a%20keyword%20only%20available%20in%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20methods%20with%20a%20%60self%60%20parameter%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The <code>self</code> keyword can only be used inside methods, which are associated
functions (functions defined inside of a <code>trait</code> or <code>impl</code> block) that have a
<code>self</code> receiver as its first parameter, like <code>self</code>, <code>&amp;self</code>, <code>&amp;mut self</code> or
<code>self: &amp;mut Pin&lt;Self&gt;</code> (this last one is an example of an <a href="https://github.com/rust-lang/rust/issues/44874">“arbitrary <code>self</code>
type”</a>).</p>
<p>Check if the associated function’s parameter list should have contained a <code>self</code>
receiver for it to be a method, and add it if so. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}

    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="self">self</span>) { <span class="comment">// `foo` is now a method.</span>
        <span class="self">self</span>.<span class="ident">bar</span>(); <span class="comment">// ok!</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20bar(%26self)%20%7B%7D%0A%0A%20%20%20%20fn%20foo(self)%20%7B%20%2F%2F%20%60foo%60%20is%20now%20a%20method.%0A%20%20%20%20%20%20%20%20self.bar()%3B%20%2F%2F%20ok!%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0425" class="section-header"><a href="#E0425">E0425</a></h2>
<p>An unresolved name was used.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="ident">something_that_doesnt_exist</span>::<span class="ident">foo</span>;
<span class="comment">// error: unresolved name `something_that_doesnt_exist::foo`</span>

<span class="comment">// or:</span>

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>() {
        <span class="self">Self</span>; <span class="comment">// error: unresolved name `Self`</span>
    }
}

<span class="comment">// or:</span>

<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">unknown_variable</span>;  <span class="comment">// error: unresolved name `unknown_variable`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Asomething_that_doesnt_exist%3A%3Afoo%3B%0A%2F%2F%20error%3A%20unresolved%20name%20%60something_that_doesnt_exist%3A%3Afoo%60%0A%0A%2F%2F%20or%3A%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20bar()%20%7B%0A%20%20%20%20%20%20%20%20Self%3B%20%2F%2F%20error%3A%20unresolved%20name%20%60Self%60%0A%20%20%20%20%7D%0A%7D%0A%0A%2F%2F%20or%3A%0A%0Alet%20x%20%3D%20unknown_variable%3B%20%20%2F%2F%20error%3A%20unresolved%20name%20%60unknown_variable%60%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify that the name wasn’t misspelled and ensure that the
identifier being referred to is valid for the given situation. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">something_that_does_exist</span> {
    <span class="ident">Foo</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20something_that_does_exist%20%7B%0A%20%20%20%20Foo%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Or:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">mod</span> <span class="ident">something_that_does_exist</span> {
    <span class="kw">pub</span> <span class="kw">static</span> <span class="ident">foo</span> : <span class="ident">i32</span> <span class="op">=</span> <span class="number">0i32</span>;
}

<span class="ident">something_that_does_exist</span>::<span class="ident">foo</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20something_that_does_exist%20%7B%0A%20%20%20%20pub%20static%20foo%20%3A%20i32%20%3D%200i32%3B%0A%7D%0A%0Asomething_that_does_exist%3A%3Afoo%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>Or:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">unknown_variable</span> <span class="op">=</span> <span class="number">12u32</span>;
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">unknown_variable</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20unknown_variable%20%3D%2012u32%3B%0Alet%20x%20%3D%20unknown_variable%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>If the item is not defined in the current module, it must be imported using a
<code>use</code> statement, like so:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">foo</span>::<span class="ident">bar</span>;
<span class="ident">bar</span>();</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Amod%20foo%20%7B%20pub%20fn%20bar()%20%7B%7D%20%7D%0Afn%20main()%20%7B%0Ause%20foo%3A%3Abar%3B%0Abar()%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>If the item you are importing is not defined in some super-module of the
current module, then it must also be declared as public (e.g., <code>pub fn</code>).</p>
</div>
<div class="error-described"><h2 id="E0426" class="section-header"><a href="#E0426">E0426</a></h2>
<p>An undeclared label was used.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">loop</span> {
    <span class="kw">break</span> <span class="lifetime">&#39;a</span>; <span class="comment">// error: use of undeclared label `&#39;a`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aloop%20%7B%0A%20%20%20%20break%20'a%3B%20%2F%2F%20error%3A%20use%20of%20undeclared%20label%20%60'a%60%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify you spelled or declared the label correctly. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="lifetime">&#39;a</span>: <span class="kw">loop</span> {
    <span class="kw">break</span> <span class="lifetime">&#39;a</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A'a%3A%20loop%20%7B%0A%20%20%20%20break%20'a%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0428" class="section-header"><a href="#E0428">E0428</a></h2>
<p>A type or module has been defined more than once.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Bar</span>;
<span class="kw">struct</span> <span class="ident">Bar</span>; <span class="comment">// error: duplicate definition of value `Bar`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Bar%3B%0Astruct%20Bar%3B%20%2F%2F%20error%3A%20duplicate%20definition%20of%20value%20%60Bar%60%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify you didn’t misspell the type/module’s name or remove/rename the
duplicated one. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Bar</span>;
<span class="kw">struct</span> <span class="ident">Bar2</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Bar%3B%0Astruct%20Bar2%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0429" class="section-header"><a href="#E0429">E0429</a></h2>
<p>The <code>self</code> keyword cannot appear alone as the last segment in a <code>use</code>
declaration.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">fmt</span>::<span class="self">self</span>; <span class="comment">// error: `self` imports are only allowed within a { } list</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Afmt%3A%3Aself%3B%20%2F%2F%20error%3A%20%60self%60%20imports%20are%20only%20allowed%20within%20a%20%7B%20%7D%20list%0A%7D&amp;edition=2015">Run</a></div>
<p>To use a namespace itself in addition to some of its members, <code>self</code> may appear
as part of a brace-enclosed list of imports:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">fmt</span>::{<span class="self">self</span>, <span class="ident">Debug</span>};</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Afmt%3A%3A%7Bself%2C%20Debug%7D%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>If you only want to import the namespace, do so directly:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">fmt</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Afmt%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0430" class="section-header"><a href="#E0430">E0430</a></h2>
<p>The <code>self</code> import appears more than once in the list.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">something</span>::{<span class="self">self</span>, <span class="self">self</span>}; <span class="comment">// error: `self` import can only appear once in</span>
                             <span class="comment">//        the list</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20something%3A%3A%7Bself%2C%20self%7D%3B%20%2F%2F%20error%3A%20%60self%60%20import%20can%20only%20appear%20once%20in%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20the%20list%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify you didn’t misspell the import name or remove the duplicated
<code>self</code> import. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">something</span>::{<span class="self">self</span>}; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Amod%20something%20%7B%7D%0Afn%20main()%20%7B%0Ause%20something%3A%3A%7Bself%7D%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0431" class="section-header"><a href="#E0431">E0431</a></h2>
<p>An invalid <code>self</code> import was made.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> {<span class="self">self</span>}; <span class="comment">// error: `self` import can only appear in an import list with a</span>
            <span class="comment">//        non-empty prefix</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20%7Bself%7D%3B%20%2F%2F%20error%3A%20%60self%60%20import%20can%20only%20appear%20in%20an%20import%20list%20with%20a%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20non-empty%20prefix%0A%7D&amp;edition=2015">Run</a></div>
<p>You cannot import the current module into itself, please remove this import
or verify you didn’t misspell it.</p>
</div>
<div class="error-described"><h2 id="E0432" class="section-header"><a href="#E0432">E0432</a></h2>
<p>An import was unresolved.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">something</span>::<span class="ident">Foo</span>; <span class="comment">// error: unresolved import `something::Foo`.</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20something%3A%3AFoo%3B%20%2F%2F%20error%3A%20unresolved%20import%20%60something%3A%3AFoo%60.%0A%7D&amp;edition=2015">Run</a></div>
<p>In Rust 2015, paths in <code>use</code> statements are relative to the crate root. To
import items relative to the current and parent modules, use the <code>self::</code> and
<code>super::</code> prefixes, respectively.</p>
<p>In Rust 2018, paths in <code>use</code> statements are relative to the current module
unless they begin with the name of a crate or a literal <code>crate::</code>, in which
case they start from the crate root. As in Rust 2015 code, the <code>self::</code> and
<code>super::</code> prefixes refer to the current and parent modules respectively.</p>
<p>Also verify that you didn’t misspell the import name and that the import exists
in the module from where you tried to import it. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="self">self</span>::<span class="ident">something</span>::<span class="ident">Foo</span>; <span class="comment">// Ok.</span>

<span class="kw">mod</span> <span class="ident">something</span> {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Foo</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20self%3A%3Asomething%3A%3AFoo%3B%20%2F%2F%20Ok.%0A%0Amod%20something%20%7B%0A%20%20%20%20pub%20struct%20Foo%3B%0A%7D%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>If you tried to use a module from an external crate and are using Rust 2015,
you may have missed the <code>extern crate</code> declaration (which is usually placed in
the crate root):</p>

<div class='information'><div class='tooltip edition' data-edition="2015">ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered edition">
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">core</span>; <span class="comment">// Required to use the `core` crate in Rust 2015.</span>

<span class="kw">use</span> <span class="ident">core</span>::<span class="ident">any</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aextern%20crate%20core%3B%20%2F%2F%20Required%20to%20use%20the%20%60core%60%20crate%20in%20Rust%202015.%0A%0Ause%20core%3A%3Aany%3B%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>In Rust 2018 the <code>extern crate</code> declaration is not required and you can instead
just <code>use</code> it:</p>

<div class='information'><div class='tooltip edition' data-edition="2018">ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered edition">
<span class="kw">use</span> <span class="ident">core</span>::<span class="ident">any</span>; <span class="comment">// No extern crate required in Rust 2018.</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20core%3A%3Aany%3B%20%2F%2F%20No%20extern%20crate%20required%20in%20Rust%202018.%0Afn%20main()%20%7B%7D&amp;edition=2018">Run</a></div>
</div>
<div class="error-described"><h2 id="E0433" class="section-header"><a href="#E0433">E0433</a></h2>
<p>An undeclared crate, module, or type was used.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">map</span> <span class="op">=</span> <span class="ident">HashMap</span>::<span class="ident">new</span>();
<span class="comment">// error: failed to resolve: use of undeclared type `HashMap`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20map%20%3D%20HashMap%3A%3Anew()%3B%0A%2F%2F%20error%3A%20failed%20to%20resolve%3A%20use%20of%20undeclared%20type%20%60HashMap%60%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify you didn’t misspell the type/module’s name or that you didn’t
forget to import it:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">collections</span>::<span class="ident">HashMap</span>; <span class="comment">// HashMap has been imported.</span>
<span class="kw">let</span> <span class="ident">map</span>: <span class="ident">HashMap</span><span class="op">&lt;</span><span class="ident">u32</span>, <span class="ident">u32</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">HashMap</span>::<span class="ident">new</span>(); <span class="comment">// So it can be used!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Acollections%3A%3AHashMap%3B%20%2F%2F%20HashMap%20has%20been%20imported.%0Alet%20map%3A%20HashMap%3Cu32%2C%20u32%3E%20%3D%20HashMap%3A%3Anew()%3B%20%2F%2F%20So%20it%20can%20be%20used!%0A%7D&amp;edition=2015">Run</a></div>
<p>If you’ve expected to use a crate name:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">ferris_wheel</span>::<span class="ident">BigO</span>;
<span class="comment">// error: failed to resolve: use of undeclared crate or module `ferris_wheel`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20ferris_wheel%3A%3ABigO%3B%0A%2F%2F%20error%3A%20failed%20to%20resolve%3A%20use%20of%20undeclared%20crate%20or%20module%20%60ferris_wheel%60%0A%7D&amp;edition=2015">Run</a></div>
<p>Make sure the crate has been added as a dependency in <code>Cargo.toml</code>.</p>
<p>To use a module from your current crate, add the <code>crate::</code> prefix to the path.</p>
</div>
<div class="error-described"><h2 id="E0434" class="section-header"><a href="#E0434">E0434</a></h2>
<p>A variable used inside an inner function comes from a dynamic environment.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span>() {
    <span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="number">5</span>;
    <span class="kw">fn</span> <span class="ident">bar</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u32</span> {
        <span class="ident">y</span> <span class="comment">// error: can&#39;t capture dynamic environment in a fn item; use the</span>
          <span class="comment">//        || { ... } closure form instead.</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo()%20%7B%0A%20%20%20%20let%20y%20%3D%205%3B%0A%20%20%20%20fn%20bar()%20-%3E%20u32%20%7B%0A%20%20%20%20%20%20%20%20y%20%2F%2F%20error%3A%20can't%20capture%20dynamic%20environment%20in%20a%20fn%20item%3B%20use%20the%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%7C%7C%20%7B%20...%20%7D%20closure%20form%20instead.%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Inner functions do not have access to their containing environment. To fix this
error, you can replace the function with a closure:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span>() {
    <span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="number">5</span>;
    <span class="kw">let</span> <span class="ident">bar</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
        <span class="ident">y</span>
    };
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo()%20%7B%0A%20%20%20%20let%20y%20%3D%205%3B%0A%20%20%20%20let%20bar%20%3D%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20y%0A%20%20%20%20%7D%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Or replace the captured variable with a constant or a static item:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span>() {
    <span class="kw">static</span> <span class="kw-2">mut</span> <span class="ident">X</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="number">4</span>;
    <span class="kw">const</span> <span class="ident">Y</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="number">5</span>;
    <span class="kw">fn</span> <span class="ident">bar</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u32</span> {
        <span class="kw">unsafe</span> {
            <span class="ident">X</span> <span class="op">=</span> <span class="number">3</span>;
        }
        <span class="ident">Y</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo()%20%7B%0A%20%20%20%20static%20mut%20X%3A%20u32%20%3D%204%3B%0A%20%20%20%20const%20Y%3A%20u32%20%3D%205%3B%0A%20%20%20%20fn%20bar()%20-%3E%20u32%20%7B%0A%20%20%20%20%20%20%20%20unsafe%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20X%20%3D%203%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20Y%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0435" class="section-header"><a href="#E0435">E0435</a></h2>
<p>A non-constant value was used in a constant expression.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">foo</span> <span class="op">=</span> <span class="number">42</span>;
<span class="kw">let</span> <span class="ident">a</span>: [<span class="ident">u8</span>; <span class="ident">foo</span>]; <span class="comment">// error: attempt to use a non-constant value in a constant</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20foo%20%3D%2042%3B%0Alet%20a%3A%20%5Bu8%3B%20foo%5D%3B%20%2F%2F%20error%3A%20attempt%20to%20use%20a%20non-constant%20value%20in%20a%20constant%0A%7D&amp;edition=2015">Run</a></div>
<p>‘constant’ means ‘a compile-time value’.</p>
<p>More details can be found in the <a href="https://doc.rust-lang.org/book/ch03-01-variables-and-mutability.html#differences-between-variables-and-constants">Variables and Mutability</a> section of the book.</p>
<p>To fix this error, please replace the value with a constant. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">a</span>: [<span class="ident">u8</span>; <span class="number">42</span>]; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20a%3A%20%5Bu8%3B%2042%5D%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>Or:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">const</span> <span class="ident">FOO</span>: <span class="ident">usize</span> <span class="op">=</span> <span class="number">42</span>;
<span class="kw">let</span> <span class="ident">a</span>: [<span class="ident">u8</span>; <span class="ident">FOO</span>]; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aconst%20FOO%3A%20usize%20%3D%2042%3B%0Alet%20a%3A%20%5Bu8%3B%20FOO%5D%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0436" class="section-header"><a href="#E0436">E0436</a></h2>
<p>The functional record update syntax was used on something other than a struct.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">PublicationFrequency</span> {
    <span class="ident">Weekly</span>,
    <span class="ident">SemiMonthly</span> { <span class="ident">days</span>: (<span class="ident">u8</span>, <span class="ident">u8</span>), <span class="ident">annual_special</span>: <span class="ident">bool</span> },
}

<span class="kw">fn</span> <span class="ident">one_up_competitor</span>(<span class="ident">competitor_frequency</span>: <span class="ident">PublicationFrequency</span>)
                     <span class="op">-</span><span class="op">&gt;</span> <span class="ident">PublicationFrequency</span> {
    <span class="kw">match</span> <span class="ident">competitor_frequency</span> {
        <span class="ident">PublicationFrequency</span>::<span class="ident">Weekly</span> <span class="op">=</span><span class="op">&gt;</span> <span class="ident">PublicationFrequency</span>::<span class="ident">SemiMonthly</span> {
            <span class="ident">days</span>: (<span class="number">1</span>, <span class="number">15</span>), <span class="ident">annual_special</span>: <span class="bool-val">false</span>
        },
        <span class="ident">c</span> @ <span class="ident">PublicationFrequency</span>::<span class="ident">SemiMonthly</span>{ .. } <span class="op">=</span><span class="op">&gt;</span>
            <span class="ident">PublicationFrequency</span>::<span class="ident">SemiMonthly</span> {
                <span class="ident">annual_special</span>: <span class="bool-val">true</span>, ..<span class="ident">c</span> <span class="comment">// error: functional record update</span>
                                          <span class="comment">//        syntax requires a struct</span>
        }
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20PublicationFrequency%20%7B%0A%20%20%20%20Weekly%2C%0A%20%20%20%20SemiMonthly%20%7B%20days%3A%20(u8%2C%20u8)%2C%20annual_special%3A%20bool%20%7D%2C%0A%7D%0A%0Afn%20one_up_competitor(competitor_frequency%3A%20PublicationFrequency)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-%3E%20PublicationFrequency%20%7B%0A%20%20%20%20match%20competitor_frequency%20%7B%0A%20%20%20%20%20%20%20%20PublicationFrequency%3A%3AWeekly%20%3D%3E%20PublicationFrequency%3A%3ASemiMonthly%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20days%3A%20(1%2C%2015)%2C%20annual_special%3A%20false%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20c%20%40%20PublicationFrequency%3A%3ASemiMonthly%7B%20..%20%7D%20%3D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20PublicationFrequency%3A%3ASemiMonthly%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20annual_special%3A%20true%2C%20..c%20%2F%2F%20error%3A%20functional%20record%20update%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20syntax%20requires%20a%20struct%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The functional record update syntax is only allowed for structs (struct-like
enum variants don’t qualify, for example). To fix the previous code, rewrite the
expression without functional record update syntax:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">PublicationFrequency</span> {
    <span class="ident">Weekly</span>,
    <span class="ident">SemiMonthly</span> { <span class="ident">days</span>: (<span class="ident">u8</span>, <span class="ident">u8</span>), <span class="ident">annual_special</span>: <span class="ident">bool</span> },
}

<span class="kw">fn</span> <span class="ident">one_up_competitor</span>(<span class="ident">competitor_frequency</span>: <span class="ident">PublicationFrequency</span>)
                     <span class="op">-</span><span class="op">&gt;</span> <span class="ident">PublicationFrequency</span> {
    <span class="kw">match</span> <span class="ident">competitor_frequency</span> {
        <span class="ident">PublicationFrequency</span>::<span class="ident">Weekly</span> <span class="op">=</span><span class="op">&gt;</span> <span class="ident">PublicationFrequency</span>::<span class="ident">SemiMonthly</span> {
            <span class="ident">days</span>: (<span class="number">1</span>, <span class="number">15</span>), <span class="ident">annual_special</span>: <span class="bool-val">false</span>
        },
        <span class="ident">PublicationFrequency</span>::<span class="ident">SemiMonthly</span>{ <span class="ident">days</span>, .. } <span class="op">=</span><span class="op">&gt;</span>
            <span class="ident">PublicationFrequency</span>::<span class="ident">SemiMonthly</span> {
                <span class="ident">days</span>, <span class="ident">annual_special</span>: <span class="bool-val">true</span> <span class="comment">// ok!</span>
        }
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20PublicationFrequency%20%7B%0A%20%20%20%20Weekly%2C%0A%20%20%20%20SemiMonthly%20%7B%20days%3A%20(u8%2C%20u8)%2C%20annual_special%3A%20bool%20%7D%2C%0A%7D%0A%0Afn%20one_up_competitor(competitor_frequency%3A%20PublicationFrequency)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20-%3E%20PublicationFrequency%20%7B%0A%20%20%20%20match%20competitor_frequency%20%7B%0A%20%20%20%20%20%20%20%20PublicationFrequency%3A%3AWeekly%20%3D%3E%20PublicationFrequency%3A%3ASemiMonthly%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20days%3A%20(1%2C%2015)%2C%20annual_special%3A%20false%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20PublicationFrequency%3A%3ASemiMonthly%7B%20days%2C%20..%20%7D%20%3D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20PublicationFrequency%3A%3ASemiMonthly%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20days%2C%20annual_special%3A%20true%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0437" class="section-header"><a href="#E0437">E0437</a></h2>
<p>An associated type whose name does not match any of the associated types
in the trait was used when implementing the trait.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {}

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">i32</span> {
    <span class="kw">type</span> <span class="ident">Bar</span> <span class="op">=</span> <span class="ident">bool</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%7D%0A%0Aimpl%20Foo%20for%20i32%20%7B%0A%20%20%20%20type%20Bar%20%3D%20bool%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Trait implementations can only implement associated types that are members of
the trait in question.</p>
<p>The solution to this problem is to remove the extraneous associated type:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {}

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">i32</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%7D%0A%0Aimpl%20Foo%20for%20i32%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0438" class="section-header"><a href="#E0438">E0438</a></h2>
<p>An associated constant whose name does not match any of the associated constants
in the trait was used when implementing the trait.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {}

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">i32</span> {
    <span class="kw">const</span> <span class="ident">BAR</span>: <span class="ident">bool</span> <span class="op">=</span> <span class="bool-val">true</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%7D%0A%0Aimpl%20Foo%20for%20i32%20%7B%0A%20%20%20%20const%20BAR%3A%20bool%20%3D%20true%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Trait implementations can only implement associated constants that are
members of the trait in question.</p>
<p>The solution to this problem is to remove the extraneous associated constant:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {}

<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">i32</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%7D%0A%0Aimpl%20Foo%20for%20i32%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0439" class="section-header"><a href="#E0439">E0439</a></h2>
<p>The length of the platform-intrinsic function <code>simd_shuffle</code> wasn’t specified.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">platform_intrinsics</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;platform-intrinsic&quot;</span> {
    <span class="kw">fn</span> <span class="ident">simd_shuffle</span><span class="op">&lt;</span><span class="ident">A</span>,<span class="ident">B</span><span class="op">&gt;</span>(<span class="ident">a</span>: <span class="ident">A</span>, <span class="ident">b</span>: <span class="ident">A</span>, <span class="ident">c</span>: [<span class="ident">u32</span>; <span class="number">8</span>]) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">B</span>;
    <span class="comment">// error: invalid `simd_shuffle`, needs length: `simd_shuffle`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(platform_intrinsics)%5D%0A%0Afn%20main()%20%7B%0Aextern%20%22platform-intrinsic%22%20%7B%0A%20%20%20%20fn%20simd_shuffle%3CA%2CB%3E(a%3A%20A%2C%20b%3A%20A%2C%20c%3A%20%5Bu32%3B%208%5D)%20-%3E%20B%3B%0A%20%20%20%20%2F%2F%20error%3A%20invalid%20%60simd_shuffle%60%2C%20needs%20length%3A%20%60simd_shuffle%60%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>The <code>simd_shuffle</code> function needs the length of the array passed as
last parameter in its name. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">platform_intrinsics</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;platform-intrinsic&quot;</span> {
    <span class="kw">fn</span> <span class="ident">simd_shuffle8</span><span class="op">&lt;</span><span class="ident">A</span>,<span class="ident">B</span><span class="op">&gt;</span>(<span class="ident">a</span>: <span class="ident">A</span>, <span class="ident">b</span>: <span class="ident">A</span>, <span class="ident">c</span>: [<span class="ident">u32</span>; <span class="number">8</span>]) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">B</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(platform_intrinsics)%5D%0A%0Afn%20main()%20%7B%0Aextern%20%22platform-intrinsic%22%20%7B%0A%20%20%20%20fn%20simd_shuffle8%3CA%2CB%3E(a%3A%20A%2C%20b%3A%20A%2C%20c%3A%20%5Bu32%3B%208%5D)%20-%3E%20B%3B%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0445" class="section-header"><a href="#E0445">E0445</a></h2>
<p>A private trait was used on a public type parameter bound.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">deny</span>(<span class="ident">private_in_public</span>)]</span>

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">dummy</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) { }
}

<span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">Bar</span> : <span class="ident">Foo</span> {} <span class="comment">// error: private trait in public interface</span>
<span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Bar2</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Foo</span><span class="op">&gt;</span>(<span class="kw">pub</span> <span class="ident">T</span>); <span class="comment">// same error</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Foo</span><span class="op">&gt;</span> (<span class="ident">t</span>: <span class="ident">T</span>) {} <span class="comment">// same error</span>

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bdeny(private_in_public)%5D%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20dummy(%26self)%20%7B%20%7D%0A%7D%0A%0Apub%20trait%20Bar%20%3A%20Foo%20%7B%7D%20%2F%2F%20error%3A%20private%20trait%20in%20public%20interface%0Apub%20struct%20Bar2%3CT%3A%20Foo%3E(pub%20T)%3B%20%2F%2F%20same%20error%0Apub%20fn%20foo%3CT%3A%20Foo%3E%20(t%3A%20T)%20%7B%7D%20%2F%2F%20same%20error%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>To solve this error, please ensure that the trait is also public. The trait
can be made inaccessible if necessary by placing it into a private inner
module, but it still has to be marked with <code>pub</code>. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">Foo</span> { <span class="comment">// we set the Foo trait public</span>
    <span class="kw">fn</span> <span class="ident">dummy</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) { }
}

<span class="kw">pub</span> <span class="kw">trait</span> <span class="ident">Bar</span> : <span class="ident">Foo</span> {} <span class="comment">// ok!</span>
<span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Bar2</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Foo</span><span class="op">&gt;</span>(<span class="kw">pub</span> <span class="ident">T</span>); <span class="comment">// ok!</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Foo</span><span class="op">&gt;</span> (<span class="ident">t</span>: <span class="ident">T</span>) {} <span class="comment">// ok!</span>

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Apub%20trait%20Foo%20%7B%20%2F%2F%20we%20set%20the%20Foo%20trait%20public%0A%20%20%20%20fn%20dummy(%26self)%20%7B%20%7D%0A%7D%0A%0Apub%20trait%20Bar%20%3A%20Foo%20%7B%7D%20%2F%2F%20ok!%0Apub%20struct%20Bar2%3CT%3A%20Foo%3E(pub%20T)%3B%20%2F%2F%20ok!%0Apub%20fn%20foo%3CT%3A%20Foo%3E%20(t%3A%20T)%20%7B%7D%20%2F%2F%20ok!%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0446" class="section-header"><a href="#E0446">E0446</a></h2>
<p>A private type was used in a public type signature.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">deny</span>(<span class="ident">private_in_public</span>)]</span>
<span class="kw">struct</span> <span class="ident">Bar</span>(<span class="ident">u32</span>);

<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">use</span> <span class="kw">crate</span>::<span class="ident">Bar</span>;
    <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">bar</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Bar</span> { <span class="comment">// error: private type in public interface</span>
        <span class="ident">Bar</span>(<span class="number">0</span>)
    }
}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bdeny(private_in_public)%5D%0Astruct%20Bar(u32)%3B%0A%0Amod%20foo%20%7B%0A%20%20%20%20use%20crate%3A%3ABar%3B%0A%20%20%20%20pub%20fn%20bar()%20-%3E%20Bar%20%7B%20%2F%2F%20error%3A%20private%20type%20in%20public%20interface%0A%20%20%20%20%20%20%20%20Bar(0)%0A%20%20%20%20%7D%0A%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>There are two ways to solve this error. The first is to make the public type
signature only public to a module that also has access to the private type.
This is done by using pub(crate) or pub(in crate::my_mod::etc)
Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Bar</span>(<span class="ident">u32</span>);

<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">use</span> <span class="kw">crate</span>::<span class="ident">Bar</span>;
    <span class="kw">pub</span>(<span class="kw">crate</span>) <span class="kw">fn</span> <span class="ident">bar</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Bar</span> { <span class="comment">// only public to crate root</span>
        <span class="ident">Bar</span>(<span class="number">0</span>)
    }
}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Bar(u32)%3B%0A%0Amod%20foo%20%7B%0A%20%20%20%20use%20crate%3A%3ABar%3B%0A%20%20%20%20pub(crate)%20fn%20bar()%20-%3E%20Bar%20%7B%20%2F%2F%20only%20public%20to%20crate%20root%0A%20%20%20%20%20%20%20%20Bar(0)%0A%20%20%20%20%7D%0A%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>The other way to solve this error is to make the private type public.
Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Bar</span>(<span class="ident">u32</span>); <span class="comment">// we set the Bar type public</span>
<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">use</span> <span class="kw">crate</span>::<span class="ident">Bar</span>;
    <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">bar</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Bar</span> { <span class="comment">// ok!</span>
        <span class="ident">Bar</span>(<span class="number">0</span>)
    }
}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Apub%20struct%20Bar(u32)%3B%20%2F%2F%20we%20set%20the%20Bar%20type%20public%0Amod%20foo%20%7B%0A%20%20%20%20use%20crate%3A%3ABar%3B%0A%20%20%20%20pub%20fn%20bar()%20-%3E%20Bar%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20Bar(0)%0A%20%20%20%20%7D%0A%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0447" class="section-header"><a href="#E0447">E0447</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-36" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-36">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>The <code>pub</code> keyword was used inside a function.</p>
<p>Erroneous code example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span>() {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Bar</span>; <span class="comment">// error: visibility has no effect inside functions</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo()%20%7B%0A%20%20%20%20pub%20struct%20Bar%3B%20%2F%2F%20error%3A%20visibility%20has%20no%20effect%20inside%20functions%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Since we cannot access items defined inside a function, the visibility of its
items does not impact outer code. So using the <code>pub</code> keyword in this context
is invalid.</p>
</div>
<div class="error-described"><h2 id="E0448" class="section-header"><a href="#E0448">E0448</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-37" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-37">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>The <code>pub</code> keyword was used inside a public enum.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Foo</span> {
    <span class="kw">pub</span> <span class="ident">Bar</span>, <span class="comment">// error: unnecessary `pub` visibility</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Apub%20enum%20Foo%20%7B%0A%20%20%20%20pub%20Bar%2C%20%2F%2F%20error%3A%20unnecessary%20%60pub%60%20visibility%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Since the enum is already public, adding <code>pub</code> on one its elements is
unnecessary. Example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">Foo</span> {
    <span class="kw">pub</span> <span class="ident">Bar</span>, <span class="comment">// not ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Foo%20%7B%0A%20%20%20%20pub%20Bar%2C%20%2F%2F%20not%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This is the correct syntax:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Foo</span> {
    <span class="ident">Bar</span>, <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Apub%20enum%20Foo%20%7B%0A%20%20%20%20Bar%2C%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0449" class="section-header"><a href="#E0449">E0449</a></h2>
<p>A visibility qualifier was used when it was unnecessary.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>();
}

<span class="kw">pub</span> <span class="kw">impl</span> <span class="ident">Bar</span> {} <span class="comment">// error: unnecessary visibility qualifier</span>

<span class="kw">pub</span> <span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> { <span class="comment">// error: unnecessary visibility qualifier</span>
    <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span>() {} <span class="comment">// error: unnecessary visibility qualifier</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Bar%3B%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo()%3B%0A%7D%0A%0Apub%20impl%20Bar%20%7B%7D%20%2F%2F%20error%3A%20unnecessary%20visibility%20qualifier%0A%0Apub%20impl%20Foo%20for%20Bar%20%7B%20%2F%2F%20error%3A%20unnecessary%20visibility%20qualifier%0A%20%20%20%20pub%20fn%20foo()%20%7B%7D%20%2F%2F%20error%3A%20unnecessary%20visibility%20qualifier%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, please remove the visibility qualifier when it is not
required. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Bar</span>;

<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>();
}

<span class="comment">// Directly implemented methods share the visibility of the type itself,</span>
<span class="comment">// so `pub` is unnecessary here</span>
<span class="kw">impl</span> <span class="ident">Bar</span> {}

<span class="comment">// Trait methods share the visibility of the trait, so `pub` is</span>
<span class="comment">// unnecessary in either case</span>
<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> <span class="ident">Bar</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>() {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Bar%3B%0A%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo()%3B%0A%7D%0A%0A%2F%2F%20Directly%20implemented%20methods%20share%20the%20visibility%20of%20the%20type%20itself%2C%0A%2F%2F%20so%20%60pub%60%20is%20unnecessary%20here%0Aimpl%20Bar%20%7B%7D%0A%0A%2F%2F%20Trait%20methods%20share%20the%20visibility%20of%20the%20trait%2C%20so%20%60pub%60%20is%0A%2F%2F%20unnecessary%20in%20either%20case%0Aimpl%20Foo%20for%20Bar%20%7B%0A%20%20%20%20fn%20foo()%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0451" class="section-header"><a href="#E0451">E0451</a></h2>
<p>A struct constructor with private fields was invoked.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">mod</span> <span class="ident">Bar</span> {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Foo</span> {
        <span class="kw">pub</span> <span class="ident">a</span>: <span class="ident">isize</span>,
        <span class="ident">b</span>: <span class="ident">isize</span>,
    }
}

<span class="kw">let</span> <span class="ident">f</span> <span class="op">=</span> <span class="ident">Bar</span>::<span class="ident">Foo</span>{ <span class="ident">a</span>: <span class="number">0</span>, <span class="ident">b</span>: <span class="number">0</span> }; <span class="comment">// error: field `b` of struct `Bar::Foo`</span>
                                <span class="comment">//        is private</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20Bar%20%7B%0A%20%20%20%20pub%20struct%20Foo%20%7B%0A%20%20%20%20%20%20%20%20pub%20a%3A%20isize%2C%0A%20%20%20%20%20%20%20%20b%3A%20isize%2C%0A%20%20%20%20%7D%0A%7D%0A%0Alet%20f%20%3D%20Bar%3A%3AFoo%7B%20a%3A%200%2C%20b%3A%200%20%7D%3B%20%2F%2F%20error%3A%20field%20%60b%60%20of%20struct%20%60Bar%3A%3AFoo%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20is%20private%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, please ensure that all the fields of the struct are public,
or implement a function for easy instantiation. Examples:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">mod</span> <span class="ident">Bar</span> {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Foo</span> {
        <span class="kw">pub</span> <span class="ident">a</span>: <span class="ident">isize</span>,
        <span class="kw">pub</span> <span class="ident">b</span>: <span class="ident">isize</span>, <span class="comment">// we set `b` field public</span>
    }
}

<span class="kw">let</span> <span class="ident">f</span> <span class="op">=</span> <span class="ident">Bar</span>::<span class="ident">Foo</span>{ <span class="ident">a</span>: <span class="number">0</span>, <span class="ident">b</span>: <span class="number">0</span> }; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20Bar%20%7B%0A%20%20%20%20pub%20struct%20Foo%20%7B%0A%20%20%20%20%20%20%20%20pub%20a%3A%20isize%2C%0A%20%20%20%20%20%20%20%20pub%20b%3A%20isize%2C%20%2F%2F%20we%20set%20%60b%60%20field%20public%0A%20%20%20%20%7D%0A%7D%0A%0Alet%20f%20%3D%20Bar%3A%3AFoo%7B%20a%3A%200%2C%20b%3A%200%20%7D%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>Or:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">mod</span> <span class="ident">Bar</span> {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Foo</span> {
        <span class="kw">pub</span> <span class="ident">a</span>: <span class="ident">isize</span>,
        <span class="ident">b</span>: <span class="ident">isize</span>, <span class="comment">// still private</span>
    }

    <span class="kw">impl</span> <span class="ident">Foo</span> {
        <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Foo</span> { <span class="comment">// we create a method to instantiate `Foo`</span>
            <span class="ident">Foo</span> { <span class="ident">a</span>: <span class="number">0</span>, <span class="ident">b</span>: <span class="number">0</span> }
        }
    }
}

<span class="kw">let</span> <span class="ident">f</span> <span class="op">=</span> <span class="ident">Bar</span>::<span class="ident">Foo</span>::<span class="ident">new</span>(); <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20Bar%20%7B%0A%20%20%20%20pub%20struct%20Foo%20%7B%0A%20%20%20%20%20%20%20%20pub%20a%3A%20isize%2C%0A%20%20%20%20%20%20%20%20b%3A%20isize%2C%20%2F%2F%20still%20private%0A%20%20%20%20%7D%0A%0A%20%20%20%20impl%20Foo%20%7B%0A%20%20%20%20%20%20%20%20pub%20fn%20new()%20-%3E%20Foo%20%7B%20%2F%2F%20we%20create%20a%20method%20to%20instantiate%20%60Foo%60%0A%20%20%20%20%20%20%20%20%20%20%20%20Foo%20%7B%20a%3A%200%2C%20b%3A%200%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Alet%20f%20%3D%20Bar%3A%3AFoo%3A%3Anew()%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0452" class="section-header"><a href="#E0452">E0452</a></h2>
<p>An invalid lint attribute has been given.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">allow</span>(<span class="ident">foo</span> <span class="op">=</span> <span class="string">&quot;&quot;</span>)]</span> <span class="comment">// error: malformed lint attribute</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Ballow(foo%20%3D%20%22%22)%5D%20%2F%2F%20error%3A%20malformed%20lint%20attribute%0Afn%20main()%20%7B%0A%0A%7D&amp;edition=2015">Run</a></div>
<p>Lint attributes only accept a list of identifiers (where each identifier is a
lint name). Ensure the attribute is of this form:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">allow</span>(<span class="ident">foo</span>)]</span> <span class="comment">// ok!</span>
<span class="comment">// or:</span>
<span class="attribute">#![<span class="ident">allow</span>(<span class="ident">foo</span>, <span class="ident">foo2</span>)]</span> <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Ballow(foo)%5D%20%2F%2F%20ok!%0A%2F%2F%20or%3A%0A%23!%5Ballow(foo%2C%20foo2)%5D%20%2F%2F%20ok!%0Afn%20main()%20%7B%0A%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0453" class="section-header"><a href="#E0453">E0453</a></h2>
<p>A lint check attribute was overruled by a <code>forbid</code> directive set as an
attribute on an enclosing scope, or on the command line with the <code>-F</code> option.</p>
<p>Example of erroneous code:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">forbid</span>(<span class="ident">non_snake_case</span>)]</span>

<span class="attribute">#[<span class="ident">allow</span>(<span class="ident">non_snake_case</span>)]</span>
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">MyNumber</span> <span class="op">=</span> <span class="number">2</span>; <span class="comment">// error: allow(non_snake_case) overruled by outer</span>
                      <span class="comment">//        forbid(non_snake_case)</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bforbid(non_snake_case)%5D%0A%0A%23%5Ballow(non_snake_case)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20MyNumber%20%3D%202%3B%20%2F%2F%20error%3A%20allow(non_snake_case)%20overruled%20by%20outer%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20forbid(non_snake_case)%0A%7D&amp;edition=2015">Run</a></div>
<p>The <code>forbid</code> lint setting, like <code>deny</code>, turns the corresponding compiler
warning into a hard error. Unlike <code>deny</code>, <code>forbid</code> prevents itself from being
overridden by inner attributes.</p>
<p>If you’re sure you want to override the lint check, you can change <code>forbid</code> to
<code>deny</code> (or use <code>-D</code> instead of <code>-F</code> if the <code>forbid</code> setting was given as a
command-line option) to allow the inner lint check attribute:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">deny</span>(<span class="ident">non_snake_case</span>)]</span>

<span class="attribute">#[<span class="ident">allow</span>(<span class="ident">non_snake_case</span>)]</span>
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">MyNumber</span> <span class="op">=</span> <span class="number">2</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bdeny(non_snake_case)%5D%0A%0A%23%5Ballow(non_snake_case)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20MyNumber%20%3D%202%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>Otherwise, edit the code to pass the lint check, and remove the overruled
attribute:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">forbid</span>(<span class="ident">non_snake_case</span>)]</span>

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">my_number</span> <span class="op">=</span> <span class="number">2</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bforbid(non_snake_case)%5D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20my_number%20%3D%202%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0454" class="section-header"><a href="#E0454">E0454</a></h2>
<p>A link name was given with an empty name.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">link</span>(<span class="ident">name</span> <span class="op">=</span> <span class="string">&quot;&quot;</span>)]</span> <span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {}
<span class="comment">// error: `#[link(name = &quot;&quot;)]` given with empty name</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Blink(name%20%3D%20%22%22)%5D%20extern%20%22C%22%20%7B%7D%0A%2F%2F%20error%3A%20%60%23%5Blink(name%20%3D%20%22%22)%5D%60%20given%20with%20empty%20name%0A%7D&amp;edition=2015">Run</a></div>
<p>The rust compiler cannot link to an external library if you don’t give it its
name. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">link</span>(<span class="ident">name</span> <span class="op">=</span> <span class="string">&quot;some_lib&quot;</span>)]</span> <span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {} <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Blink(name%20%3D%20%22some_lib%22)%5D%20extern%20%22C%22%20%7B%7D%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0455" class="section-header"><a href="#E0455">E0455</a></h2>
<p>Linking with <code>kind=framework</code> is only supported when targeting macOS,
as frameworks are specific to that operating system.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="attribute">#[<span class="ident">link</span>(<span class="ident">name</span> <span class="op">=</span> <span class="string">&quot;FooCoreServices&quot;</span>, <span class="ident">kind</span> <span class="op">=</span> <span class="string">&quot;framework&quot;</span>)]</span> <span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {}
<span class="comment">// OS used to compile is Linux for example</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Blink(name%20%3D%20%22FooCoreServices%22%2C%20kind%20%3D%20%22framework%22)%5D%20extern%20%22C%22%20%7B%7D%0A%2F%2F%20OS%20used%20to%20compile%20is%20Linux%20for%20example%0A%7D&amp;edition=2015">Run</a></div>
<p>To solve this error you can use conditional compilation:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">cfg_attr</span>(<span class="ident">target</span><span class="op">=</span><span class="string">&quot;macos&quot;</span>, <span class="ident">link</span>(<span class="ident">name</span> <span class="op">=</span> <span class="string">&quot;FooCoreServices&quot;</span>, <span class="ident">kind</span> <span class="op">=</span> <span class="string">&quot;framework&quot;</span>))]</span>
<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bcfg_attr(target%3D%22macos%22%2C%20link(name%20%3D%20%22FooCoreServices%22%2C%20kind%20%3D%20%22framework%22))%5D%0Aextern%20%22C%22%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Learn more in the <a href="https://doc.rust-lang.org/reference/attributes.html#conditional-compilation">Conditional Compilation</a> section
of the Reference.</p>
</div>
<div class="error-undescribed"><h2 id="E0457" class="section-header"><a href="#E0457">E0457</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0458" class="section-header"><a href="#E0458">E0458</a></h2>
<p>An unknown “kind” was specified for a link attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">link</span>(<span class="ident">kind</span> <span class="op">=</span> <span class="string">&quot;wonderful_unicorn&quot;</span>)]</span> <span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {}
<span class="comment">// error: unknown kind: `wonderful_unicorn`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Blink(kind%20%3D%20%22wonderful_unicorn%22)%5D%20extern%20%22C%22%20%7B%7D%0A%2F%2F%20error%3A%20unknown%20kind%3A%20%60wonderful_unicorn%60%0A%7D&amp;edition=2015">Run</a></div>
<p>Please specify a valid “kind” value, from one of the following:</p>
<ul>
<li>static</li>
<li>dylib</li>
<li>framework</li>
</ul>
</div>
<div class="error-described"><h2 id="E0459" class="section-header"><a href="#E0459">E0459</a></h2>
<p>A link was used without a name parameter.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">link</span>(<span class="ident">kind</span> <span class="op">=</span> <span class="string">&quot;dylib&quot;</span>)]</span> <span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {}
<span class="comment">// error: `#[link(...)]` specified without `name = &quot;foo&quot;`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Blink(kind%20%3D%20%22dylib%22)%5D%20extern%20%22C%22%20%7B%7D%0A%2F%2F%20error%3A%20%60%23%5Blink(...)%5D%60%20specified%20without%20%60name%20%3D%20%22foo%22%60%0A%7D&amp;edition=2015">Run</a></div>
<p>Please add the name parameter to allow the rust compiler to find the library
you want. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">link</span>(<span class="ident">kind</span> <span class="op">=</span> <span class="string">&quot;dylib&quot;</span>, <span class="ident">name</span> <span class="op">=</span> <span class="string">&quot;some_lib&quot;</span>)]</span> <span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {} <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Blink(kind%20%3D%20%22dylib%22%2C%20name%20%3D%20%22some_lib%22)%5D%20extern%20%22C%22%20%7B%7D%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-undescribed"><h2 id="E0460" class="section-header"><a href="#E0460">E0460</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0461" class="section-header"><a href="#E0461">E0461</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0462" class="section-header"><a href="#E0462">E0462</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0463" class="section-header"><a href="#E0463">E0463</a></h2>
<p>A plugin/crate was declared but cannot be found.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">plugin</span>)]</span>
<span class="attribute">#![<span class="ident">plugin</span>(<span class="ident">cookie_monster</span>)]</span> <span class="comment">// error: can&#39;t find crate for `cookie_monster`</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">cake_is_a_lie</span>; <span class="comment">// error: can&#39;t find crate for `cake_is_a_lie`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(plugin)%5D%0A%23!%5Bplugin(cookie_monster)%5D%20%2F%2F%20error%3A%20can't%20find%20crate%20for%20%60cookie_monster%60%0Aextern%20crate%20cake_is_a_lie%3B%20%2F%2F%20error%3A%20can't%20find%20crate%20for%20%60cake_is_a_lie%60%0Afn%20main()%20%7B%0A%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>You need to link your code to the relevant crate in order to be able to use it
(through Cargo or the <code>-L</code> option of rustc example). Plugins are crates as
well, and you link to them the same way.</p>
<h2 id="common-causes" class="section-header"><a href="#common-causes">Common causes</a></h2>
<ul>
<li>The crate is not present at all. If using Cargo, add it to <code>[dependencies]</code>
in Cargo.toml.</li>
<li>The crate is present, but under a different name. If using Cargo, look for
<code>package = </code> under <code>[dependencies]</code> in Cargo.toml.</li>
</ul>
<h2 id="common-causes-for-missing-std-or-core" class="section-header"><a href="#common-causes-for-missing-std-or-core">Common causes for missing <code>std</code> or <code>core</code></a></h2>
<ul>
<li>You are cross-compiling for a target which doesn’t have <code>std</code> prepackaged.
Consider one of the following:
<ul>
<li>Adding a pre-compiled version of std with <code>rustup target add</code></li>
<li>Building std from source with <code>cargo build -Z build-std</code></li>
<li>Using <code>#![no_std]</code> at the crate root, so you won’t need <code>std</code> in the first
place.</li>
</ul>
</li>
<li>You are developing the compiler itself and haven’t built libstd from source.
You can usually build it with <code>x.py build library/std</code>. More information
about x.py is available in the <a href="https://rustc-dev-guide.rust-lang.org/building/how-to-build-and-run.html#building-the-compiler">rustc-dev-guide</a>.</li>
</ul>
</div>
<div class="error-undescribed"><h2 id="E0464" class="section-header"><a href="#E0464">E0464</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0465" class="section-header"><a href="#E0465">E0465</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0466" class="section-header"><a href="#E0466">E0466</a></h2>
<p>Macro import declaration was malformed.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">macro_use</span>(<span class="ident">a_macro</span>(<span class="ident">another_macro</span>))]</span> <span class="comment">// error: invalid import declaration</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">core</span> <span class="kw">as</span> <span class="ident">some_crate</span>;

<span class="attribute">#[<span class="ident">macro_use</span>(<span class="ident">i_want</span> <span class="op">=</span> <span class="string">&quot;some_macros&quot;</span>)]</span> <span class="comment">// error: invalid import declaration</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">core</span> <span class="kw">as</span> <span class="ident">another_crate</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bmacro_use(a_macro(another_macro))%5D%20%2F%2F%20error%3A%20invalid%20import%20declaration%0Aextern%20crate%20core%20as%20some_crate%3B%0A%0A%23%5Bmacro_use(i_want%20%3D%20%22some_macros%22)%5D%20%2F%2F%20error%3A%20invalid%20import%20declaration%0Aextern%20crate%20core%20as%20another_crate%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>This is a syntax error at the level of attribute declarations. The proper
syntax for macro imports is the following:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="comment">// In some_crate:</span>
<span class="attribute">#[<span class="ident">macro_export</span>]</span>
<span class="macro">macro_rules</span><span class="macro">!</span> <span class="ident">get_tacos</span> {
    ...
}

<span class="attribute">#[<span class="ident">macro_export</span>]</span>
<span class="macro">macro_rules</span><span class="macro">!</span> <span class="ident">get_pimientos</span> {
    ...
}

<span class="comment">// In your crate:</span>
<span class="attribute">#[<span class="ident">macro_use</span>(<span class="ident">get_tacos</span>, <span class="ident">get_pimientos</span>)]</span> <span class="comment">// It imports `get_tacos` and</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">some_crate</span>;               <span class="comment">// `get_pimientos` macros from some_crate</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20In%20some_crate%3A%0Afn%20main()%20%7B%0A%23%5Bmacro_export%5D%0Amacro_rules!%20get_tacos%20%7B%0A%20%20%20%20...%0A%7D%0A%0A%23%5Bmacro_export%5D%0Amacro_rules!%20get_pimientos%20%7B%0A%20%20%20%20...%0A%7D%0A%0A%2F%2F%20In%20your%20crate%3A%0A%23%5Bmacro_use(get_tacos%2C%20get_pimientos)%5D%20%2F%2F%20It%20imports%20%60get_tacos%60%20and%0Aextern%20crate%20some_crate%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%60get_pimientos%60%20macros%20from%20some_crate%0A%7D&amp;edition=2015">Run</a></div>
<p>If you would like to import all exported macros, write <code>macro_use</code> with no
arguments.</p>
</div>
<div class="error-described"><h2 id="E0468" class="section-header"><a href="#E0468">E0468</a></h2>
<p>A non-root module tried to import macros from another crate.</p>
<p>Example of erroneous code:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="attribute">#[<span class="ident">macro_use</span>(<span class="ident">debug_assert</span>)]</span>  <span class="comment">// error: must be at crate root to import</span>
    <span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">core</span>;          <span class="comment">//        macros from another crate</span>
    <span class="kw">fn</span> <span class="ident">run_macro</span>() { <span class="macro">debug_assert</span><span class="macro">!</span>(<span class="bool-val">true</span>); }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20foo%20%7B%0A%20%20%20%20%23%5Bmacro_use(debug_assert)%5D%20%20%2F%2F%20error%3A%20must%20be%20at%20crate%20root%20to%20import%0A%20%20%20%20extern%20crate%20core%3B%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20macros%20from%20another%20crate%0A%20%20%20%20fn%20run_macro()%20%7B%20debug_assert!(true)%3B%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Only <code>extern crate</code> imports at the crate root level are allowed to import
macros.</p>
<p>Either move the macro import to crate root or do without the foreign macros.
This will work:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">macro_use</span>(<span class="ident">debug_assert</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">core</span>;

<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">fn</span> <span class="ident">run_macro</span>() { <span class="macro">debug_assert</span><span class="macro">!</span>(<span class="bool-val">true</span>); }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Bmacro_use(debug_assert)%5D%20%2F%2F%20ok!%0Aextern%20crate%20core%3B%0A%0Amod%20foo%20%7B%0A%20%20%20%20fn%20run_macro()%20%7B%20debug_assert!(true)%3B%20%7D%0A%7D%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0469" class="section-header"><a href="#E0469">E0469</a></h2>
<p>A macro listed for import was not found.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">macro_use</span>(<span class="ident">drink</span>, <span class="ident">be_merry</span>)]</span> <span class="comment">// error: imported macro not found</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">alloc</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Bmacro_use(drink%2C%20be_merry)%5D%20%2F%2F%20error%3A%20imported%20macro%20not%20found%0Aextern%20crate%20alloc%3B%0A%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20...%0A%7D&amp;edition=2015">Run</a></div>
<p>Either the listed macro is not contained in the imported crate, or it is not
exported from the given crate.</p>
<p>This could be caused by a typo. Did you misspell the macro’s name?</p>
<p>Double-check the names of the macros listed for import, and that the crate
in question exports them.</p>
<p>A working version would be:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="comment">// In some_crate crate:</span>
<span class="attribute">#[<span class="ident">macro_export</span>]</span>
<span class="macro">macro_rules</span><span class="macro">!</span> <span class="ident">eat</span> {
    ...
}

<span class="attribute">#[<span class="ident">macro_export</span>]</span>
<span class="macro">macro_rules</span><span class="macro">!</span> <span class="ident">drink</span> {
    ...
}

<span class="comment">// In your crate:</span>
<span class="attribute">#[<span class="ident">macro_use</span>(<span class="ident">eat</span>, <span class="ident">drink</span>)]</span>
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">some_crate</span>; <span class="comment">//ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20In%20some_crate%20crate%3A%0Afn%20main()%20%7B%0A%23%5Bmacro_export%5D%0Amacro_rules!%20eat%20%7B%0A%20%20%20%20...%0A%7D%0A%0A%23%5Bmacro_export%5D%0Amacro_rules!%20drink%20%7B%0A%20%20%20%20...%0A%7D%0A%0A%2F%2F%20In%20your%20crate%3A%0A%23%5Bmacro_use(eat%2C%20drink)%5D%0Aextern%20crate%20some_crate%3B%20%2F%2Fok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-undescribed"><h2 id="E0472" class="section-header"><a href="#E0472">E0472</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0473" class="section-header"><a href="#E0473">E0473</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0474" class="section-header"><a href="#E0474">E0474</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0475" class="section-header"><a href="#E0475">E0475</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0476" class="section-header"><a href="#E0476">E0476</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0477" class="section-header"><a href="#E0477">E0477</a></h2>
<p>The type does not fulfill the required lifetime.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">sync</span>::<span class="ident">Mutex</span>;

<span class="kw">struct</span> <span class="ident">MyString</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">data</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>,
}

<span class="kw">fn</span> <span class="ident">i_want_static_closure</span><span class="op">&lt;</span><span class="ident">F</span><span class="op">&gt;</span>(<span class="ident">a</span>: <span class="ident">F</span>)
    <span class="kw">where</span> <span class="ident">F</span>: <span class="ident">Fn</span>() <span class="op">+</span> <span class="lifetime">&#39;static</span> {}

<span class="kw">fn</span> <span class="ident">print_string</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">s</span>: <span class="ident">Mutex</span><span class="op">&lt;</span><span class="ident">MyString</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span><span class="op">&gt;</span>) {

    <span class="ident">i_want_static_closure</span>(<span class="kw">move</span> <span class="op">|</span><span class="op">|</span> {     <span class="comment">// error: this closure has lifetime &#39;a</span>
                                        <span class="comment">//        rather than &#39;static</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">s</span>.<span class="ident">lock</span>().<span class="ident">unwrap</span>().<span class="ident">data</span>);
    });
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Async%3A%3AMutex%3B%0A%0Astruct%20MyString%3C'a%3E%20%7B%0A%20%20%20%20data%3A%20%26'a%20str%2C%0A%7D%0A%0Afn%20i_want_static_closure%3CF%3E(a%3A%20F)%0A%20%20%20%20where%20F%3A%20Fn()%20%2B%20'static%20%7B%7D%0A%0Afn%20print_string%3C'a%3E(s%3A%20Mutex%3CMyString%3C'a%3E%3E)%20%7B%0A%0A%20%20%20%20i_want_static_closure(move%20%7C%7C%20%7B%20%20%20%20%20%2F%2F%20error%3A%20this%20closure%20has%20lifetime%20'a%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20rather%20than%20'static%0A%20%20%20%20%20%20%20%20println!(%22%7B%7D%22%2C%20s.lock().unwrap().data)%3B%0A%20%20%20%20%7D)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In this example, the closure does not satisfy the <code>'static</code> lifetime constraint.
To fix this error, you need to double check the lifetime of the type. Here, we
can fix this problem by giving <code>s</code> a static lifetime:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">sync</span>::<span class="ident">Mutex</span>;

<span class="kw">struct</span> <span class="ident">MyString</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">data</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>,
}

<span class="kw">fn</span> <span class="ident">i_want_static_closure</span><span class="op">&lt;</span><span class="ident">F</span><span class="op">&gt;</span>(<span class="ident">a</span>: <span class="ident">F</span>)
    <span class="kw">where</span> <span class="ident">F</span>: <span class="ident">Fn</span>() <span class="op">+</span> <span class="lifetime">&#39;static</span> {}

<span class="kw">fn</span> <span class="ident">print_string</span>(<span class="ident">s</span>: <span class="ident">Mutex</span><span class="op">&lt;</span><span class="ident">MyString</span><span class="op">&lt;</span><span class="lifetime">&#39;static</span><span class="op">&gt;</span><span class="op">&gt;</span>) {

    <span class="ident">i_want_static_closure</span>(<span class="kw">move</span> <span class="op">|</span><span class="op">|</span> {     <span class="comment">// ok!</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">s</span>.<span class="ident">lock</span>().<span class="ident">unwrap</span>().<span class="ident">data</span>);
    });
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Async%3A%3AMutex%3B%0A%0Astruct%20MyString%3C'a%3E%20%7B%0A%20%20%20%20data%3A%20%26'a%20str%2C%0A%7D%0A%0Afn%20i_want_static_closure%3CF%3E(a%3A%20F)%0A%20%20%20%20where%20F%3A%20Fn()%20%2B%20'static%20%7B%7D%0A%0Afn%20print_string(s%3A%20Mutex%3CMyString%3C'static%3E%3E)%20%7B%0A%0A%20%20%20%20i_want_static_closure(move%20%7C%7C%20%7B%20%20%20%20%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20println!(%22%7B%7D%22%2C%20s.lock().unwrap().data)%3B%0A%20%20%20%20%7D)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0478" class="section-header"><a href="#E0478">E0478</a></h2>
<p>A lifetime bound was not satisfied.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="comment">// Check that the explicit lifetime bound (`&#39;SnowWhite`, in this example) must</span>
<span class="comment">// outlive all the superbounds from the trait (`&#39;kiss`, in this example).</span>

<span class="kw">trait</span> <span class="ident">Wedding</span><span class="op">&lt;</span><span class="lifetime">&#39;t</span><span class="op">&gt;</span>: <span class="lifetime">&#39;t</span> { }

<span class="kw">struct</span> <span class="ident">Prince</span><span class="op">&lt;</span><span class="lifetime">&#39;kiss</span>, <span class="lifetime">&#39;SnowWhite</span><span class="op">&gt;</span> {
    <span class="ident">child</span>: <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">Wedding</span><span class="op">&lt;</span><span class="lifetime">&#39;kiss</span><span class="op">&gt;</span> <span class="op">+</span> <span class="lifetime">&#39;SnowWhite</span><span class="op">&gt;</span>,
    <span class="comment">// error: lifetime bound not satisfied</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20Check%20that%20the%20explicit%20lifetime%20bound%20(%60'SnowWhite%60%2C%20in%20this%20example)%20must%0A%2F%2F%20outlive%20all%20the%20superbounds%20from%20the%20trait%20(%60'kiss%60%2C%20in%20this%20example).%0A%0Afn%20main()%20%7B%0Atrait%20Wedding%3C't%3E%3A%20't%20%7B%20%7D%0A%0Astruct%20Prince%3C'kiss%2C%20'SnowWhite%3E%20%7B%0A%20%20%20%20child%3A%20Box%3CWedding%3C'kiss%3E%20%2B%20'SnowWhite%3E%2C%0A%20%20%20%20%2F%2F%20error%3A%20lifetime%20bound%20not%20satisfied%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In this example, the <code>'SnowWhite</code> lifetime is supposed to outlive the <code>'kiss</code>
lifetime but the declaration of the <code>Prince</code> struct doesn’t enforce it. To fix
this issue, you need to specify it:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Wedding</span><span class="op">&lt;</span><span class="lifetime">&#39;t</span><span class="op">&gt;</span>: <span class="lifetime">&#39;t</span> { }

<span class="kw">struct</span> <span class="ident">Prince</span><span class="op">&lt;</span><span class="lifetime">&#39;kiss</span>, <span class="lifetime">&#39;SnowWhite</span>: <span class="lifetime">&#39;kiss</span><span class="op">&gt;</span> { <span class="comment">// You say here that &#39;SnowWhite</span>
                                          <span class="comment">// must live longer than &#39;kiss.</span>
    <span class="ident">child</span>: <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">Wedding</span><span class="op">&lt;</span><span class="lifetime">&#39;kiss</span><span class="op">&gt;</span> <span class="op">+</span> <span class="lifetime">&#39;SnowWhite</span><span class="op">&gt;</span>, <span class="comment">// And now it&#39;s all good!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Wedding%3C't%3E%3A%20't%20%7B%20%7D%0A%0Astruct%20Prince%3C'kiss%2C%20'SnowWhite%3A%20'kiss%3E%20%7B%20%2F%2F%20You%20say%20here%20that%20'SnowWhite%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20must%20live%20longer%20than%20'kiss.%0A%20%20%20%20child%3A%20Box%3CWedding%3C'kiss%3E%20%2B%20'SnowWhite%3E%2C%20%2F%2F%20And%20now%20it's%20all%20good!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-undescribed"><h2 id="E0479" class="section-header"><a href="#E0479">E0479</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0480" class="section-header"><a href="#E0480">E0480</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0481" class="section-header"><a href="#E0481">E0481</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0482" class="section-header"><a href="#E0482">E0482</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0483" class="section-header"><a href="#E0483">E0483</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0484" class="section-header"><a href="#E0484">E0484</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0485" class="section-header"><a href="#E0485">E0485</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0486" class="section-header"><a href="#E0486">E0486</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0487" class="section-header"><a href="#E0487">E0487</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0488" class="section-header"><a href="#E0488">E0488</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0489" class="section-header"><a href="#E0489">E0489</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0490" class="section-header"><a href="#E0490">E0490</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0491" class="section-header"><a href="#E0491">E0491</a></h2>
<p>A reference has a longer lifetime than the data it references.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="kw">fn</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>),
}

<span class="kw">trait</span> <span class="ident">Trait</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span><span class="op">&gt;</span> {
    <span class="kw">type</span> <span class="ident">Out</span>;
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span><span class="op">&gt;</span> <span class="ident">Trait</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">usize</span> {
    <span class="kw">type</span> <span class="ident">Out</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;b</span><span class="op">&gt;</span>; <span class="comment">// error!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3C'a%3E%20%7B%0A%20%20%20%20x%3A%20fn(%26'a%20i32)%2C%0A%7D%0A%0Atrait%20Trait%3C'a%2C%20'b%3E%20%7B%0A%20%20%20%20type%20Out%3B%0A%7D%0A%0Aimpl%3C'a%2C%20'b%3E%20Trait%3C'a%2C%20'b%3E%20for%20usize%20%7B%0A%20%20%20%20type%20Out%20%3D%20%26'a%20Foo%3C'b%3E%3B%20%2F%2F%20error!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, the problem is that the compiler cannot be sure that the <code>'b</code> lifetime
will live longer than <code>'a</code>, which should be mandatory in order to be sure that
<code>Trait::Out</code> will always have a reference pointing to an existing type. So in
this case, we just need to tell the compiler than <code>'b</code> must outlive <code>'a</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="kw">fn</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>),
}

<span class="kw">trait</span> <span class="ident">Trait</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span><span class="op">&gt;</span> {
    <span class="kw">type</span> <span class="ident">Out</span>;
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span>: <span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Trait</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">usize</span> { <span class="comment">// we added the lifetime enforcement</span>
    <span class="kw">type</span> <span class="ident">Out</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;b</span><span class="op">&gt;</span>; <span class="comment">// it now works!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3C'a%3E%20%7B%0A%20%20%20%20x%3A%20fn(%26'a%20i32)%2C%0A%7D%0A%0Atrait%20Trait%3C'a%2C%20'b%3E%20%7B%0A%20%20%20%20type%20Out%3B%0A%7D%0A%0Aimpl%3C'a%2C%20'b%3A%20'a%3E%20Trait%3C'a%2C%20'b%3E%20for%20usize%20%7B%20%2F%2F%20we%20added%20the%20lifetime%20enforcement%0A%20%20%20%20type%20Out%20%3D%20%26'a%20Foo%3C'b%3E%3B%20%2F%2F%20it%20now%20works!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0492" class="section-header"><a href="#E0492">E0492</a></h2>
<p>A borrow of a constant containing interior mutability was attempted.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">sync</span>::<span class="ident">atomic</span>::<span class="ident">AtomicUsize</span>;

<span class="kw">const</span> <span class="ident">A</span>: <span class="ident">AtomicUsize</span> <span class="op">=</span> <span class="ident">AtomicUsize</span>::<span class="ident">new</span>(<span class="number">0</span>);
<span class="kw">const</span> <span class="ident">B</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">AtomicUsize</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">A</span>;
<span class="comment">// error: cannot borrow a constant which may contain interior mutability,</span>
<span class="comment">//        create a static instead</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Async%3A%3Aatomic%3A%3AAtomicUsize%3B%0A%0Aconst%20A%3A%20AtomicUsize%20%3D%20AtomicUsize%3A%3Anew(0)%3B%0Aconst%20B%3A%20%26'static%20AtomicUsize%20%3D%20%26A%3B%0A%2F%2F%20error%3A%20cannot%20borrow%20a%20constant%20which%20may%20contain%20interior%20mutability%2C%0A%2F%2F%20%20%20%20%20%20%20%20create%20a%20static%20instead%0A%7D&amp;edition=2015">Run</a></div>
<p>A <code>const</code> represents a constant value that should never change. If one takes
a <code>&amp;</code> reference to the constant, then one is taking a pointer to some memory
location containing the value. Normally this is perfectly fine: most values
can’t be changed via a shared <code>&amp;</code> pointer, but interior mutability would allow
it. That is, a constant value could be mutated. On the other hand, a <code>static</code> is
explicitly a single memory location, which can be mutated at will.</p>
<p>So, in order to solve this error, use statics which are <code>Sync</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">sync</span>::<span class="ident">atomic</span>::<span class="ident">AtomicUsize</span>;

<span class="kw">static</span> <span class="ident">A</span>: <span class="ident">AtomicUsize</span> <span class="op">=</span> <span class="ident">AtomicUsize</span>::<span class="ident">new</span>(<span class="number">0</span>);
<span class="kw">static</span> <span class="ident">B</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">AtomicUsize</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">A</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Async%3A%3Aatomic%3A%3AAtomicUsize%3B%0A%0Astatic%20A%3A%20AtomicUsize%20%3D%20AtomicUsize%3A%3Anew(0)%3B%0Astatic%20B%3A%20%26'static%20AtomicUsize%20%3D%20%26A%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>You can also have this error while using a cell type:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">cell</span>::<span class="ident">Cell</span>;

<span class="kw">const</span> <span class="ident">A</span>: <span class="ident">Cell</span><span class="op">&lt;</span><span class="ident">usize</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">Cell</span>::<span class="ident">new</span>(<span class="number">1</span>);
<span class="kw">const</span> <span class="ident">B</span>: <span class="kw-2">&amp;</span><span class="ident">Cell</span><span class="op">&lt;</span><span class="ident">usize</span><span class="op">&gt;</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">A</span>;
<span class="comment">// error: cannot borrow a constant which may contain interior mutability,</span>
<span class="comment">//        create a static instead</span>

<span class="comment">// or:</span>
<span class="kw">struct</span> <span class="ident">C</span> { <span class="ident">a</span>: <span class="ident">Cell</span><span class="op">&lt;</span><span class="ident">usize</span><span class="op">&gt;</span> }

<span class="kw">const</span> <span class="ident">D</span>: <span class="ident">C</span> <span class="op">=</span> <span class="ident">C</span> { <span class="ident">a</span>: <span class="ident">Cell</span>::<span class="ident">new</span>(<span class="number">1</span>) };
<span class="kw">const</span> <span class="ident">E</span>: <span class="kw-2">&amp;</span><span class="ident">Cell</span><span class="op">&lt;</span><span class="ident">usize</span><span class="op">&gt;</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">D</span>.<span class="ident">a</span>; <span class="comment">// error</span>

<span class="comment">// or:</span>
<span class="kw">const</span> <span class="ident">F</span>: <span class="kw-2">&amp;</span><span class="ident">C</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">D</span>; <span class="comment">// error</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Acell%3A%3ACell%3B%0A%0Aconst%20A%3A%20Cell%3Cusize%3E%20%3D%20Cell%3A%3Anew(1)%3B%0Aconst%20B%3A%20%26Cell%3Cusize%3E%20%3D%20%26A%3B%0A%2F%2F%20error%3A%20cannot%20borrow%20a%20constant%20which%20may%20contain%20interior%20mutability%2C%0A%2F%2F%20%20%20%20%20%20%20%20create%20a%20static%20instead%0A%0A%2F%2F%20or%3A%0Astruct%20C%20%7B%20a%3A%20Cell%3Cusize%3E%20%7D%0A%0Aconst%20D%3A%20C%20%3D%20C%20%7B%20a%3A%20Cell%3A%3Anew(1)%20%7D%3B%0Aconst%20E%3A%20%26Cell%3Cusize%3E%20%3D%20%26D.a%3B%20%2F%2F%20error%0A%0A%2F%2F%20or%3A%0Aconst%20F%3A%20%26C%20%3D%20%26D%3B%20%2F%2F%20error%0A%7D&amp;edition=2015">Run</a></div>
<p>This is because cell types do operations that are not thread-safe. Due to this,
they don’t implement Sync and thus can’t be placed in statics.</p>
<p>However, if you still wish to use these types, you can achieve this by an unsafe
wrapper:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">cell</span>::<span class="ident">Cell</span>;
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">marker</span>::<span class="ident">Sync</span>;

<span class="kw">struct</span> <span class="ident">NotThreadSafe</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {
    <span class="ident">value</span>: <span class="ident">Cell</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>,
}

<span class="kw">unsafe</span> <span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">Sync</span> <span class="kw">for</span> <span class="ident">NotThreadSafe</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {}

<span class="kw">static</span> <span class="ident">A</span>: <span class="ident">NotThreadSafe</span><span class="op">&lt;</span><span class="ident">usize</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">NotThreadSafe</span> { <span class="ident">value</span> : <span class="ident">Cell</span>::<span class="ident">new</span>(<span class="number">1</span>) };
<span class="kw">static</span> <span class="ident">B</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">NotThreadSafe</span><span class="op">&lt;</span><span class="ident">usize</span><span class="op">&gt;</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">A</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Acell%3A%3ACell%3B%0Ause%20std%3A%3Amarker%3A%3ASync%3B%0A%0Astruct%20NotThreadSafe%3CT%3E%20%7B%0A%20%20%20%20value%3A%20Cell%3CT%3E%2C%0A%7D%0A%0Aunsafe%20impl%3CT%3E%20Sync%20for%20NotThreadSafe%3CT%3E%20%7B%7D%0A%0Astatic%20A%3A%20NotThreadSafe%3Cusize%3E%20%3D%20NotThreadSafe%20%7B%20value%20%3A%20Cell%3A%3Anew(1)%20%7D%3B%0Astatic%20B%3A%20%26'static%20NotThreadSafe%3Cusize%3E%20%3D%20%26A%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>Remember this solution is unsafe! You will have to ensure that accesses to the
cell are synchronized.</p>
</div>
<div class="error-described"><h2 id="E0493" class="section-header"><a href="#E0493">E0493</a></h2>
<p>A value with a custom <code>Drop</code> implementation may be dropped during const-eval.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">DropType</span> {
    <span class="ident">A</span>,
}

<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">DropType</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) {}
}

<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">field1</span>: <span class="ident">DropType</span>,
}

<span class="kw">static</span> <span class="ident">FOO</span>: <span class="ident">Foo</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">field1</span>: (<span class="ident">DropType</span>::<span class="ident">A</span>, <span class="ident">DropType</span>::<span class="ident">A</span>).<span class="number">1</span> }; <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20DropType%20%7B%0A%20%20%20%20A%2C%0A%7D%0A%0Aimpl%20Drop%20for%20DropType%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%7D%0A%7D%0A%0Astruct%20Foo%20%7B%0A%20%20%20%20field1%3A%20DropType%2C%0A%7D%0A%0Astatic%20FOO%3A%20Foo%20%3D%20Foo%20%7B%20field1%3A%20(DropType%3A%3AA%2C%20DropType%3A%3AA).1%20%7D%3B%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>The problem here is that if the given type or one of its fields implements the
<code>Drop</code> trait, this <code>Drop</code> implementation cannot be called within a const
context since it may run arbitrary, non-const-checked code. To prevent this
issue, ensure all values with custom a custom <code>Drop</code> implementation escape the
initializer.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">DropType</span> {
    <span class="ident">A</span>,
}

<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">DropType</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) {}
}

<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">field1</span>: <span class="ident">DropType</span>,
}

<span class="kw">static</span> <span class="ident">FOO</span>: <span class="ident">Foo</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">field1</span>: <span class="ident">DropType</span>::<span class="ident">A</span> }; <span class="comment">// We initialize all fields</span>
                                               <span class="comment">// by hand.</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20DropType%20%7B%0A%20%20%20%20A%2C%0A%7D%0A%0Aimpl%20Drop%20for%20DropType%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%7D%0A%7D%0A%0Astruct%20Foo%20%7B%0A%20%20%20%20field1%3A%20DropType%2C%0A%7D%0A%0Astatic%20FOO%3A%20Foo%20%3D%20Foo%20%7B%20field1%3A%20DropType%3A%3AA%20%7D%3B%20%2F%2F%20We%20initialize%20all%20fields%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20by%20hand.%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0495" class="section-header"><a href="#E0495">E0495</a></h2>
<p>A lifetime cannot be determined in the given situation.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">transmute_lifetime</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span>, <span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">t</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> (<span class="ident">T</span>,)) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;b</span> <span class="ident">T</span> {
    <span class="kw">match</span> (<span class="kw-2">&amp;</span><span class="ident">t</span>,) { <span class="comment">// error!</span>
        ((<span class="ident">u</span>,),) <span class="op">=</span><span class="op">&gt;</span> <span class="ident">u</span>,
    }
}

<span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="ident">Box</span>::<span class="ident">new</span>((<span class="number">42</span>,));
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">transmute_lifetime</span>(<span class="kw-2">&amp;</span><span class="ident">y</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20transmute_lifetime%3C'a%2C%20'b%2C%20T%3E(t%3A%20%26'a%20(T%2C))%20-%3E%20%26'b%20T%20%7B%0A%20%20%20%20match%20(%26t%2C)%20%7B%20%2F%2F%20error!%0A%20%20%20%20%20%20%20%20((u%2C)%2C)%20%3D%3E%20u%2C%0A%20%20%20%20%7D%0A%7D%0A%0Alet%20y%20%3D%20Box%3A%3Anew((42%2C))%3B%0Alet%20x%20%3D%20transmute_lifetime(%26y)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>In this code, you have two ways to solve this issue:</p>
<ol>
<li>Enforce that <code>'a</code> lives at least as long as <code>'b</code>.</li>
<li>Use the same lifetime requirement for both input and output values.</li>
</ol>
<p>So for the first solution, you can do it by replacing <code>'a</code> with <code>'a: 'b</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">transmute_lifetime</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>: <span class="lifetime">&#39;b</span>, <span class="lifetime">&#39;b</span>, <span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">t</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> (<span class="ident">T</span>,)) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;b</span> <span class="ident">T</span> {
    <span class="kw">match</span> (<span class="kw-2">&amp;</span><span class="ident">t</span>,) { <span class="comment">// ok!</span>
        ((<span class="ident">u</span>,),) <span class="op">=</span><span class="op">&gt;</span> <span class="ident">u</span>,
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20transmute_lifetime%3C'a%3A%20'b%2C%20'b%2C%20T%3E(t%3A%20%26'a%20(T%2C))%20-%3E%20%26'b%20T%20%7B%0A%20%20%20%20match%20(%26t%2C)%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20((u%2C)%2C)%20%3D%3E%20u%2C%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In the second you can do it by simply removing <code>'b</code> so they both use <code>'a</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">transmute_lifetime</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">t</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> (<span class="ident">T</span>,)) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">T</span> {
    <span class="kw">match</span> (<span class="kw-2">&amp;</span><span class="ident">t</span>,) { <span class="comment">// ok!</span>
        ((<span class="ident">u</span>,),) <span class="op">=</span><span class="op">&gt;</span> <span class="ident">u</span>,
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20transmute_lifetime%3C'a%2C%20T%3E(t%3A%20%26'a%20(T%2C))%20-%3E%20%26'a%20T%20%7B%0A%20%20%20%20match%20(%26t%2C)%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20((u%2C)%2C)%20%3D%3E%20u%2C%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0496" class="section-header"><a href="#E0496">E0496</a></h2>
<p>A lifetime name is shadowing another lifetime name.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">a</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>,
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">f</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>) { <span class="comment">// error: lifetime name `&#39;a` shadows a lifetime</span>
                           <span class="comment">//        name that is already in scope</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3C'a%3E%20%7B%0A%20%20%20%20a%3A%20%26'a%20i32%2C%0A%7D%0A%0Aimpl%3C'a%3E%20Foo%3C'a%3E%20%7B%0A%20%20%20%20fn%20f%3C'a%3E(x%3A%20%26'a%20i32)%20%7B%20%2F%2F%20error%3A%20lifetime%20name%20%60'a%60%20shadows%20a%20lifetime%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20name%20that%20is%20already%20in%20scope%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Please change the name of one of the lifetimes to remove this error. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">a</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>,
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">f</span><span class="op">&lt;</span><span class="lifetime">&#39;b</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;b</span> <span class="ident">i32</span>) { <span class="comment">// ok!</span>
    }
}

<span class="kw">fn</span> <span class="ident">main</span>() {
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Foo%3C'a%3E%20%7B%0A%20%20%20%20a%3A%20%26'a%20i32%2C%0A%7D%0A%0Aimpl%3C'a%3E%20Foo%3C'a%3E%20%7B%0A%20%20%20%20fn%20f%3C'b%3E(x%3A%20%26'b%20i32)%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0497" class="section-header"><a href="#E0497">E0497</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-38" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-38">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>A stability attribute was used outside of the standard library.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">stable</span>]</span> <span class="comment">// error: stability attributes may not be used outside of the</span>
          <span class="comment">//        standard library</span>
<span class="kw">fn</span> <span class="ident">foo</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bstable%5D%20%2F%2F%20error%3A%20stability%20attributes%20may%20not%20be%20used%20outside%20of%20the%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20standard%20library%0Afn%20foo()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>It is not possible to use stability attributes outside of the standard library.
Also, for now, it is not possible to write deprecation messages either.</p>
</div>
<div class="error-undescribed"><h2 id="E0498" class="section-header"><a href="#E0498">E0498</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0499" class="section-header"><a href="#E0499">E0499</a></h2>
<p>A variable was borrowed as mutable more than once.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">i</span> <span class="op">=</span> <span class="number">0</span>;
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i</span>;
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">a</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i</span>;
<span class="ident">x</span>;
<span class="comment">// error: cannot borrow `i` as mutable more than once at a time</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20i%20%3D%200%3B%0Alet%20mut%20x%20%3D%20%26mut%20i%3B%0Alet%20mut%20a%20%3D%20%26mut%20i%3B%0Ax%3B%0A%2F%2F%20error%3A%20cannot%20borrow%20%60i%60%20as%20mutable%20more%20than%20once%20at%20a%20time%0A%7D&amp;edition=2015">Run</a></div>
<p>Please note that in Rust, you can either have many immutable references, or one
mutable reference. For more details you may want to read the
<a href="https://doc.rust-lang.org/book/ch04-02-references-and-borrowing.html">References &amp; Borrowing</a> section of the Book.</p>
<p>Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">i</span> <span class="op">=</span> <span class="number">0</span>;
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i</span>; <span class="comment">// ok!</span>

<span class="comment">// or:</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">i</span> <span class="op">=</span> <span class="number">0</span>;
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">i</span>; <span class="comment">// ok!</span>
<span class="kw">let</span> <span class="ident">b</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">i</span>; <span class="comment">// still ok!</span>
<span class="kw">let</span> <span class="ident">c</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">i</span>; <span class="comment">// still ok!</span>
<span class="ident">b</span>;
<span class="ident">a</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20i%20%3D%200%3B%0Alet%20mut%20x%20%3D%20%26mut%20i%3B%20%2F%2F%20ok!%0A%0A%2F%2F%20or%3A%0Alet%20mut%20i%20%3D%200%3B%0Alet%20a%20%3D%20%26i%3B%20%2F%2F%20ok!%0Alet%20b%20%3D%20%26i%3B%20%2F%2F%20still%20ok!%0Alet%20c%20%3D%20%26i%3B%20%2F%2F%20still%20ok!%0Ab%3B%0Aa%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0500" class="section-header"><a href="#E0500">E0500</a></h2>
<p>A borrowed variable was used by a closure.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">you_know_nothing</span>(<span class="ident">jon_snow</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {
    <span class="kw">let</span> <span class="ident">nights_watch</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">jon_snow</span>;
    <span class="kw">let</span> <span class="ident">starks</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
        <span class="kw-2">*</span><span class="ident">jon_snow</span> <span class="op">=</span> <span class="number">3</span>; <span class="comment">// error: closure requires unique access to `jon_snow`</span>
                       <span class="comment">//        but it is already borrowed</span>
    };
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">nights_watch</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20you_know_nothing(jon_snow%3A%20%26mut%20i32)%20%7B%0A%20%20%20%20let%20nights_watch%20%3D%20%26jon_snow%3B%0A%20%20%20%20let%20starks%20%3D%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20*jon_snow%20%3D%203%3B%20%2F%2F%20error%3A%20closure%20requires%20unique%20access%20to%20%60jon_snow%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20but%20it%20is%20already%20borrowed%0A%20%20%20%20%7D%3B%0A%20%20%20%20println!(%22%7B%7D%22%2C%20nights_watch)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In here, <code>jon_snow</code> is already borrowed by the <code>nights_watch</code> reference, so it
cannot be borrowed by the <code>starks</code> closure at the same time. To fix this issue,
you can create the closure after the borrow has ended:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">you_know_nothing</span>(<span class="ident">jon_snow</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {
    <span class="kw">let</span> <span class="ident">nights_watch</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">jon_snow</span>;
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">nights_watch</span>);
    <span class="kw">let</span> <span class="ident">starks</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
        <span class="kw-2">*</span><span class="ident">jon_snow</span> <span class="op">=</span> <span class="number">3</span>;
    };
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20you_know_nothing(jon_snow%3A%20%26mut%20i32)%20%7B%0A%20%20%20%20let%20nights_watch%20%3D%20%26jon_snow%3B%0A%20%20%20%20println!(%22%7B%7D%22%2C%20nights_watch)%3B%0A%20%20%20%20let%20starks%20%3D%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20*jon_snow%20%3D%203%3B%0A%20%20%20%20%7D%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Or, if the type implements the <code>Clone</code> trait, you can clone it between
closures:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">you_know_nothing</span>(<span class="ident">jon_snow</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">jon_copy</span> <span class="op">=</span> <span class="ident">jon_snow</span>.<span class="ident">clone</span>();
    <span class="kw">let</span> <span class="ident">starks</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
        <span class="kw-2">*</span><span class="ident">jon_snow</span> <span class="op">=</span> <span class="number">3</span>;
    };
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">jon_copy</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20you_know_nothing(jon_snow%3A%20%26mut%20i32)%20%7B%0A%20%20%20%20let%20mut%20jon_copy%20%3D%20jon_snow.clone()%3B%0A%20%20%20%20let%20starks%20%3D%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20*jon_snow%20%3D%203%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20println!(%22%7B%7D%22%2C%20jon_copy)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0501" class="section-header"><a href="#E0501">E0501</a></h2>
<p>A mutable variable is used but it is already captured by a closure.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">inside_closure</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {
    <span class="comment">// Actions which require unique access</span>
}

<span class="kw">fn</span> <span class="ident">outside_closure</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {
    <span class="comment">// Actions which require unique access</span>
}

<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">a</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">bar</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
        <span class="ident">inside_closure</span>(<span class="ident">a</span>)
    };
    <span class="ident">outside_closure</span>(<span class="ident">a</span>); <span class="comment">// error: cannot borrow `*a` as mutable because previous</span>
                        <span class="comment">//        closure requires unique access.</span>
    <span class="ident">bar</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20inside_closure(x%3A%20%26mut%20i32)%20%7B%0A%20%20%20%20%2F%2F%20Actions%20which%20require%20unique%20access%0A%7D%0A%0Afn%20outside_closure(x%3A%20%26mut%20i32)%20%7B%0A%20%20%20%20%2F%2F%20Actions%20which%20require%20unique%20access%0A%7D%0A%0Afn%20foo(a%3A%20%26mut%20i32)%20%7B%0A%20%20%20%20let%20mut%20bar%20%3D%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20inside_closure(a)%0A%20%20%20%20%7D%3B%0A%20%20%20%20outside_closure(a)%3B%20%2F%2F%20error%3A%20cannot%20borrow%20%60*a%60%20as%20mutable%20because%20previous%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20closure%20requires%20unique%20access.%0A%20%20%20%20bar()%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This error indicates that a mutable variable is used while it is still captured
by a closure. Because the closure has borrowed the variable, it is not available
until the closure goes out of scope.</p>
<p>Note that a capture will either move or borrow a variable, but in this
situation, the closure is borrowing the variable. Take a look at the chapter
on <a href="https://doc.rust-lang.org/stable/rust-by-example/fn/closures/capture.html">Capturing</a> in Rust By Example for more information.</p>
<p>To fix this error, you can finish using the closure before using the captured
variable:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">inside_closure</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {}
<span class="kw">fn</span> <span class="ident">outside_closure</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {}

<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">a</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">bar</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
        <span class="ident">inside_closure</span>(<span class="ident">a</span>)
    };
    <span class="ident">bar</span>();
    <span class="comment">// borrow on `a` ends.</span>
    <span class="ident">outside_closure</span>(<span class="ident">a</span>); <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20inside_closure(x%3A%20%26mut%20i32)%20%7B%7D%0Afn%20outside_closure(x%3A%20%26mut%20i32)%20%7B%7D%0A%0Afn%20foo(a%3A%20%26mut%20i32)%20%7B%0A%20%20%20%20let%20mut%20bar%20%3D%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20inside_closure(a)%0A%20%20%20%20%7D%3B%0A%20%20%20%20bar()%3B%0A%20%20%20%20%2F%2F%20borrow%20on%20%60a%60%20ends.%0A%20%20%20%20outside_closure(a)%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Or you can pass the variable as a parameter to the closure:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">inside_closure</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {}
<span class="kw">fn</span> <span class="ident">outside_closure</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {}

<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">a</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">bar</span> <span class="op">=</span> <span class="op">|</span><span class="ident">s</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span><span class="op">|</span> {
        <span class="ident">inside_closure</span>(<span class="ident">s</span>)
    };
    <span class="ident">outside_closure</span>(<span class="ident">a</span>);
    <span class="ident">bar</span>(<span class="ident">a</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20inside_closure(x%3A%20%26mut%20i32)%20%7B%7D%0Afn%20outside_closure(x%3A%20%26mut%20i32)%20%7B%7D%0A%0Afn%20foo(a%3A%20%26mut%20i32)%20%7B%0A%20%20%20%20let%20mut%20bar%20%3D%20%7Cs%3A%20%26mut%20i32%7C%20%7B%0A%20%20%20%20%20%20%20%20inside_closure(s)%0A%20%20%20%20%7D%3B%0A%20%20%20%20outside_closure(a)%3B%0A%20%20%20%20bar(a)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>It may be possible to define the closure later:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">inside_closure</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {}
<span class="kw">fn</span> <span class="ident">outside_closure</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {}

<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">a</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {
    <span class="ident">outside_closure</span>(<span class="ident">a</span>);
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">bar</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
        <span class="ident">inside_closure</span>(<span class="ident">a</span>)
    };
    <span class="ident">bar</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20inside_closure(x%3A%20%26mut%20i32)%20%7B%7D%0Afn%20outside_closure(x%3A%20%26mut%20i32)%20%7B%7D%0A%0Afn%20foo(a%3A%20%26mut%20i32)%20%7B%0A%20%20%20%20outside_closure(a)%3B%0A%20%20%20%20let%20mut%20bar%20%3D%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20inside_closure(a)%0A%20%20%20%20%7D%3B%0A%20%20%20%20bar()%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0502" class="section-header"><a href="#E0502">E0502</a></h2>
<p>A variable already borrowed as immutable was borrowed as mutable.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">bar</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {}
<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">a</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {
    <span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">a</span>; <span class="comment">// a is borrowed as immutable.</span>
    <span class="ident">bar</span>(<span class="ident">a</span>); <span class="comment">// error: cannot borrow `*a` as mutable because `a` is also borrowed</span>
            <span class="comment">//        as immutable</span>
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">y</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20bar(x%3A%20%26mut%20i32)%20%7B%7D%0Afn%20foo(a%3A%20%26mut%20i32)%20%7B%0A%20%20%20%20let%20y%20%3D%20%26a%3B%20%2F%2F%20a%20is%20borrowed%20as%20immutable.%0A%20%20%20%20bar(a)%3B%20%2F%2F%20error%3A%20cannot%20borrow%20%60*a%60%20as%20mutable%20because%20%60a%60%20is%20also%20borrowed%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20as%20immutable%0A%20%20%20%20println!(%22%7B%7D%22%2C%20y)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, ensure that you don’t have any other references to the
variable before trying to access it mutably:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">bar</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {}
<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">a</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">i32</span>) {
    <span class="ident">bar</span>(<span class="ident">a</span>);
    <span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">a</span>; <span class="comment">// ok!</span>
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">y</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20bar(x%3A%20%26mut%20i32)%20%7B%7D%0Afn%20foo(a%3A%20%26mut%20i32)%20%7B%0A%20%20%20%20bar(a)%3B%0A%20%20%20%20let%20y%20%3D%20%26a%3B%20%2F%2F%20ok!%0A%20%20%20%20println!(%22%7B%7D%22%2C%20y)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>For more information on Rust’s ownership system, take a look at the
<a href="https://doc.rust-lang.org/book/ch04-02-references-and-borrowing.html">References &amp; Borrowing</a> section of the Book.</p>
</div>
<div class="error-described"><h2 id="E0503" class="section-header"><a href="#E0503">E0503</a></h2>
<p>A value was used after it was mutably borrowed.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">value</span> <span class="op">=</span> <span class="number">3</span>;
    <span class="comment">// Create a mutable borrow of `value`.</span>
    <span class="kw">let</span> <span class="ident">borrow</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">value</span>;
    <span class="kw">let</span> <span class="ident">_sum</span> <span class="op">=</span> <span class="ident">value</span> <span class="op">+</span> <span class="number">1</span>; <span class="comment">// error: cannot use `value` because</span>
                          <span class="comment">//        it was mutably borrowed</span>
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">borrow</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20value%20%3D%203%3B%0A%20%20%20%20%2F%2F%20Create%20a%20mutable%20borrow%20of%20%60value%60.%0A%20%20%20%20let%20borrow%20%3D%20%26mut%20value%3B%0A%20%20%20%20let%20_sum%20%3D%20value%20%2B%201%3B%20%2F%2F%20error%3A%20cannot%20use%20%60value%60%20because%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20it%20was%20mutably%20borrowed%0A%20%20%20%20println!(%22%7B%7D%22%2C%20borrow)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>In this example, <code>value</code> is mutably borrowed by <code>borrow</code> and cannot be
used to calculate <code>sum</code>. This is not possible because this would violate
Rust’s mutability rules.</p>
<p>You can fix this error by finishing using the borrow before the next use of
the value:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">value</span> <span class="op">=</span> <span class="number">3</span>;
    <span class="kw">let</span> <span class="ident">borrow</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">value</span>;
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">borrow</span>);
    <span class="comment">// The block has ended and with it the borrow.</span>
    <span class="comment">// You can now use `value` again.</span>
    <span class="kw">let</span> <span class="ident">_sum</span> <span class="op">=</span> <span class="ident">value</span> <span class="op">+</span> <span class="number">1</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20value%20%3D%203%3B%0A%20%20%20%20let%20borrow%20%3D%20%26mut%20value%3B%0A%20%20%20%20println!(%22%7B%7D%22%2C%20borrow)%3B%0A%20%20%20%20%2F%2F%20The%20block%20has%20ended%20and%20with%20it%20the%20borrow.%0A%20%20%20%20%2F%2F%20You%20can%20now%20use%20%60value%60%20again.%0A%20%20%20%20let%20_sum%20%3D%20value%20%2B%201%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Or by cloning <code>value</code> before borrowing it:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">value</span> <span class="op">=</span> <span class="number">3</span>;
    <span class="comment">// We clone `value`, creating a copy.</span>
    <span class="kw">let</span> <span class="ident">value_cloned</span> <span class="op">=</span> <span class="ident">value</span>.<span class="ident">clone</span>();
    <span class="comment">// The mutable borrow is a reference to `value` and</span>
    <span class="comment">// not to `value_cloned`...</span>
    <span class="kw">let</span> <span class="ident">borrow</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">value</span>;
    <span class="comment">// ... which means we can still use `value_cloned`,</span>
    <span class="kw">let</span> <span class="ident">_sum</span> <span class="op">=</span> <span class="ident">value_cloned</span> <span class="op">+</span> <span class="number">1</span>;
    <span class="comment">// even though the borrow only ends here.</span>
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">borrow</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20value%20%3D%203%3B%0A%20%20%20%20%2F%2F%20We%20clone%20%60value%60%2C%20creating%20a%20copy.%0A%20%20%20%20let%20value_cloned%20%3D%20value.clone()%3B%0A%20%20%20%20%2F%2F%20The%20mutable%20borrow%20is%20a%20reference%20to%20%60value%60%20and%0A%20%20%20%20%2F%2F%20not%20to%20%60value_cloned%60...%0A%20%20%20%20let%20borrow%20%3D%20%26mut%20value%3B%0A%20%20%20%20%2F%2F%20...%20which%20means%20we%20can%20still%20use%20%60value_cloned%60%2C%0A%20%20%20%20let%20_sum%20%3D%20value_cloned%20%2B%201%3B%0A%20%20%20%20%2F%2F%20even%20though%20the%20borrow%20only%20ends%20here.%0A%20%20%20%20println!(%22%7B%7D%22%2C%20borrow)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>For more information on Rust’s ownership system, take a look at the
<a href="https://doc.rust-lang.org/book/ch04-02-references-and-borrowing.html">References &amp; Borrowing</a> section of the Book.</p>
</div>
<div class="error-described"><h2 id="E0504" class="section-header"><a href="#E0504">E0504</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-39" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-39">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>This error occurs when an attempt is made to move a borrowed variable into a
closure.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">FancyNum</span> {
    <span class="ident">num</span>: <span class="ident">u8</span>,
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">fancy_num</span> <span class="op">=</span> <span class="ident">FancyNum</span> { <span class="ident">num</span>: <span class="number">5</span> };
    <span class="kw">let</span> <span class="ident">fancy_ref</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">fancy_num</span>;

    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="kw">move</span> <span class="op">|</span><span class="op">|</span> {
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;child function: {}&quot;</span>, <span class="ident">fancy_num</span>.<span class="ident">num</span>);
        <span class="comment">// error: cannot move `fancy_num` into closure because it is borrowed</span>
    };

    <span class="ident">x</span>();
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;main function: {}&quot;</span>, <span class="ident">fancy_ref</span>.<span class="ident">num</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20FancyNum%20%7B%0A%20%20%20%20num%3A%20u8%2C%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20fancy_num%20%3D%20FancyNum%20%7B%20num%3A%205%20%7D%3B%0A%20%20%20%20let%20fancy_ref%20%3D%20%26fancy_num%3B%0A%0A%20%20%20%20let%20x%20%3D%20move%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20println!(%22child%20function%3A%20%7B%7D%22%2C%20fancy_num.num)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20error%3A%20cannot%20move%20%60fancy_num%60%20into%20closure%20because%20it%20is%20borrowed%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20x()%3B%0A%20%20%20%20println!(%22main%20function%3A%20%7B%7D%22%2C%20fancy_ref.num)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, <code>fancy_num</code> is borrowed by <code>fancy_ref</code> and so cannot be moved into
the closure <code>x</code>. There is no way to move a value into a closure while it is
borrowed, as that would invalidate the borrow.</p>
<p>If the closure can’t outlive the value being moved, try using a reference
rather than moving:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">FancyNum</span> {
    <span class="ident">num</span>: <span class="ident">u8</span>,
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">fancy_num</span> <span class="op">=</span> <span class="ident">FancyNum</span> { <span class="ident">num</span>: <span class="number">5</span> };
    <span class="kw">let</span> <span class="ident">fancy_ref</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">fancy_num</span>;

    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="kw">move</span> <span class="op">|</span><span class="op">|</span> {
        <span class="comment">// fancy_ref is usable here because it doesn&#39;t move `fancy_num`</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;child function: {}&quot;</span>, <span class="ident">fancy_ref</span>.<span class="ident">num</span>);
    };

    <span class="ident">x</span>();

    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;main function: {}&quot;</span>, <span class="ident">fancy_num</span>.<span class="ident">num</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20FancyNum%20%7B%0A%20%20%20%20num%3A%20u8%2C%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20fancy_num%20%3D%20FancyNum%20%7B%20num%3A%205%20%7D%3B%0A%20%20%20%20let%20fancy_ref%20%3D%20%26fancy_num%3B%0A%0A%20%20%20%20let%20x%20%3D%20move%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20fancy_ref%20is%20usable%20here%20because%20it%20doesn't%20move%20%60fancy_num%60%0A%20%20%20%20%20%20%20%20println!(%22child%20function%3A%20%7B%7D%22%2C%20fancy_ref.num)%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20x()%3B%0A%0A%20%20%20%20println!(%22main%20function%3A%20%7B%7D%22%2C%20fancy_num.num)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>If the value has to be borrowed and then moved, try limiting the lifetime of
the borrow using a scoped block:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">FancyNum</span> {
    <span class="ident">num</span>: <span class="ident">u8</span>,
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">fancy_num</span> <span class="op">=</span> <span class="ident">FancyNum</span> { <span class="ident">num</span>: <span class="number">5</span> };

    {
        <span class="kw">let</span> <span class="ident">fancy_ref</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">fancy_num</span>;
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;main function: {}&quot;</span>, <span class="ident">fancy_ref</span>.<span class="ident">num</span>);
        <span class="comment">// `fancy_ref` goes out of scope here</span>
    }

    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="kw">move</span> <span class="op">|</span><span class="op">|</span> {
        <span class="comment">// `fancy_num` can be moved now (no more references exist)</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;child function: {}&quot;</span>, <span class="ident">fancy_num</span>.<span class="ident">num</span>);
    };

    <span class="ident">x</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20FancyNum%20%7B%0A%20%20%20%20num%3A%20u8%2C%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20fancy_num%20%3D%20FancyNum%20%7B%20num%3A%205%20%7D%3B%0A%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20let%20fancy_ref%20%3D%20%26fancy_num%3B%0A%20%20%20%20%20%20%20%20println!(%22main%20function%3A%20%7B%7D%22%2C%20fancy_ref.num)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20%60fancy_ref%60%20goes%20out%20of%20scope%20here%0A%20%20%20%20%7D%0A%0A%20%20%20%20let%20x%20%3D%20move%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20%60fancy_num%60%20can%20be%20moved%20now%20(no%20more%20references%20exist)%0A%20%20%20%20%20%20%20%20println!(%22child%20function%3A%20%7B%7D%22%2C%20fancy_num.num)%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20x()%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>If the lifetime of a reference isn’t enough, such as in the case of threading,
consider using an <code>Arc</code> to create a reference-counted value:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">sync</span>::<span class="ident">Arc</span>;
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">thread</span>;

<span class="kw">struct</span> <span class="ident">FancyNum</span> {
    <span class="ident">num</span>: <span class="ident">u8</span>,
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">fancy_ref1</span> <span class="op">=</span> <span class="ident">Arc</span>::<span class="ident">new</span>(<span class="ident">FancyNum</span> { <span class="ident">num</span>: <span class="number">5</span> });
    <span class="kw">let</span> <span class="ident">fancy_ref2</span> <span class="op">=</span> <span class="ident">fancy_ref1</span>.<span class="ident">clone</span>();

    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">thread</span>::<span class="ident">spawn</span>(<span class="kw">move</span> <span class="op">|</span><span class="op">|</span> {
        <span class="comment">// `fancy_ref1` can be moved and has a `&#39;static` lifetime</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;child thread: {}&quot;</span>, <span class="ident">fancy_ref1</span>.<span class="ident">num</span>);
    });

    <span class="ident">x</span>.<span class="ident">join</span>().<span class="ident">expect</span>(<span class="string">&quot;child thread should finish&quot;</span>);
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;main thread: {}&quot;</span>, <span class="ident">fancy_ref2</span>.<span class="ident">num</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Async%3A%3AArc%3B%0Ause%20std%3A%3Athread%3B%0A%0Astruct%20FancyNum%20%7B%0A%20%20%20%20num%3A%20u8%2C%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20fancy_ref1%20%3D%20Arc%3A%3Anew(FancyNum%20%7B%20num%3A%205%20%7D)%3B%0A%20%20%20%20let%20fancy_ref2%20%3D%20fancy_ref1.clone()%3B%0A%0A%20%20%20%20let%20x%20%3D%20thread%3A%3Aspawn(move%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20%60fancy_ref1%60%20can%20be%20moved%20and%20has%20a%20%60'static%60%20lifetime%0A%20%20%20%20%20%20%20%20println!(%22child%20thread%3A%20%7B%7D%22%2C%20fancy_ref1.num)%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20x.join().expect(%22child%20thread%20should%20finish%22)%3B%0A%20%20%20%20println!(%22main%20thread%3A%20%7B%7D%22%2C%20fancy_ref2.num)%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0505" class="section-header"><a href="#E0505">E0505</a></h2>
<p>A value was moved out while it was still borrowed.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Value</span> {}

<span class="kw">fn</span> <span class="ident">borrow</span>(<span class="ident">val</span>: <span class="kw-2">&amp;</span><span class="ident">Value</span>) {}

<span class="kw">fn</span> <span class="ident">eat</span>(<span class="ident">val</span>: <span class="ident">Value</span>) {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Value</span>{};
    <span class="kw">let</span> <span class="ident">_ref_to_val</span>: <span class="kw-2">&amp;</span><span class="ident">Value</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">x</span>;
    <span class="ident">eat</span>(<span class="ident">x</span>);
    <span class="ident">borrow</span>(<span class="ident">_ref_to_val</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Value%20%7B%7D%0A%0Afn%20borrow(val%3A%20%26Value)%20%7B%7D%0A%0Afn%20eat(val%3A%20Value)%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%20Value%7B%7D%3B%0A%20%20%20%20let%20_ref_to_val%3A%20%26Value%20%3D%20%26x%3B%0A%20%20%20%20eat(x)%3B%0A%20%20%20%20borrow(_ref_to_val)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, the function <code>eat</code> takes ownership of <code>x</code>. However,
<code>x</code> cannot be moved because the borrow to <code>_ref_to_val</code>
needs to last till the function <code>borrow</code>.
To fix that you can do a few different things:</p>
<ul>
<li>Try to avoid moving the variable.</li>
<li>Release borrow before move.</li>
<li>Implement the <code>Copy</code> trait on the type.</li>
</ul>
<p>Examples:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Value</span> {}

<span class="kw">fn</span> <span class="ident">borrow</span>(<span class="ident">val</span>: <span class="kw-2">&amp;</span><span class="ident">Value</span>) {}

<span class="kw">fn</span> <span class="ident">eat</span>(<span class="ident">val</span>: <span class="kw-2">&amp;</span><span class="ident">Value</span>) {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Value</span>{};

    <span class="kw">let</span> <span class="ident">ref_to_val</span>: <span class="kw-2">&amp;</span><span class="ident">Value</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">x</span>;
    <span class="ident">eat</span>(<span class="kw-2">&amp;</span><span class="ident">x</span>); <span class="comment">// pass by reference, if it&#39;s possible</span>
    <span class="ident">borrow</span>(<span class="ident">ref_to_val</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Value%20%7B%7D%0A%0Afn%20borrow(val%3A%20%26Value)%20%7B%7D%0A%0Afn%20eat(val%3A%20%26Value)%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%20Value%7B%7D%3B%0A%0A%20%20%20%20let%20ref_to_val%3A%20%26Value%20%3D%20%26x%3B%0A%20%20%20%20eat(%26x)%3B%20%2F%2F%20pass%20by%20reference%2C%20if%20it's%20possible%0A%20%20%20%20borrow(ref_to_val)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Or:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Value</span> {}

<span class="kw">fn</span> <span class="ident">borrow</span>(<span class="ident">val</span>: <span class="kw-2">&amp;</span><span class="ident">Value</span>) {}

<span class="kw">fn</span> <span class="ident">eat</span>(<span class="ident">val</span>: <span class="ident">Value</span>) {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Value</span>{};

    <span class="kw">let</span> <span class="ident">ref_to_val</span>: <span class="kw-2">&amp;</span><span class="ident">Value</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">x</span>;
    <span class="ident">borrow</span>(<span class="ident">ref_to_val</span>);
    <span class="comment">// ref_to_val is no longer used.</span>
    <span class="ident">eat</span>(<span class="ident">x</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20Value%20%7B%7D%0A%0Afn%20borrow(val%3A%20%26Value)%20%7B%7D%0A%0Afn%20eat(val%3A%20Value)%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%20Value%7B%7D%3B%0A%0A%20%20%20%20let%20ref_to_val%3A%20%26Value%20%3D%20%26x%3B%0A%20%20%20%20borrow(ref_to_val)%3B%0A%20%20%20%20%2F%2F%20ref_to_val%20is%20no%20longer%20used.%0A%20%20%20%20eat(x)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Or:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>, <span class="ident">Copy</span>)]</span> <span class="comment">// implement Copy trait</span>
<span class="kw">struct</span> <span class="ident">Value</span> {}

<span class="kw">fn</span> <span class="ident">borrow</span>(<span class="ident">val</span>: <span class="kw-2">&amp;</span><span class="ident">Value</span>) {}

<span class="kw">fn</span> <span class="ident">eat</span>(<span class="ident">val</span>: <span class="ident">Value</span>) {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Value</span>{};
    <span class="kw">let</span> <span class="ident">ref_to_val</span>: <span class="kw-2">&amp;</span><span class="ident">Value</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">x</span>;
    <span class="ident">eat</span>(<span class="ident">x</span>); <span class="comment">// it will be copied here.</span>
    <span class="ident">borrow</span>(<span class="ident">ref_to_val</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Bderive(Clone%2C%20Copy)%5D%20%2F%2F%20implement%20Copy%20trait%0Astruct%20Value%20%7B%7D%0A%0Afn%20borrow(val%3A%20%26Value)%20%7B%7D%0A%0Afn%20eat(val%3A%20Value)%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%20Value%7B%7D%3B%0A%20%20%20%20let%20ref_to_val%3A%20%26Value%20%3D%20%26x%3B%0A%20%20%20%20eat(x)%3B%20%2F%2F%20it%20will%20be%20copied%20here.%0A%20%20%20%20borrow(ref_to_val)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>For more information on Rust’s ownership system, take a look at the
<a href="https://doc.rust-lang.org/book/ch04-02-references-and-borrowing.html">References &amp; Borrowing</a> section of the Book.</p>
</div>
<div class="error-described"><h2 id="E0506" class="section-header"><a href="#E0506">E0506</a></h2>
<p>An attempt was made to assign to a borrowed value.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">FancyNum</span> {
    <span class="ident">num</span>: <span class="ident">u8</span>,
}

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">fancy_num</span> <span class="op">=</span> <span class="ident">FancyNum</span> { <span class="ident">num</span>: <span class="number">5</span> };
<span class="kw">let</span> <span class="ident">fancy_ref</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">fancy_num</span>;
<span class="ident">fancy_num</span> <span class="op">=</span> <span class="ident">FancyNum</span> { <span class="ident">num</span>: <span class="number">6</span> };
<span class="comment">// error: cannot assign to `fancy_num` because it is borrowed</span>

<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Num: {}, Ref: {}&quot;</span>, <span class="ident">fancy_num</span>.<span class="ident">num</span>, <span class="ident">fancy_ref</span>.<span class="ident">num</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20FancyNum%20%7B%0A%20%20%20%20num%3A%20u8%2C%0A%7D%0A%0Alet%20mut%20fancy_num%20%3D%20FancyNum%20%7B%20num%3A%205%20%7D%3B%0Alet%20fancy_ref%20%3D%20%26fancy_num%3B%0Afancy_num%20%3D%20FancyNum%20%7B%20num%3A%206%20%7D%3B%0A%2F%2F%20error%3A%20cannot%20assign%20to%20%60fancy_num%60%20because%20it%20is%20borrowed%0A%0Aprintln!(%22Num%3A%20%7B%7D%2C%20Ref%3A%20%7B%7D%22%2C%20fancy_num.num%2C%20fancy_ref.num)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Because <code>fancy_ref</code> still holds a reference to <code>fancy_num</code>, <code>fancy_num</code> can’t
be assigned to a new value as it would invalidate the reference.</p>
<p>Alternatively, we can move out of <code>fancy_num</code> into a second <code>fancy_num</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">FancyNum</span> {
    <span class="ident">num</span>: <span class="ident">u8</span>,
}

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">fancy_num</span> <span class="op">=</span> <span class="ident">FancyNum</span> { <span class="ident">num</span>: <span class="number">5</span> };
<span class="kw">let</span> <span class="ident">moved_num</span> <span class="op">=</span> <span class="ident">fancy_num</span>;
<span class="ident">fancy_num</span> <span class="op">=</span> <span class="ident">FancyNum</span> { <span class="ident">num</span>: <span class="number">6</span> };

<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Num: {}, Moved num: {}&quot;</span>, <span class="ident">fancy_num</span>.<span class="ident">num</span>, <span class="ident">moved_num</span>.<span class="ident">num</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20FancyNum%20%7B%0A%20%20%20%20num%3A%20u8%2C%0A%7D%0A%0Alet%20mut%20fancy_num%20%3D%20FancyNum%20%7B%20num%3A%205%20%7D%3B%0Alet%20moved_num%20%3D%20fancy_num%3B%0Afancy_num%20%3D%20FancyNum%20%7B%20num%3A%206%20%7D%3B%0A%0Aprintln!(%22Num%3A%20%7B%7D%2C%20Moved%20num%3A%20%7B%7D%22%2C%20fancy_num.num%2C%20moved_num.num)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>If the value has to be borrowed, try limiting the lifetime of the borrow using
a scoped block:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">FancyNum</span> {
    <span class="ident">num</span>: <span class="ident">u8</span>,
}

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">fancy_num</span> <span class="op">=</span> <span class="ident">FancyNum</span> { <span class="ident">num</span>: <span class="number">5</span> };

{
    <span class="kw">let</span> <span class="ident">fancy_ref</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">fancy_num</span>;
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Ref: {}&quot;</span>, <span class="ident">fancy_ref</span>.<span class="ident">num</span>);
}

<span class="comment">// Works because `fancy_ref` is no longer in scope</span>
<span class="ident">fancy_num</span> <span class="op">=</span> <span class="ident">FancyNum</span> { <span class="ident">num</span>: <span class="number">6</span> };
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Num: {}&quot;</span>, <span class="ident">fancy_num</span>.<span class="ident">num</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20FancyNum%20%7B%0A%20%20%20%20num%3A%20u8%2C%0A%7D%0A%0Alet%20mut%20fancy_num%20%3D%20FancyNum%20%7B%20num%3A%205%20%7D%3B%0A%0A%7B%0A%20%20%20%20let%20fancy_ref%20%3D%20%26fancy_num%3B%0A%20%20%20%20println!(%22Ref%3A%20%7B%7D%22%2C%20fancy_ref.num)%3B%0A%7D%0A%0A%2F%2F%20Works%20because%20%60fancy_ref%60%20is%20no%20longer%20in%20scope%0Afancy_num%20%3D%20FancyNum%20%7B%20num%3A%206%20%7D%3B%0Aprintln!(%22Num%3A%20%7B%7D%22%2C%20fancy_num.num)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Or by moving the reference into a function:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">FancyNum</span> {
    <span class="ident">num</span>: <span class="ident">u8</span>,
}

<span class="kw">fn</span> <span class="ident">print_fancy_ref</span>(<span class="ident">fancy_ref</span>: <span class="kw-2">&amp;</span><span class="ident">FancyNum</span>){
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Ref: {}&quot;</span>, <span class="ident">fancy_ref</span>.<span class="ident">num</span>);
}

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">fancy_num</span> <span class="op">=</span> <span class="ident">FancyNum</span> { <span class="ident">num</span>: <span class="number">5</span> };

<span class="ident">print_fancy_ref</span>(<span class="kw-2">&amp;</span><span class="ident">fancy_num</span>);

<span class="comment">// Works because function borrow has ended</span>
<span class="ident">fancy_num</span> <span class="op">=</span> <span class="ident">FancyNum</span> { <span class="ident">num</span>: <span class="number">6</span> };
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Num: {}&quot;</span>, <span class="ident">fancy_num</span>.<span class="ident">num</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20FancyNum%20%7B%0A%20%20%20%20num%3A%20u8%2C%0A%7D%0A%0Afn%20print_fancy_ref(fancy_ref%3A%20%26FancyNum)%7B%0A%20%20%20%20println!(%22Ref%3A%20%7B%7D%22%2C%20fancy_ref.num)%3B%0A%7D%0A%0Alet%20mut%20fancy_num%20%3D%20FancyNum%20%7B%20num%3A%205%20%7D%3B%0A%0Aprint_fancy_ref(%26fancy_num)%3B%0A%0A%2F%2F%20Works%20because%20function%20borrow%20has%20ended%0Afancy_num%20%3D%20FancyNum%20%7B%20num%3A%206%20%7D%3B%0Aprintln!(%22Num%3A%20%7B%7D%22%2C%20fancy_num.num)%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0507" class="section-header"><a href="#E0507">E0507</a></h2>
<p>A borrowed value was moved out.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">cell</span>::<span class="ident">RefCell</span>;

<span class="kw">struct</span> <span class="ident">TheDarkKnight</span>;

<span class="kw">impl</span> <span class="ident">TheDarkKnight</span> {
    <span class="kw">fn</span> <span class="ident">nothing_is_true</span>(<span class="self">self</span>) {}
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">RefCell</span>::<span class="ident">new</span>(<span class="ident">TheDarkKnight</span>);

    <span class="ident">x</span>.<span class="ident">borrow</span>().<span class="ident">nothing_is_true</span>(); <span class="comment">// error: cannot move out of borrowed content</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Acell%3A%3ARefCell%3B%0A%0Astruct%20TheDarkKnight%3B%0A%0Aimpl%20TheDarkKnight%20%7B%0A%20%20%20%20fn%20nothing_is_true(self)%20%7B%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%20RefCell%3A%3Anew(TheDarkKnight)%3B%0A%0A%20%20%20%20x.borrow().nothing_is_true()%3B%20%2F%2F%20error%3A%20cannot%20move%20out%20of%20borrowed%20content%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, the <code>nothing_is_true</code> method takes the ownership of <code>self</code>. However,
<code>self</code> cannot be moved because <code>.borrow()</code> only provides an <code>&amp;TheDarkKnight</code>,
which is a borrow of the content owned by the <code>RefCell</code>. To fix this error,
you have three choices:</p>
<ul>
<li>Try to avoid moving the variable.</li>
<li>Somehow reclaim the ownership.</li>
<li>Implement the <code>Copy</code> trait on the type.</li>
</ul>
<p>This can also happen when using a type implementing <code>Fn</code> or <code>FnMut</code>, as neither
allows moving out of them (they usually represent closures which can be called
more than once). Much of the text following applies equally well to non-<code>FnOnce</code>
closure bodies.</p>
<p>Examples:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">cell</span>::<span class="ident">RefCell</span>;

<span class="kw">struct</span> <span class="ident">TheDarkKnight</span>;

<span class="kw">impl</span> <span class="ident">TheDarkKnight</span> {
    <span class="kw">fn</span> <span class="ident">nothing_is_true</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {} <span class="comment">// First case, we don&#39;t take ownership</span>
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">RefCell</span>::<span class="ident">new</span>(<span class="ident">TheDarkKnight</span>);

    <span class="ident">x</span>.<span class="ident">borrow</span>().<span class="ident">nothing_is_true</span>(); <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Acell%3A%3ARefCell%3B%0A%0Astruct%20TheDarkKnight%3B%0A%0Aimpl%20TheDarkKnight%20%7B%0A%20%20%20%20fn%20nothing_is_true(%26self)%20%7B%7D%20%2F%2F%20First%20case%2C%20we%20don't%20take%20ownership%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%20RefCell%3A%3Anew(TheDarkKnight)%3B%0A%0A%20%20%20%20x.borrow().nothing_is_true()%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>Or:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">cell</span>::<span class="ident">RefCell</span>;

<span class="kw">struct</span> <span class="ident">TheDarkKnight</span>;

<span class="kw">impl</span> <span class="ident">TheDarkKnight</span> {
    <span class="kw">fn</span> <span class="ident">nothing_is_true</span>(<span class="self">self</span>) {}
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">RefCell</span>::<span class="ident">new</span>(<span class="ident">TheDarkKnight</span>);
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">x</span>.<span class="ident">into_inner</span>(); <span class="comment">// we get back ownership</span>

    <span class="ident">x</span>.<span class="ident">nothing_is_true</span>(); <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Acell%3A%3ARefCell%3B%0A%0Astruct%20TheDarkKnight%3B%0A%0Aimpl%20TheDarkKnight%20%7B%0A%20%20%20%20fn%20nothing_is_true(self)%20%7B%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%20RefCell%3A%3Anew(TheDarkKnight)%3B%0A%20%20%20%20let%20x%20%3D%20x.into_inner()%3B%20%2F%2F%20we%20get%20back%20ownership%0A%0A%20%20%20%20x.nothing_is_true()%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>Or:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">cell</span>::<span class="ident">RefCell</span>;

<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>, <span class="ident">Copy</span>)]</span> <span class="comment">// we implement the Copy trait</span>
<span class="kw">struct</span> <span class="ident">TheDarkKnight</span>;

<span class="kw">impl</span> <span class="ident">TheDarkKnight</span> {
    <span class="kw">fn</span> <span class="ident">nothing_is_true</span>(<span class="self">self</span>) {}
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">RefCell</span>::<span class="ident">new</span>(<span class="ident">TheDarkKnight</span>);

    <span class="ident">x</span>.<span class="ident">borrow</span>().<span class="ident">nothing_is_true</span>(); <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Acell%3A%3ARefCell%3B%0A%0A%23%5Bderive(Clone%2C%20Copy)%5D%20%2F%2F%20we%20implement%20the%20Copy%20trait%0Astruct%20TheDarkKnight%3B%0A%0Aimpl%20TheDarkKnight%20%7B%0A%20%20%20%20fn%20nothing_is_true(self)%20%7B%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%20RefCell%3A%3Anew(TheDarkKnight)%3B%0A%0A%20%20%20%20x.borrow().nothing_is_true()%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>Moving a member out of a mutably borrowed struct will also cause E0507 error:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">TheDarkKnight</span>;

<span class="kw">impl</span> <span class="ident">TheDarkKnight</span> {
    <span class="kw">fn</span> <span class="ident">nothing_is_true</span>(<span class="self">self</span>) {}
}

<span class="kw">struct</span> <span class="ident">Batcave</span> {
    <span class="ident">knight</span>: <span class="ident">TheDarkKnight</span>
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">cave</span> <span class="op">=</span> <span class="ident">Batcave</span> {
        <span class="ident">knight</span>: <span class="ident">TheDarkKnight</span>
    };
    <span class="kw">let</span> <span class="ident">borrowed</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">cave</span>;

    <span class="ident">borrowed</span>.<span class="ident">knight</span>.<span class="ident">nothing_is_true</span>(); <span class="comment">// E0507</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20TheDarkKnight%3B%0A%0Aimpl%20TheDarkKnight%20%7B%0A%20%20%20%20fn%20nothing_is_true(self)%20%7B%7D%0A%7D%0A%0Astruct%20Batcave%20%7B%0A%20%20%20%20knight%3A%20TheDarkKnight%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20cave%20%3D%20Batcave%20%7B%0A%20%20%20%20%20%20%20%20knight%3A%20TheDarkKnight%0A%20%20%20%20%7D%3B%0A%20%20%20%20let%20borrowed%20%3D%20%26mut%20cave%3B%0A%0A%20%20%20%20borrowed.knight.nothing_is_true()%3B%20%2F%2F%20E0507%0A%7D&amp;edition=2015">Run</a></div>
<p>It is fine only if you put something back. <code>mem::replace</code> can be used for that:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">mem</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">cave</span> <span class="op">=</span> <span class="ident">Batcave</span> {
    <span class="ident">knight</span>: <span class="ident">TheDarkKnight</span>
};
<span class="kw">let</span> <span class="ident">borrowed</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">cave</span>;

<span class="ident">mem</span>::<span class="ident">replace</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">borrowed</span>.<span class="ident">knight</span>, <span class="ident">TheDarkKnight</span>).<span class="ident">nothing_is_true</span>(); <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20TheDarkKnight%3B%0Aimpl%20TheDarkKnight%20%7B%20fn%20nothing_is_true(self)%20%7B%7D%20%7D%0Astruct%20Batcave%20%7B%20knight%3A%20TheDarkKnight%20%7D%0Ause%20std%3A%3Amem%3B%0A%0Alet%20mut%20cave%20%3D%20Batcave%20%7B%0A%20%20%20%20knight%3A%20TheDarkKnight%0A%7D%3B%0Alet%20borrowed%20%3D%20%26mut%20cave%3B%0A%0Amem%3A%3Areplace(%26mut%20borrowed.knight%2C%20TheDarkKnight).nothing_is_true()%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>For more information on Rust’s ownership system, take a look at the
<a href="https://doc.rust-lang.org/book/ch04-02-references-and-borrowing.html">References &amp; Borrowing</a> section of the Book.</p>
</div>
<div class="error-described"><h2 id="E0508" class="section-header"><a href="#E0508">E0508</a></h2>
<p>A value was moved out of a non-copy fixed-size array.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">NonCopy</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">array</span> <span class="op">=</span> [<span class="ident">NonCopy</span>; <span class="number">1</span>];
    <span class="kw">let</span> <span class="ident">_value</span> <span class="op">=</span> <span class="ident">array</span>[<span class="number">0</span>]; <span class="comment">// error: cannot move out of type `[NonCopy; 1]`,</span>
                           <span class="comment">//        a non-copy fixed-size array</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20NonCopy%3B%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20array%20%3D%20%5BNonCopy%3B%201%5D%3B%0A%20%20%20%20let%20_value%20%3D%20array%5B0%5D%3B%20%2F%2F%20error%3A%20cannot%20move%20out%20of%20type%20%60%5BNonCopy%3B%201%5D%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20a%20non-copy%20fixed-size%20array%0A%7D&amp;edition=2015">Run</a></div>
<p>The first element was moved out of the array, but this is not
possible because <code>NonCopy</code> does not implement the <code>Copy</code> trait.</p>
<p>Consider borrowing the element instead of moving it:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">NonCopy</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">array</span> <span class="op">=</span> [<span class="ident">NonCopy</span>; <span class="number">1</span>];
    <span class="kw">let</span> <span class="ident">_value</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">array</span>[<span class="number">0</span>]; <span class="comment">// Borrowing is allowed, unlike moving.</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20NonCopy%3B%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20array%20%3D%20%5BNonCopy%3B%201%5D%3B%0A%20%20%20%20let%20_value%20%3D%20%26array%5B0%5D%3B%20%2F%2F%20Borrowing%20is%20allowed%2C%20unlike%20moving.%0A%7D&amp;edition=2015">Run</a></div>
<p>Alternatively, if your type implements <code>Clone</code> and you need to own the value,
consider borrowing and then cloning:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>)]</span>
<span class="kw">struct</span> <span class="ident">NonCopy</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">array</span> <span class="op">=</span> [<span class="ident">NonCopy</span>; <span class="number">1</span>];
    <span class="comment">// Now you can clone the array element.</span>
    <span class="kw">let</span> <span class="ident">_value</span> <span class="op">=</span> <span class="ident">array</span>[<span class="number">0</span>].<span class="ident">clone</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Bderive(Clone)%5D%0Astruct%20NonCopy%3B%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20array%20%3D%20%5BNonCopy%3B%201%5D%3B%0A%20%20%20%20%2F%2F%20Now%20you%20can%20clone%20the%20array%20element.%0A%20%20%20%20let%20_value%20%3D%20array%5B0%5D.clone()%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0509" class="section-header"><a href="#E0509">E0509</a></h2>
<p>This error occurs when an attempt is made to move out of a value whose type
implements the <code>Drop</code> trait.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">FancyNum</span> {
    <span class="ident">num</span>: <span class="ident">usize</span>
}

<span class="kw">struct</span> <span class="ident">DropStruct</span> {
    <span class="ident">fancy</span>: <span class="ident">FancyNum</span>
}

<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">DropStruct</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) {
        <span class="comment">// Destruct DropStruct, possibly using FancyNum</span>
    }
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">drop_struct</span> <span class="op">=</span> <span class="ident">DropStruct</span>{<span class="ident">fancy</span>: <span class="ident">FancyNum</span>{<span class="ident">num</span>: <span class="number">5</span>}};
    <span class="kw">let</span> <span class="ident">fancy_field</span> <span class="op">=</span> <span class="ident">drop_struct</span>.<span class="ident">fancy</span>; <span class="comment">// Error E0509</span>
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Fancy: {}&quot;</span>, <span class="ident">fancy_field</span>.<span class="ident">num</span>);
    <span class="comment">// implicit call to `drop_struct.drop()` as drop_struct goes out of scope</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20FancyNum%20%7B%0A%20%20%20%20num%3A%20usize%0A%7D%0A%0Astruct%20DropStruct%20%7B%0A%20%20%20%20fancy%3A%20FancyNum%0A%7D%0A%0Aimpl%20Drop%20for%20DropStruct%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Destruct%20DropStruct%2C%20possibly%20using%20FancyNum%0A%20%20%20%20%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20drop_struct%20%3D%20DropStruct%7Bfancy%3A%20FancyNum%7Bnum%3A%205%7D%7D%3B%0A%20%20%20%20let%20fancy_field%20%3D%20drop_struct.fancy%3B%20%2F%2F%20Error%20E0509%0A%20%20%20%20println!(%22Fancy%3A%20%7B%7D%22%2C%20fancy_field.num)%3B%0A%20%20%20%20%2F%2F%20implicit%20call%20to%20%60drop_struct.drop()%60%20as%20drop_struct%20goes%20out%20of%20scope%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, we tried to move a field out of a struct of type <code>DropStruct</code> which
implements the <code>Drop</code> trait. However, a struct cannot be dropped if one or
more of its fields have been moved.</p>
<p>Structs implementing the <code>Drop</code> trait have an implicit destructor that gets
called when they go out of scope. This destructor may use the fields of the
struct, so moving out of the struct could make it impossible to run the
destructor. Therefore, we must think of all values whose type implements the
<code>Drop</code> trait as single units whose fields cannot be moved.</p>
<p>This error can be fixed by creating a reference to the fields of a struct,
enum, or tuple using the <code>ref</code> keyword:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">FancyNum</span> {
    <span class="ident">num</span>: <span class="ident">usize</span>
}

<span class="kw">struct</span> <span class="ident">DropStruct</span> {
    <span class="ident">fancy</span>: <span class="ident">FancyNum</span>
}

<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">DropStruct</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) {
        <span class="comment">// Destruct DropStruct, possibly using FancyNum</span>
    }
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">drop_struct</span> <span class="op">=</span> <span class="ident">DropStruct</span>{<span class="ident">fancy</span>: <span class="ident">FancyNum</span>{<span class="ident">num</span>: <span class="number">5</span>}};
    <span class="kw">let</span> <span class="kw-2">ref</span> <span class="ident">fancy_field</span> <span class="op">=</span> <span class="ident">drop_struct</span>.<span class="ident">fancy</span>; <span class="comment">// No more errors!</span>
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Fancy: {}&quot;</span>, <span class="ident">fancy_field</span>.<span class="ident">num</span>);
    <span class="comment">// implicit call to `drop_struct.drop()` as drop_struct goes out of scope</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20FancyNum%20%7B%0A%20%20%20%20num%3A%20usize%0A%7D%0A%0Astruct%20DropStruct%20%7B%0A%20%20%20%20fancy%3A%20FancyNum%0A%7D%0A%0Aimpl%20Drop%20for%20DropStruct%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Destruct%20DropStruct%2C%20possibly%20using%20FancyNum%0A%20%20%20%20%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20drop_struct%20%3D%20DropStruct%7Bfancy%3A%20FancyNum%7Bnum%3A%205%7D%7D%3B%0A%20%20%20%20let%20ref%20fancy_field%20%3D%20drop_struct.fancy%3B%20%2F%2F%20No%20more%20errors!%0A%20%20%20%20println!(%22Fancy%3A%20%7B%7D%22%2C%20fancy_field.num)%3B%0A%20%20%20%20%2F%2F%20implicit%20call%20to%20%60drop_struct.drop()%60%20as%20drop_struct%20goes%20out%20of%20scope%0A%7D&amp;edition=2015">Run</a></div>
<p>Note that this technique can also be used in the arms of a match expression:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">FancyNum</span> {
    <span class="ident">num</span>: <span class="ident">usize</span>
}

<span class="kw">enum</span> <span class="ident">DropEnum</span> {
    <span class="ident">Fancy</span>(<span class="ident">FancyNum</span>)
}

<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">DropEnum</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) {
        <span class="comment">// Destruct DropEnum, possibly using FancyNum</span>
    }
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// Creates and enum of type `DropEnum`, which implements `Drop`</span>
    <span class="kw">let</span> <span class="ident">drop_enum</span> <span class="op">=</span> <span class="ident">DropEnum</span>::<span class="ident">Fancy</span>(<span class="ident">FancyNum</span>{<span class="ident">num</span>: <span class="number">10</span>});
    <span class="kw">match</span> <span class="ident">drop_enum</span> {
        <span class="comment">// Creates a reference to the inside of `DropEnum::Fancy`</span>
        <span class="ident">DropEnum</span>::<span class="ident">Fancy</span>(<span class="kw-2">ref</span> <span class="ident">fancy_field</span>) <span class="op">=</span><span class="op">&gt;</span> <span class="comment">// No error!</span>
            <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;It was fancy-- {}!&quot;</span>, <span class="ident">fancy_field</span>.<span class="ident">num</span>),
    }
    <span class="comment">// implicit call to `drop_enum.drop()` as drop_enum goes out of scope</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20FancyNum%20%7B%0A%20%20%20%20num%3A%20usize%0A%7D%0A%0Aenum%20DropEnum%20%7B%0A%20%20%20%20Fancy(FancyNum)%0A%7D%0A%0Aimpl%20Drop%20for%20DropEnum%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Destruct%20DropEnum%2C%20possibly%20using%20FancyNum%0A%20%20%20%20%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20Creates%20and%20enum%20of%20type%20%60DropEnum%60%2C%20which%20implements%20%60Drop%60%0A%20%20%20%20let%20drop_enum%20%3D%20DropEnum%3A%3AFancy(FancyNum%7Bnum%3A%2010%7D)%3B%0A%20%20%20%20match%20drop_enum%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Creates%20a%20reference%20to%20the%20inside%20of%20%60DropEnum%3A%3AFancy%60%0A%20%20%20%20%20%20%20%20DropEnum%3A%3AFancy(ref%20fancy_field)%20%3D%3E%20%2F%2F%20No%20error!%0A%20%20%20%20%20%20%20%20%20%20%20%20println!(%22It%20was%20fancy--%20%7B%7D!%22%2C%20fancy_field.num)%2C%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2F%20implicit%20call%20to%20%60drop_enum.drop()%60%20as%20drop_enum%20goes%20out%20of%20scope%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0510" class="section-header"><a href="#E0510">E0510</a></h2>
<p>The matched value was assigned in a match guard.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="prelude-val">Some</span>(<span class="number">0</span>);
<span class="kw">match</span> <span class="ident">x</span> {
    <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> {}
    <span class="prelude-val">Some</span>(<span class="kw">_</span>) <span class="kw">if</span> { <span class="ident">x</span> <span class="op">=</span> <span class="prelude-val">None</span>; <span class="bool-val">false</span> } <span class="op">=</span><span class="op">&gt;</span> {} <span class="comment">// error!</span>
    <span class="prelude-val">Some</span>(<span class="kw">_</span>) <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20x%20%3D%20Some(0)%3B%0Amatch%20x%20%7B%0A%20%20%20%20None%20%3D%3E%20%7B%7D%0A%20%20%20%20Some(_)%20if%20%7B%20x%20%3D%20None%3B%20false%20%7D%20%3D%3E%20%7B%7D%20%2F%2F%20error!%0A%20%20%20%20Some(_)%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>When matching on a variable it cannot be mutated in the match guards, as this
could cause the match to be non-exhaustive.</p>
<p>Here executing <code>x = None</code> would modify the value being matched and require us
to go “back in time” to the <code>None</code> arm. To fix it, change the value in the match
arm:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="prelude-val">Some</span>(<span class="number">0</span>);
<span class="kw">match</span> <span class="ident">x</span> {
    <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> {}
    <span class="prelude-val">Some</span>(<span class="kw">_</span>) <span class="op">=</span><span class="op">&gt;</span> {
        <span class="ident">x</span> <span class="op">=</span> <span class="prelude-val">None</span>; <span class="comment">// ok!</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20x%20%3D%20Some(0)%3B%0Amatch%20x%20%7B%0A%20%20%20%20None%20%3D%3E%20%7B%7D%0A%20%20%20%20Some(_)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20x%20%3D%20None%3B%20%2F%2F%20ok!%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0511" class="section-header"><a href="#E0511">E0511</a></h2>
<p>Invalid monomorphization of an intrinsic function was used.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">platform_intrinsics</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;platform-intrinsic&quot;</span> {
    <span class="kw">fn</span> <span class="ident">simd_add</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">a</span>: <span class="ident">T</span>, <span class="ident">b</span>: <span class="ident">T</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">T</span>;
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">unsafe</span> { <span class="ident">simd_add</span>(<span class="number">0</span>, <span class="number">1</span>); }
    <span class="comment">// error: invalid monomorphization of `simd_add` intrinsic</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(platform_intrinsics)%5D%0A%0Aextern%20%22platform-intrinsic%22%20%7B%0A%20%20%20%20fn%20simd_add%3CT%3E(a%3A%20T%2C%20b%3A%20T)%20-%3E%20T%3B%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20unsafe%20%7B%20simd_add(0%2C%201)%3B%20%7D%0A%20%20%20%20%2F%2F%20error%3A%20invalid%20monomorphization%20of%20%60simd_add%60%20intrinsic%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>The generic type has to be a SIMD type. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">repr_simd</span>)]</span>
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">platform_intrinsics</span>)]</span>

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">simd</span>)]</span>
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Copy</span>, <span class="ident">Clone</span>)]</span>
<span class="kw">struct</span> <span class="ident">i32x2</span>(<span class="ident">i32</span>, <span class="ident">i32</span>);

<span class="kw">extern</span> <span class="string">&quot;platform-intrinsic&quot;</span> {
    <span class="kw">fn</span> <span class="ident">simd_add</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="ident">a</span>: <span class="ident">T</span>, <span class="ident">b</span>: <span class="ident">T</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">T</span>;
}

<span class="kw">unsafe</span> { <span class="ident">simd_add</span>(<span class="ident">i32x2</span>(<span class="number">0</span>, <span class="number">0</span>), <span class="ident">i32x2</span>(<span class="number">1</span>, <span class="number">2</span>)); } <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(repr_simd)%5D%0A%23!%5Bfeature(platform_intrinsics)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brepr(simd)%5D%0A%23%5Bderive(Copy%2C%20Clone)%5D%0Astruct%20i32x2(i32%2C%20i32)%3B%0A%0Aextern%20%22platform-intrinsic%22%20%7B%0A%20%20%20%20fn%20simd_add%3CT%3E(a%3A%20T%2C%20b%3A%20T)%20-%3E%20T%3B%0A%7D%0A%0Aunsafe%20%7B%20simd_add(i32x2(0%2C%200)%2C%20i32x2(1%2C%202))%3B%20%7D%20%2F%2F%20ok!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0512" class="section-header"><a href="#E0512">E0512</a></h2>
<p>Transmute with two differently sized types was attempted.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">takes_u8</span>(<span class="kw">_</span>: <span class="ident">u8</span>) {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">unsafe</span> { <span class="ident">takes_u8</span>(::<span class="ident">std</span>::<span class="ident">mem</span>::<span class="ident">transmute</span>(<span class="number">0u16</span>)); }
    <span class="comment">// error: cannot transmute between types of different sizes,</span>
    <span class="comment">//        or dependently-sized types</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20takes_u8(_%3A%20u8)%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20unsafe%20%7B%20takes_u8(%3A%3Astd%3A%3Amem%3A%3Atransmute(0u16))%3B%20%7D%0A%20%20%20%20%2F%2F%20error%3A%20cannot%20transmute%20between%20types%20of%20different%20sizes%2C%0A%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20or%20dependently-sized%20types%0A%7D&amp;edition=2015">Run</a></div>
<p>Please use types with same size or use the expected type directly. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">takes_u8</span>(<span class="kw">_</span>: <span class="ident">u8</span>) {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">unsafe</span> { <span class="ident">takes_u8</span>(::<span class="ident">std</span>::<span class="ident">mem</span>::<span class="ident">transmute</span>(<span class="number">0i8</span>)); } <span class="comment">// ok!</span>
    <span class="comment">// or:</span>
    <span class="kw">unsafe</span> { <span class="ident">takes_u8</span>(<span class="number">0u8</span>); } <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20takes_u8(_%3A%20u8)%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20unsafe%20%7B%20takes_u8(%3A%3Astd%3A%3Amem%3A%3Atransmute(0i8))%3B%20%7D%20%2F%2F%20ok!%0A%20%20%20%20%2F%2F%20or%3A%0A%20%20%20%20unsafe%20%7B%20takes_u8(0u8)%3B%20%7D%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-undescribed"><h2 id="E0514" class="section-header"><a href="#E0514">E0514</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0515" class="section-header"><a href="#E0515">E0515</a></h2>
<p>A reference to a local variable was returned.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">get_dangling_reference</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">i32</span> {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">0</span>;
    <span class="kw-2">&amp;</span><span class="ident">x</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20get_dangling_reference()%20-%3E%20%26'static%20i32%20%7B%0A%20%20%20%20let%20x%20%3D%200%3B%0A%20%20%20%20%26x%0A%7D%0A%7D&amp;edition=2015">Run</a></div>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">slice</span>::<span class="ident">Iter</span>;
<span class="kw">fn</span> <span class="ident">get_dangling_iterator</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Iter</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="ident">i32</span><span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="ident">v</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];
    <span class="ident">v</span>.<span class="ident">iter</span>()
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aslice%3A%3AIter%3B%0Afn%20get_dangling_iterator%3C'a%3E()%20-%3E%20Iter%3C'a%2C%20i32%3E%20%7B%0A%20%20%20%20let%20v%20%3D%20vec!%5B1%2C%202%2C%203%5D%3B%0A%20%20%20%20v.iter()%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Local variables, function parameters and temporaries are all dropped before the
end of the function body. So a reference to them cannot be returned.</p>
<p>Consider returning an owned value instead:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">vec</span>::<span class="ident">IntoIter</span>;

<span class="kw">fn</span> <span class="ident">get_integer</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i32</span> {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">0</span>;
    <span class="ident">x</span>
}

<span class="kw">fn</span> <span class="ident">get_owned_iterator</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">IntoIter</span><span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="ident">v</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];
    <span class="ident">v</span>.<span class="ident">into_iter</span>()
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Avec%3A%3AIntoIter%3B%0A%0Afn%20get_integer()%20-%3E%20i32%20%7B%0A%20%20%20%20let%20x%20%3D%200%3B%0A%20%20%20%20x%0A%7D%0A%0Afn%20get_owned_iterator()%20-%3E%20IntoIter%3Ci32%3E%20%7B%0A%20%20%20%20let%20v%20%3D%20vec!%5B1%2C%202%2C%203%5D%3B%0A%20%20%20%20v.into_iter()%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0516" class="section-header"><a href="#E0516">E0516</a></h2>
<p>The <code>typeof</code> keyword is currently reserved but unimplemented.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span>: <span class="kw">typeof</span>(<span class="number">92</span>) <span class="op">=</span> <span class="number">92</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%3A%20typeof(92)%20%3D%2092%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Try using type inference instead. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">92</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%2092%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0517" class="section-header"><a href="#E0517">E0517</a></h2>
<p>A <code>#[repr(..)]</code> attribute was placed on an unsupported item.</p>
<p>Examples of erroneous code:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">C</span>)]</span>
<span class="kw">type</span> <span class="ident">Foo</span> <span class="op">=</span> <span class="ident">u8</span>;

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">packed</span>)]</span>
<span class="kw">enum</span> <span class="ident">Foo</span> {<span class="ident">Bar</span>, <span class="ident">Baz</span>}

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">u8</span>)]</span>
<span class="kw">struct</span> <span class="ident">Foo</span> {<span class="ident">bar</span>: <span class="ident">bool</span>, <span class="ident">baz</span>: <span class="ident">bool</span>}

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">C</span>)]</span>
<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(C)%5D%0Atype%20Foo%20%3D%20u8%3B%0A%0A%23%5Brepr(packed)%5D%0Aenum%20Foo%20%7BBar%2C%20Baz%7D%0A%0A%23%5Brepr(u8)%5D%0Astruct%20Foo%20%7Bbar%3A%20bool%2C%20baz%3A%20bool%7D%0A%0A%23%5Brepr(C)%5D%0Aimpl%20Foo%20%7B%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<ul>
<li>The <code>#[repr(C)]</code> attribute can only be placed on structs and enums.</li>
<li>The <code>#[repr(packed)]</code> and <code>#[repr(simd)]</code> attributes only work on structs.</li>
<li>The <code>#[repr(u8)]</code>, <code>#[repr(i16)]</code>, etc attributes only work on enums.</li>
</ul>
<p>These attributes do not work on typedefs, since typedefs are just aliases.</p>
<p>Representations like <code>#[repr(u8)]</code>, <code>#[repr(i64)]</code> are for selecting the
discriminant size for enums with no data fields on any of the variants, e.g.
<code>enum Color {Red, Blue, Green}</code>, effectively setting the size of the enum to
the size of the provided type. Such an enum can be cast to a value of the same
type as well. In short, <code>#[repr(u8)]</code> makes the enum behave like an integer
with a constrained set of allowed values.</p>
<p>Only field-less enums can be cast to numerical primitives, so this attribute
will not apply to structs.</p>
<p><code>#[repr(packed)]</code> reduces padding to make the struct size smaller. The
representation of enums isn’t strictly defined in Rust, and this attribute
won’t work on enums.</p>
<p><code>#[repr(simd)]</code> will give a struct consisting of a homogeneous series of machine
types (i.e., <code>u8</code>, <code>i32</code>, etc) a representation that permits vectorization via
SIMD. This doesn’t make much sense for enums since they don’t consist of a
single list of data.</p>
</div>
<div class="error-described"><h2 id="E0518" class="section-header"><a href="#E0518">E0518</a></h2>
<p>An <code>#[inline(..)]</code> attribute was incorrectly placed on something other than a
function or method.</p>
<p>Example of erroneous code:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">inline</span>(<span class="ident">always</span>)]</span>
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="attribute">#[<span class="ident">inline</span>(<span class="ident">never</span>)]</span>
<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Binline(always)%5D%0Astruct%20Foo%3B%0A%0A%23%5Binline(never)%5D%0Aimpl%20Foo%20%7B%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p><code>#[inline]</code> hints the compiler whether or not to attempt to inline a method or
function. By default, the compiler does a pretty good job of figuring this out
itself, but if you feel the need for annotations, <code>#[inline(always)]</code> and
<code>#[inline(never)]</code> can override or force the compiler’s decision.</p>
<p>If you wish to apply this attribute to all methods in an impl, manually annotate
each method; it is not possible to annotate the entire impl with an <code>#[inline]</code>
attribute.</p>
</div>
<div class="error-undescribed"><h2 id="E0519" class="section-header"><a href="#E0519">E0519</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0520" class="section-header"><a href="#E0520">E0520</a></h2>
<p>A non-default implementation was already made on this type so it cannot be
specialized further.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">specialization</span>)]</span>

<span class="kw">trait</span> <span class="ident">SpaceLlama</span> {
    <span class="kw">fn</span> <span class="ident">fly</span>(<span class="kw-2">&amp;</span><span class="self">self</span>);
}

<span class="comment">// applies to all T</span>
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">SpaceLlama</span> <span class="kw">for</span> <span class="ident">T</span> {
    <span class="ident">default</span> <span class="kw">fn</span> <span class="ident">fly</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}
}

<span class="comment">// non-default impl</span>
<span class="comment">// applies to all `Clone` T and overrides the previous impl</span>
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Clone</span><span class="op">&gt;</span> <span class="ident">SpaceLlama</span> <span class="kw">for</span> <span class="ident">T</span> {
    <span class="kw">fn</span> <span class="ident">fly</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}
}

<span class="comment">// since `i32` is clone, this conflicts with the previous implementation</span>
<span class="kw">impl</span> <span class="ident">SpaceLlama</span> <span class="kw">for</span> <span class="ident">i32</span> {
    <span class="ident">default</span> <span class="kw">fn</span> <span class="ident">fly</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}
    <span class="comment">// error: item `fly` is provided by an `impl` that specializes</span>
    <span class="comment">//        another, but the item in the parent `impl` is not marked</span>
    <span class="comment">//        `default` and so it cannot be specialized.</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(specialization)%5D%0A%0Afn%20main()%20%7B%0Atrait%20SpaceLlama%20%7B%0A%20%20%20%20fn%20fly(%26self)%3B%0A%7D%0A%0A%2F%2F%20applies%20to%20all%20T%0Aimpl%3CT%3E%20SpaceLlama%20for%20T%20%7B%0A%20%20%20%20default%20fn%20fly(%26self)%20%7B%7D%0A%7D%0A%0A%2F%2F%20non-default%20impl%0A%2F%2F%20applies%20to%20all%20%60Clone%60%20T%20and%20overrides%20the%20previous%20impl%0Aimpl%3CT%3A%20Clone%3E%20SpaceLlama%20for%20T%20%7B%0A%20%20%20%20fn%20fly(%26self)%20%7B%7D%0A%7D%0A%0A%2F%2F%20since%20%60i32%60%20is%20clone%2C%20this%20conflicts%20with%20the%20previous%20implementation%0Aimpl%20SpaceLlama%20for%20i32%20%7B%0A%20%20%20%20default%20fn%20fly(%26self)%20%7B%7D%0A%20%20%20%20%2F%2F%20error%3A%20item%20%60fly%60%20is%20provided%20by%20an%20%60impl%60%20that%20specializes%0A%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20another%2C%20but%20the%20item%20in%20the%20parent%20%60impl%60%20is%20not%20marked%0A%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%60default%60%20and%20so%20it%20cannot%20be%20specialized.%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Specialization only allows you to override <code>default</code> functions in
implementations.</p>
<p>To fix this error, you need to mark all the parent implementations as default.
Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">specialization</span>)]</span>

<span class="kw">trait</span> <span class="ident">SpaceLlama</span> {
    <span class="kw">fn</span> <span class="ident">fly</span>(<span class="kw-2">&amp;</span><span class="self">self</span>);
}

<span class="comment">// applies to all T</span>
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">SpaceLlama</span> <span class="kw">for</span> <span class="ident">T</span> {
    <span class="ident">default</span> <span class="kw">fn</span> <span class="ident">fly</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {} <span class="comment">// This is a parent implementation.</span>
}

<span class="comment">// applies to all `Clone` T; overrides the previous impl</span>
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Clone</span><span class="op">&gt;</span> <span class="ident">SpaceLlama</span> <span class="kw">for</span> <span class="ident">T</span> {
    <span class="ident">default</span> <span class="kw">fn</span> <span class="ident">fly</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {} <span class="comment">// This is a parent implementation but was</span>
                             <span class="comment">// previously not a default one, causing the error</span>
}

<span class="comment">// applies to i32, overrides the previous two impls</span>
<span class="kw">impl</span> <span class="ident">SpaceLlama</span> <span class="kw">for</span> <span class="ident">i32</span> {
    <span class="kw">fn</span> <span class="ident">fly</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {} <span class="comment">// And now that&#39;s ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(specialization)%5D%0A%0Afn%20main()%20%7B%0Atrait%20SpaceLlama%20%7B%0A%20%20%20%20fn%20fly(%26self)%3B%0A%7D%0A%0A%2F%2F%20applies%20to%20all%20T%0Aimpl%3CT%3E%20SpaceLlama%20for%20T%20%7B%0A%20%20%20%20default%20fn%20fly(%26self)%20%7B%7D%20%2F%2F%20This%20is%20a%20parent%20implementation.%0A%7D%0A%0A%2F%2F%20applies%20to%20all%20%60Clone%60%20T%3B%20overrides%20the%20previous%20impl%0Aimpl%3CT%3A%20Clone%3E%20SpaceLlama%20for%20T%20%7B%0A%20%20%20%20default%20fn%20fly(%26self)%20%7B%7D%20%2F%2F%20This%20is%20a%20parent%20implementation%20but%20was%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20previously%20not%20a%20default%20one%2C%20causing%20the%20error%0A%7D%0A%0A%2F%2F%20applies%20to%20i32%2C%20overrides%20the%20previous%20two%20impls%0Aimpl%20SpaceLlama%20for%20i32%20%7B%0A%20%20%20%20fn%20fly(%26self)%20%7B%7D%20%2F%2F%20And%20now%20that's%20ok!%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0521" class="section-header"><a href="#E0521">E0521</a></h2>
<p>Borrowed data escapes outside of closure.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">list</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="ident">str</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">Vec</span>::<span class="ident">new</span>();

<span class="kw">let</span> <span class="ident">_add</span> <span class="op">=</span> <span class="op">|</span><span class="ident">el</span>: <span class="kw-2">&amp;</span><span class="ident">str</span><span class="op">|</span> {
    <span class="ident">list</span>.<span class="ident">push</span>(<span class="ident">el</span>); <span class="comment">// error: `el` escapes the closure body here</span>
};</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20list%3A%20Vec%3C%26str%3E%20%3D%20Vec%3A%3Anew()%3B%0A%0Alet%20_add%20%3D%20%7Cel%3A%20%26str%7C%20%7B%0A%20%20%20%20list.push(el)%3B%20%2F%2F%20error%3A%20%60el%60%20escapes%20the%20closure%20body%20here%0A%7D%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>A type anotation of a closure parameter implies a new lifetime declaration.
Consider to drop it, the compiler is reliably able to infer them.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">list</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="ident">str</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">Vec</span>::<span class="ident">new</span>();

<span class="kw">let</span> <span class="ident">_add</span> <span class="op">=</span> <span class="op">|</span><span class="ident">el</span><span class="op">|</span> {
    <span class="ident">list</span>.<span class="ident">push</span>(<span class="ident">el</span>);
};</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20list%3A%20Vec%3C%26str%3E%20%3D%20Vec%3A%3Anew()%3B%0A%0Alet%20_add%20%3D%20%7Cel%7C%20%7B%0A%20%20%20%20list.push(el)%3B%0A%7D%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>See the <a href="https://doc.rust-lang.org/book/ch13-01-closures.html#closure-type-inference-and-annotation">Closure type inference and annotation</a> and
<a href="https://doc.rust-lang.org/reference/lifetime-elision.html">Lifetime elision</a> sections of the Book for more details.</p>
</div>
<div class="error-described"><h2 id="E0522" class="section-header"><a href="#E0522">E0522</a></h2>
<p>The lang attribute was used in an invalid context.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">lang_items</span>)]</span>

<span class="attribute">#[<span class="ident">lang</span> <span class="op">=</span> <span class="string">&quot;cookie&quot;</span>]</span>
<span class="kw">fn</span> <span class="ident">cookie</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="op">!</span> { <span class="comment">// error: definition of an unknown language item: `cookie`</span>
    <span class="kw">loop</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(lang_items)%5D%0A%0Afn%20main()%20%7B%0A%23%5Blang%20%3D%20%22cookie%22%5D%0Afn%20cookie()%20-%3E%20!%20%7B%20%2F%2F%20error%3A%20definition%20of%20an%20unknown%20language%20item%3A%20%60cookie%60%0A%20%20%20%20loop%20%7B%7D%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>The lang attribute is intended for marking special items that are built-in to
Rust itself. This includes special traits (like <code>Copy</code> and <code>Sized</code>) that affect
how the compiler behaves, as well as special functions that may be automatically
invoked (such as the handler for out-of-bounds accesses when indexing a slice).</p>
</div>
<div class="error-undescribed"><h2 id="E0523" class="section-header"><a href="#E0523">E0523</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0524" class="section-header"><a href="#E0524">E0524</a></h2>
<p>A variable which requires unique access is being used in more than one closure
at the same time.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">set</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">isize</span>) {
    <span class="kw-2">*</span><span class="ident">x</span> <span class="op">+</span><span class="op">=</span> <span class="number">4</span>;
}

<span class="kw">fn</span> <span class="ident">dragoooon</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">isize</span>) {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">c1</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> <span class="ident">set</span>(<span class="ident">x</span>);
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">c2</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> <span class="ident">set</span>(<span class="ident">x</span>); <span class="comment">// error!</span>

    <span class="ident">c2</span>();
    <span class="ident">c1</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20set(x%3A%20%26mut%20isize)%20%7B%0A%20%20%20%20*x%20%2B%3D%204%3B%0A%7D%0A%0Afn%20dragoooon(x%3A%20%26mut%20isize)%20%7B%0A%20%20%20%20let%20mut%20c1%20%3D%20%7C%7C%20set(x)%3B%0A%20%20%20%20let%20mut%20c2%20%3D%20%7C%7C%20set(x)%3B%20%2F%2F%20error!%0A%0A%20%20%20%20c2()%3B%0A%20%20%20%20c1()%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To solve this issue, multiple solutions are available. First, is it required
for this variable to be used in more than one closure at a time? If it is the
case, use reference counted types such as <code>Rc</code> (or <code>Arc</code> if it runs
concurrently):</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">rc</span>::<span class="ident">Rc</span>;
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">cell</span>::<span class="ident">RefCell</span>;

<span class="kw">fn</span> <span class="ident">set</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">isize</span>) {
    <span class="kw-2">*</span><span class="ident">x</span> <span class="op">+</span><span class="op">=</span> <span class="number">4</span>;
}

<span class="kw">fn</span> <span class="ident">dragoooon</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">isize</span>) {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Rc</span>::<span class="ident">new</span>(<span class="ident">RefCell</span>::<span class="ident">new</span>(<span class="ident">x</span>));
    <span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="ident">Rc</span>::<span class="ident">clone</span>(<span class="kw-2">&amp;</span><span class="ident">x</span>);
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">c1</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x2</span> <span class="op">=</span> <span class="ident">x</span>.<span class="ident">borrow_mut</span>(); <span class="ident">set</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">x2</span>); };
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">c2</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> { <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x2</span> <span class="op">=</span> <span class="ident">y</span>.<span class="ident">borrow_mut</span>(); <span class="ident">set</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">x2</span>); }; <span class="comment">// ok!</span>

    <span class="ident">c2</span>();
    <span class="ident">c1</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Arc%3A%3ARc%3B%0Ause%20std%3A%3Acell%3A%3ARefCell%3B%0A%0Afn%20set(x%3A%20%26mut%20isize)%20%7B%0A%20%20%20%20*x%20%2B%3D%204%3B%0A%7D%0A%0Afn%20dragoooon(x%3A%20%26mut%20isize)%20%7B%0A%20%20%20%20let%20x%20%3D%20Rc%3A%3Anew(RefCell%3A%3Anew(x))%3B%0A%20%20%20%20let%20y%20%3D%20Rc%3A%3Aclone(%26x)%3B%0A%20%20%20%20let%20mut%20c1%20%3D%20%7C%7C%20%7B%20let%20mut%20x2%20%3D%20x.borrow_mut()%3B%20set(%26mut%20x2)%3B%20%7D%3B%0A%20%20%20%20let%20mut%20c2%20%3D%20%7C%7C%20%7B%20let%20mut%20x2%20%3D%20y.borrow_mut()%3B%20set(%26mut%20x2)%3B%20%7D%3B%20%2F%2F%20ok!%0A%0A%20%20%20%20c2()%3B%0A%20%20%20%20c1()%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>If not, just run closures one at a time:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">set</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">isize</span>) {
    <span class="kw-2">*</span><span class="ident">x</span> <span class="op">+</span><span class="op">=</span> <span class="number">4</span>;
}

<span class="kw">fn</span> <span class="ident">dragoooon</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">isize</span>) {
    { <span class="comment">// This block isn&#39;t necessary since non-lexical lifetimes, it&#39;s just to</span>
      <span class="comment">// make it more clear.</span>
        <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">c1</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> <span class="ident">set</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="kw-2">*</span><span class="ident">x</span>);
        <span class="ident">c1</span>();
    } <span class="comment">// `c1` has been dropped here so we&#39;re free to use `x` again!</span>
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">c2</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> <span class="ident">set</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="kw-2">*</span><span class="ident">x</span>);
    <span class="ident">c2</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20set(x%3A%20%26mut%20isize)%20%7B%0A%20%20%20%20*x%20%2B%3D%204%3B%0A%7D%0A%0Afn%20dragoooon(x%3A%20%26mut%20isize)%20%7B%0A%20%20%20%20%7B%20%2F%2F%20This%20block%20isn't%20necessary%20since%20non-lexical%20lifetimes%2C%20it's%20just%20to%0A%20%20%20%20%20%20%2F%2F%20make%20it%20more%20clear.%0A%20%20%20%20%20%20%20%20let%20mut%20c1%20%3D%20%7C%7C%20set(%26mut%20*x)%3B%0A%20%20%20%20%20%20%20%20c1()%3B%0A%20%20%20%20%7D%20%2F%2F%20%60c1%60%20has%20been%20dropped%20here%20so%20we're%20free%20to%20use%20%60x%60%20again!%0A%20%20%20%20let%20mut%20c2%20%3D%20%7C%7C%20set(%26mut%20*x)%3B%0A%20%20%20%20c2()%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0525" class="section-header"><a href="#E0525">E0525</a></h2>
<p>A closure was used but didn’t implement the expected trait.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">X</span>;

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="kw">_</span>: <span class="ident">T</span>) {}
<span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Fn</span>(<span class="ident">u32</span>)<span class="op">&gt;</span>(<span class="kw">_</span>: <span class="ident">T</span>) {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">X</span>;
    <span class="kw">let</span> <span class="ident">closure</span> <span class="op">=</span> <span class="op">|</span><span class="kw">_</span><span class="op">|</span> <span class="ident">foo</span>(<span class="ident">x</span>); <span class="comment">// error: expected a closure that implements</span>
                              <span class="comment">//        the `Fn` trait, but this closure only</span>
                              <span class="comment">//        implements `FnOnce`</span>
    <span class="ident">bar</span>(<span class="ident">closure</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Astruct%20X%3B%0A%0Afn%20foo%3CT%3E(_%3A%20T)%20%7B%7D%0Afn%20bar%3CT%3A%20Fn(u32)%3E(_%3A%20T)%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%20X%3B%0A%20%20%20%20let%20closure%20%3D%20%7C_%7C%20foo(x)%3B%20%2F%2F%20error%3A%20expected%20a%20closure%20that%20implements%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20the%20%60Fn%60%20trait%2C%20but%20this%20closure%20only%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20implements%20%60FnOnce%60%0A%20%20%20%20bar(closure)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>In the example above, <code>closure</code> is an <code>FnOnce</code> closure whereas the <code>bar</code>
function expected an <code>Fn</code> closure. In this case, it’s simple to fix the issue,
you just have to implement <code>Copy</code> and <code>Clone</code> traits on <code>struct X</code> and it’ll
be ok:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>, <span class="ident">Copy</span>)]</span> <span class="comment">// We implement `Clone` and `Copy` traits.</span>
<span class="kw">struct</span> <span class="ident">X</span>;

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>(<span class="kw">_</span>: <span class="ident">T</span>) {}
<span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Fn</span>(<span class="ident">u32</span>)<span class="op">&gt;</span>(<span class="kw">_</span>: <span class="ident">T</span>) {}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">X</span>;
    <span class="kw">let</span> <span class="ident">closure</span> <span class="op">=</span> <span class="op">|</span><span class="kw">_</span><span class="op">|</span> <span class="ident">foo</span>(<span class="ident">x</span>);
    <span class="ident">bar</span>(<span class="ident">closure</span>); <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Bderive(Clone%2C%20Copy)%5D%20%2F%2F%20We%20implement%20%60Clone%60%20and%20%60Copy%60%20traits.%0Astruct%20X%3B%0A%0Afn%20foo%3CT%3E(_%3A%20T)%20%7B%7D%0Afn%20bar%3CT%3A%20Fn(u32)%3E(_%3A%20T)%20%7B%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20x%20%3D%20X%3B%0A%20%20%20%20let%20closure%20%3D%20%7C_%7C%20foo(x)%3B%0A%20%20%20%20bar(closure)%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>To better understand how these work in Rust, read the <a href="https://doc.rust-lang.org/book/ch13-01-closures.html">Closures</a>
chapter of the Book.</p>
</div>
<div class="error-described"><h2 id="E0527" class="section-header"><a href="#E0527">E0527</a></h2>
<p>The number of elements in an array or slice pattern differed from the number of
elements in the array being matched.</p>
<p>Example of erroneous code:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">r</span> <span class="op">=</span> <span class="kw-2">&amp;</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];
<span class="kw">match</span> <span class="ident">r</span> {
    <span class="kw-2">&amp;</span>[<span class="ident">a</span>, <span class="ident">b</span>] <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">// error: pattern requires 2 elements but array</span>
                 <span class="comment">//        has 4</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;a={}, b={}&quot;</span>, <span class="ident">a</span>, <span class="ident">b</span>);
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20r%20%3D%20%26%5B1%2C%202%2C%203%2C%204%5D%3B%0Amatch%20r%20%7B%0A%20%20%20%20%26%5Ba%2C%20b%5D%20%3D%3E%20%7B%20%2F%2F%20error%3A%20pattern%20requires%202%20elements%20but%20array%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20has%204%0A%20%20%20%20%20%20%20%20println!(%22a%3D%7B%7D%2C%20b%3D%7B%7D%22%2C%20a%2C%20b)%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Ensure that the pattern is consistent with the size of the matched
array. Additional elements can be matched with <code>..</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">r</span> <span class="op">=</span> <span class="kw-2">&amp;</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];
<span class="kw">match</span> <span class="ident">r</span> {
    <span class="kw-2">&amp;</span>[<span class="ident">a</span>, <span class="ident">b</span>, ..] <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">// ok!</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;a={}, b={}&quot;</span>, <span class="ident">a</span>, <span class="ident">b</span>);
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20r%20%3D%20%26%5B1%2C%202%2C%203%2C%204%5D%3B%0Amatch%20r%20%7B%0A%20%20%20%20%26%5Ba%2C%20b%2C%20..%5D%20%3D%3E%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20println!(%22a%3D%7B%7D%2C%20b%3D%7B%7D%22%2C%20a%2C%20b)%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0528" class="section-header"><a href="#E0528">E0528</a></h2>
<p>An array or slice pattern required more elements than were present in the
matched array.</p>
<p>Example of erroneous code:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">r</span> <span class="op">=</span> <span class="kw-2">&amp;</span>[<span class="number">1</span>, <span class="number">2</span>];
<span class="kw">match</span> <span class="ident">r</span> {
    <span class="kw-2">&amp;</span>[<span class="ident">a</span>, <span class="ident">b</span>, <span class="ident">c</span>, <span class="ident">rest</span> @ ..] <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">// error: pattern requires at least 3</span>
                               <span class="comment">//        elements but array has 2</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;a={}, b={}, c={} rest={:?}&quot;</span>, <span class="ident">a</span>, <span class="ident">b</span>, <span class="ident">c</span>, <span class="ident">rest</span>);
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20r%20%3D%20%26%5B1%2C%202%5D%3B%0Amatch%20r%20%7B%0A%20%20%20%20%26%5Ba%2C%20b%2C%20c%2C%20rest%20%40%20..%5D%20%3D%3E%20%7B%20%2F%2F%20error%3A%20pattern%20requires%20at%20least%203%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20elements%20but%20array%20has%202%0A%20%20%20%20%20%20%20%20println!(%22a%3D%7B%7D%2C%20b%3D%7B%7D%2C%20c%3D%7B%7D%20rest%3D%7B%3A%3F%7D%22%2C%20a%2C%20b%2C%20c%2C%20rest)%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Ensure that the matched array has at least as many elements as the pattern
requires. You can match an arbitrary number of remaining elements with <code>..</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">r</span> <span class="op">=</span> <span class="kw-2">&amp;</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];
<span class="kw">match</span> <span class="ident">r</span> {
    <span class="kw-2">&amp;</span>[<span class="ident">a</span>, <span class="ident">b</span>, <span class="ident">c</span>, <span class="ident">rest</span> @ ..] <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">// ok!</span>
        <span class="comment">// prints `a=1, b=2, c=3 rest=[4, 5]`</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;a={}, b={}, c={} rest={:?}&quot;</span>, <span class="ident">a</span>, <span class="ident">b</span>, <span class="ident">c</span>, <span class="ident">rest</span>);
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20r%20%3D%20%26%5B1%2C%202%2C%203%2C%204%2C%205%5D%3B%0Amatch%20r%20%7B%0A%20%20%20%20%26%5Ba%2C%20b%2C%20c%2C%20rest%20%40%20..%5D%20%3D%3E%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20%2F%2F%20prints%20%60a%3D1%2C%20b%3D2%2C%20c%3D3%20rest%3D%5B4%2C%205%5D%60%0A%20%20%20%20%20%20%20%20println!(%22a%3D%7B%7D%2C%20b%3D%7B%7D%2C%20c%3D%7B%7D%20rest%3D%7B%3A%3F%7D%22%2C%20a%2C%20b%2C%20c%2C%20rest)%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0529" class="section-header"><a href="#E0529">E0529</a></h2>
<p>An array or slice pattern was matched against some other type.</p>
<p>Example of erroneous code:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">r</span>: <span class="ident">f32</span> <span class="op">=</span> <span class="number">1.0</span>;
<span class="kw">match</span> <span class="ident">r</span> {
    [<span class="ident">a</span>, <span class="ident">b</span>] <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">// error: expected an array or slice, found `f32`</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;a={}, b={}&quot;</span>, <span class="ident">a</span>, <span class="ident">b</span>);
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20r%3A%20f32%20%3D%201.0%3B%0Amatch%20r%20%7B%0A%20%20%20%20%5Ba%2C%20b%5D%20%3D%3E%20%7B%20%2F%2F%20error%3A%20expected%20an%20array%20or%20slice%2C%20found%20%60f32%60%0A%20%20%20%20%20%20%20%20println!(%22a%3D%7B%7D%2C%20b%3D%7B%7D%22%2C%20a%2C%20b)%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Ensure that the pattern and the expression being matched on are of consistent
types:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">r</span> <span class="op">=</span> [<span class="number">1.0</span>, <span class="number">2.0</span>];
<span class="kw">match</span> <span class="ident">r</span> {
    [<span class="ident">a</span>, <span class="ident">b</span>] <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">// ok!</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;a={}, b={}&quot;</span>, <span class="ident">a</span>, <span class="ident">b</span>);
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20r%20%3D%20%5B1.0%2C%202.0%5D%3B%0Amatch%20r%20%7B%0A%20%20%20%20%5Ba%2C%20b%5D%20%3D%3E%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20println!(%22a%3D%7B%7D%2C%20b%3D%7B%7D%22%2C%20a%2C%20b)%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0530" class="section-header"><a href="#E0530">E0530</a></h2>
<p>A binding shadowed something it shouldn’t.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">static</span> <span class="ident">TEST</span>: <span class="ident">i32</span> <span class="op">=</span> <span class="number">0</span>;

<span class="kw">let</span> <span class="ident">r</span>: (<span class="ident">i32</span>, <span class="ident">i32</span>) <span class="op">=</span> (<span class="number">0</span>, <span class="number">0</span>);
<span class="kw">match</span> <span class="ident">r</span> {
    <span class="ident">TEST</span> <span class="op">=</span><span class="op">&gt;</span> {} <span class="comment">// error: match bindings cannot shadow statics</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astatic%20TEST%3A%20i32%20%3D%200%3B%0A%0Alet%20r%3A%20(i32%2C%20i32)%20%3D%20(0%2C%200)%3B%0Amatch%20r%20%7B%0A%20%20%20%20TEST%20%3D%3E%20%7B%7D%20%2F%2F%20error%3A%20match%20bindings%20cannot%20shadow%20statics%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, just change the binding’s name in order to avoid shadowing
one of the following:</p>
<ul>
<li>struct name</li>
<li>struct/enum variant</li>
<li>static</li>
<li>const</li>
<li>associated const</li>
</ul>
<p>Fixed example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">static</span> <span class="ident">TEST</span>: <span class="ident">i32</span> <span class="op">=</span> <span class="number">0</span>;

<span class="kw">let</span> <span class="ident">r</span>: (<span class="ident">i32</span>, <span class="ident">i32</span>) <span class="op">=</span> (<span class="number">0</span>, <span class="number">0</span>);
<span class="kw">match</span> <span class="ident">r</span> {
    <span class="ident">something</span> <span class="op">=</span><span class="op">&gt;</span> {} <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astatic%20TEST%3A%20i32%20%3D%200%3B%0A%0Alet%20r%3A%20(i32%2C%20i32)%20%3D%20(0%2C%200)%3B%0Amatch%20r%20%7B%0A%20%20%20%20something%20%3D%3E%20%7B%7D%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0531" class="section-header"><a href="#E0531">E0531</a></h2>
<p>An unknown tuple struct/variant has been used.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">Type</span>(<span class="ident">x</span>) <span class="op">=</span> <span class="ident">Type</span>(<span class="number">12</span>); <span class="comment">// error!</span>
<span class="kw">match</span> <span class="ident">Bar</span>(<span class="number">12</span>) {
    <span class="ident">Bar</span>(<span class="ident">x</span>) <span class="op">=</span><span class="op">&gt;</span> {} <span class="comment">// error!</span>
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20Type(x)%20%3D%20Type(12)%3B%20%2F%2F%20error!%0Amatch%20Bar(12)%20%7B%0A%20%20%20%20Bar(x)%20%3D%3E%20%7B%7D%20%2F%2F%20error!%0A%20%20%20%20_%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In most cases, it’s either a forgotten import or a typo. However, let’s look at
how you can have such a type:</p>

<div class='information'><div class='tooltip edition' data-edition="2018">ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered edition">
<span class="kw">struct</span> <span class="ident">Type</span>(<span class="ident">u32</span>); <span class="comment">// this is a tuple struct</span>

<span class="kw">enum</span> <span class="ident">Foo</span> {
    <span class="ident">Bar</span>(<span class="ident">u32</span>), <span class="comment">// this is a tuple variant</span>
}

<span class="kw">use</span> <span class="ident">Foo</span>::<span class="kw-2">*</span>; <span class="comment">// To use Foo&#39;s variant directly, we need to import them in</span>
            <span class="comment">// the scope.</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Type(u32)%3B%20%2F%2F%20this%20is%20a%20tuple%20struct%0A%0Aenum%20Foo%20%7B%0A%20%20%20%20Bar(u32)%2C%20%2F%2F%20this%20is%20a%20tuple%20variant%0A%7D%0A%0Ause%20Foo%3A%3A*%3B%20%2F%2F%20To%20use%20Foo's%20variant%20directly%2C%20we%20need%20to%20import%20them%20in%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20the%20scope.%0A%7D&amp;edition=2018">Run</a></div>
<p>Either way, it should work fine with our previous code:</p>

<div class='information'><div class='tooltip edition' data-edition="2018">ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered edition">
<span class="kw">struct</span> <span class="ident">Type</span>(<span class="ident">u32</span>);

<span class="kw">enum</span> <span class="ident">Foo</span> {
    <span class="ident">Bar</span>(<span class="ident">u32</span>),
}
<span class="kw">use</span> <span class="ident">Foo</span>::<span class="kw-2">*</span>;

<span class="kw">let</span> <span class="ident">Type</span>(<span class="ident">x</span>) <span class="op">=</span> <span class="ident">Type</span>(<span class="number">12</span>); <span class="comment">// ok!</span>
<span class="kw">match</span> <span class="ident">Type</span>(<span class="number">12</span>) {
    <span class="ident">Type</span>(<span class="ident">x</span>) <span class="op">=</span><span class="op">&gt;</span> {} <span class="comment">// ok!</span>
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Type(u32)%3B%0A%0Aenum%20Foo%20%7B%0A%20%20%20%20Bar(u32)%2C%0A%7D%0Ause%20Foo%3A%3A*%3B%0A%0Alet%20Type(x)%20%3D%20Type(12)%3B%20%2F%2F%20ok!%0Amatch%20Type(12)%20%7B%0A%20%20%20%20Type(x)%20%3D%3E%20%7B%7D%20%2F%2F%20ok!%0A%20%20%20%20_%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
</div>
<div class="error-described"><h2 id="E0532" class="section-header"><a href="#E0532">E0532</a></h2>
<p>Pattern arm did not match expected kind.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">State</span> {
    <span class="ident">Succeeded</span>,
    <span class="ident">Failed</span>(<span class="ident">String</span>),
}

<span class="kw">fn</span> <span class="ident">print_on_failure</span>(<span class="ident">state</span>: <span class="kw-2">&amp;</span><span class="ident">State</span>) {
    <span class="kw">match</span> <span class="kw-2">*</span><span class="ident">state</span> {
        <span class="comment">// error: expected unit struct, unit variant or constant, found tuple</span>
        <span class="comment">//        variant `State::Failed`</span>
        <span class="ident">State</span>::<span class="ident">Failed</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Failed&quot;</span>),
        <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> ()
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20State%20%7B%0A%20%20%20%20Succeeded%2C%0A%20%20%20%20Failed(String)%2C%0A%7D%0A%0Afn%20print_on_failure(state%3A%20%26State)%20%7B%0A%20%20%20%20match%20*state%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20error%3A%20expected%20unit%20struct%2C%20unit%20variant%20or%20constant%2C%20found%20tuple%0A%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20variant%20%60State%3A%3AFailed%60%0A%20%20%20%20%20%20%20%20State%3A%3AFailed%20%3D%3E%20println!(%22Failed%22)%2C%0A%20%20%20%20%20%20%20%20_%20%3D%3E%20()%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, ensure the match arm kind is the same as the expression
matched.</p>
<p>Fixed example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">State</span> {
    <span class="ident">Succeeded</span>,
    <span class="ident">Failed</span>(<span class="ident">String</span>),
}

<span class="kw">fn</span> <span class="ident">print_on_failure</span>(<span class="ident">state</span>: <span class="kw-2">&amp;</span><span class="ident">State</span>) {
    <span class="kw">match</span> <span class="kw-2">*</span><span class="ident">state</span> {
        <span class="ident">State</span>::<span class="ident">Failed</span>(<span class="kw-2">ref</span> <span class="ident">msg</span>) <span class="op">=</span><span class="op">&gt;</span> <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Failed with {}&quot;</span>, <span class="ident">msg</span>),
        <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> ()
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20State%20%7B%0A%20%20%20%20Succeeded%2C%0A%20%20%20%20Failed(String)%2C%0A%7D%0A%0Afn%20print_on_failure(state%3A%20%26State)%20%7B%0A%20%20%20%20match%20*state%20%7B%0A%20%20%20%20%20%20%20%20State%3A%3AFailed(ref%20msg)%20%3D%3E%20println!(%22Failed%20with%20%7B%7D%22%2C%20msg)%2C%0A%20%20%20%20%20%20%20%20_%20%3D%3E%20()%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0533" class="section-header"><a href="#E0533">E0533</a></h2>
<p>An item which isn’t a unit struct, a variant, nor a constant has been used as a
match pattern.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Tortoise</span>;

<span class="kw">impl</span> <span class="ident">Tortoise</span> {
    <span class="kw">fn</span> <span class="ident">turtle</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u32</span> { <span class="number">0</span> }
}

<span class="kw">match</span> <span class="number">0u32</span> {
    <span class="ident">Tortoise</span>::<span class="ident">turtle</span> <span class="op">=</span><span class="op">&gt;</span> {} <span class="comment">// Error!</span>
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> {}
}
<span class="kw">if</span> <span class="kw">let</span> <span class="ident">Tortoise</span>::<span class="ident">turtle</span> <span class="op">=</span> <span class="number">0u32</span> {} <span class="comment">// Same error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Tortoise%3B%0A%0Aimpl%20Tortoise%20%7B%0A%20%20%20%20fn%20turtle(%26self)%20-%3E%20u32%20%7B%200%20%7D%0A%7D%0A%0Amatch%200u32%20%7B%0A%20%20%20%20Tortoise%3A%3Aturtle%20%3D%3E%20%7B%7D%20%2F%2F%20Error!%0A%20%20%20%20_%20%3D%3E%20%7B%7D%0A%7D%0Aif%20let%20Tortoise%3A%3Aturtle%20%3D%200u32%20%7B%7D%20%2F%2F%20Same%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>If you want to match against a value returned by a method, you need to bind the
value first:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Tortoise</span>;

<span class="kw">impl</span> <span class="ident">Tortoise</span> {
    <span class="kw">fn</span> <span class="ident">turtle</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u32</span> { <span class="number">0</span> }
}

<span class="kw">match</span> <span class="number">0u32</span> {
    <span class="ident">x</span> <span class="kw">if</span> <span class="ident">x</span> <span class="op">=</span><span class="op">=</span> <span class="ident">Tortoise</span>.<span class="ident">turtle</span>() <span class="op">=</span><span class="op">&gt;</span> {} <span class="comment">// Bound into `x` then we compare it!</span>
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Tortoise%3B%0A%0Aimpl%20Tortoise%20%7B%0A%20%20%20%20fn%20turtle(%26self)%20-%3E%20u32%20%7B%200%20%7D%0A%7D%0A%0Amatch%200u32%20%7B%0A%20%20%20%20x%20if%20x%20%3D%3D%20Tortoise.turtle()%20%3D%3E%20%7B%7D%20%2F%2F%20Bound%20into%20%60x%60%20then%20we%20compare%20it!%0A%20%20%20%20_%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0534" class="section-header"><a href="#E0534">E0534</a></h2>
<p>The <code>inline</code> attribute was malformed.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">inline</span>()]</span> <span class="comment">// error: expected one argument</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">something</span>() {}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Binline()%5D%20%2F%2F%20error%3A%20expected%20one%20argument%0Apub%20fn%20something()%20%7B%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>The parenthesized <code>inline</code> attribute requires the parameter to be specified:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">inline</span>(<span class="ident">always</span>)]</span>
<span class="kw">fn</span> <span class="ident">something</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Binline(always)%5D%0Afn%20something()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>or:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">inline</span>(<span class="ident">never</span>)]</span>
<span class="kw">fn</span> <span class="ident">something</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Binline(never)%5D%0Afn%20something()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Alternatively, a paren-less version of the attribute may be used to hint the
compiler about inlining opportunity:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">inline</span>]</span>
<span class="kw">fn</span> <span class="ident">something</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Binline%5D%0Afn%20something()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>For more information see the <a href="https://doc.rust-lang.org/reference/attributes/codegen.html#the-inline-attribute"><code>inline</code> attribute</a> section
of the Reference.</p>
</div>
<div class="error-described"><h2 id="E0535" class="section-header"><a href="#E0535">E0535</a></h2>
<p>An unknown argument was given to the <code>inline</code> attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">inline</span>(<span class="ident">unknown</span>)]</span> <span class="comment">// error: invalid argument</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">something</span>() {}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Binline(unknown)%5D%20%2F%2F%20error%3A%20invalid%20argument%0Apub%20fn%20something()%20%7B%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>The <code>inline</code> attribute only supports two arguments:</p>
<ul>
<li>always</li>
<li>never</li>
</ul>
<p>All other arguments given to the <code>inline</code> attribute will return this error.
Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">inline</span>(<span class="ident">never</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">something</span>() {}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Binline(never)%5D%20%2F%2F%20ok!%0Apub%20fn%20something()%20%7B%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>For more information see the <a href="https://doc.rust-lang.org/reference/attributes/codegen.html#the-inline-attribute"><code>inline</code> Attribute</a> section
of the Reference.</p>
</div>
<div class="error-described"><h2 id="E0536" class="section-header"><a href="#E0536">E0536</a></h2>
<p>The <code>not</code> cfg-predicate was malformed.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">cfg</span>(<span class="ident">not</span>())]</span> <span class="comment">// error: expected 1 cfg-pattern</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">something</span>() {}

<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Bcfg(not())%5D%20%2F%2F%20error%3A%20expected%201%20cfg-pattern%0Apub%20fn%20something()%20%7B%7D%0A%0Apub%20fn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>The <code>not</code> predicate expects one cfg-pattern. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">cfg</span>(<span class="ident">not</span>(<span class="ident">target_os</span> <span class="op">=</span> <span class="string">&quot;linux&quot;</span>))]</span> <span class="comment">// ok!</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">something</span>() {}

<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Bcfg(not(target_os%20%3D%20%22linux%22))%5D%20%2F%2F%20ok!%0Apub%20fn%20something()%20%7B%7D%0A%0Apub%20fn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>For more information about the <code>cfg</code> attribute, read the section on
<a href="https://doc.rust-lang.org/reference/conditional-compilation.html">Conditional Compilation</a> in the Reference.</p>
</div>
<div class="error-described"><h2 id="E0537" class="section-header"><a href="#E0537">E0537</a></h2>
<p>An unknown predicate was used inside the <code>cfg</code> attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">cfg</span>(<span class="ident">unknown</span>())]</span> <span class="comment">// error: invalid predicate `unknown`</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">something</span>() {}

<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Bcfg(unknown())%5D%20%2F%2F%20error%3A%20invalid%20predicate%20%60unknown%60%0Apub%20fn%20something()%20%7B%7D%0A%0Apub%20fn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>The <code>cfg</code> attribute supports only three kinds of predicates:</p>
<ul>
<li>any</li>
<li>all</li>
<li>not</li>
</ul>
<p>Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">cfg</span>(<span class="ident">not</span>(<span class="ident">target_os</span> <span class="op">=</span> <span class="string">&quot;linux&quot;</span>))]</span> <span class="comment">// ok!</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">something</span>() {}

<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Bcfg(not(target_os%20%3D%20%22linux%22))%5D%20%2F%2F%20ok!%0Apub%20fn%20something()%20%7B%7D%0A%0Apub%20fn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>For more information about the <code>cfg</code> attribute, read the section on
<a href="https://doc.rust-lang.org/reference/conditional-compilation.html">Conditional Compilation</a> in the Reference.</p>
</div>
<div class="error-described"><h2 id="E0538" class="section-header"><a href="#E0538">E0538</a></h2>
<p>Attribute contains same meta item more than once.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">deprecated</span>(
    <span class="ident">since</span><span class="op">=</span><span class="string">&quot;1.0.0&quot;</span>,
    <span class="ident">note</span><span class="op">=</span><span class="string">&quot;First deprecation note.&quot;</span>,
    <span class="ident">note</span><span class="op">=</span><span class="string">&quot;Second deprecation note.&quot;</span> <span class="comment">// error: multiple same meta item</span>
)]</span>
<span class="kw">fn</span> <span class="ident">deprecated_function</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bdeprecated(%0A%20%20%20%20since%3D%221.0.0%22%2C%0A%20%20%20%20note%3D%22First%20deprecation%20note.%22%2C%0A%20%20%20%20note%3D%22Second%20deprecation%20note.%22%20%2F%2F%20error%3A%20multiple%20same%20meta%20item%0A)%5D%0Afn%20deprecated_function()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Meta items are the key-value pairs inside of an attribute. Each key may only be
used once in each attribute.</p>
<p>To fix the problem, remove all but one of the meta items with the same key.</p>
<p>Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">deprecated</span>(
    <span class="ident">since</span><span class="op">=</span><span class="string">&quot;1.0.0&quot;</span>,
    <span class="ident">note</span><span class="op">=</span><span class="string">&quot;First deprecation note.&quot;</span>
)]</span>
<span class="kw">fn</span> <span class="ident">deprecated_function</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bdeprecated(%0A%20%20%20%20since%3D%221.0.0%22%2C%0A%20%20%20%20note%3D%22First%20deprecation%20note.%22%0A)%5D%0Afn%20deprecated_function()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0539" class="section-header"><a href="#E0539">E0539</a></h2>
<p>An invalid meta-item was used inside an attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">staged_api</span>)]</span>
<span class="attribute">#![<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>)]</span>

<span class="attribute">#[<span class="ident">rustc_deprecated</span>(<span class="ident">reason</span>)]</span> <span class="comment">// error!</span>
<span class="attribute">#[<span class="ident">unstable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;deprecated_fn&quot;</span>, <span class="ident">issue</span> <span class="op">=</span> <span class="string">&quot;123&quot;</span>)]</span>
<span class="kw">fn</span> <span class="ident">deprecated</span>() {}

<span class="attribute">#[<span class="ident">unstable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;unstable_struct&quot;</span>, <span class="ident">issue</span>)]</span> <span class="comment">// error!</span>
<span class="kw">struct</span> <span class="ident">Unstable</span>;

<span class="attribute">#[<span class="ident">rustc_const_unstable</span>(<span class="ident">feature</span>)]</span> <span class="comment">// error!</span>
<span class="kw">const</span> <span class="kw">fn</span> <span class="ident">unstable_fn</span>() {}

<span class="attribute">#[<span class="ident">stable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;stable_struct&quot;</span>, <span class="ident">since</span>)]</span> <span class="comment">// error!</span>
<span class="kw">struct</span> <span class="ident">Stable</span>;

<span class="attribute">#[<span class="ident">rustc_const_stable</span>(<span class="ident">feature</span>)]</span> <span class="comment">// error!</span>
<span class="kw">const</span> <span class="kw">fn</span> <span class="ident">stable_fn</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(staged_api)%5D%0A%23!%5Bstable(since%20%3D%20%221.0.0%22%2C%20feature%20%3D%20%22test%22)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brustc_deprecated(reason)%5D%20%2F%2F%20error!%0A%23%5Bunstable(feature%20%3D%20%22deprecated_fn%22%2C%20issue%20%3D%20%22123%22)%5D%0Afn%20deprecated()%20%7B%7D%0A%0A%23%5Bunstable(feature%20%3D%20%22unstable_struct%22%2C%20issue)%5D%20%2F%2F%20error!%0Astruct%20Unstable%3B%0A%0A%23%5Brustc_const_unstable(feature)%5D%20%2F%2F%20error!%0Aconst%20fn%20unstable_fn()%20%7B%7D%0A%0A%23%5Bstable(feature%20%3D%20%22stable_struct%22%2C%20since)%5D%20%2F%2F%20error!%0Astruct%20Stable%3B%0A%0A%23%5Brustc_const_stable(feature)%5D%20%2F%2F%20error!%0Aconst%20fn%20stable_fn()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Meta items are the key-value pairs inside of an attribute.
To fix these issues you need to give required key-value pairs.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">staged_api</span>)]</span>
<span class="attribute">#![<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>)]</span>

<span class="attribute">#[<span class="ident">rustc_deprecated</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.39.0&quot;</span>, <span class="ident">reason</span> <span class="op">=</span> <span class="string">&quot;reason&quot;</span>)]</span> <span class="comment">// ok!</span>
<span class="attribute">#[<span class="ident">unstable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;deprecated_fn&quot;</span>, <span class="ident">issue</span> <span class="op">=</span> <span class="string">&quot;123&quot;</span>)]</span>
<span class="kw">fn</span> <span class="ident">deprecated</span>() {}

<span class="attribute">#[<span class="ident">unstable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;unstable_struct&quot;</span>, <span class="ident">issue</span> <span class="op">=</span> <span class="string">&quot;123&quot;</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">struct</span> <span class="ident">Unstable</span>;

<span class="attribute">#[<span class="ident">rustc_const_unstable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;unstable_fn&quot;</span>, <span class="ident">issue</span> <span class="op">=</span> <span class="string">&quot;124&quot;</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">const</span> <span class="kw">fn</span> <span class="ident">unstable_fn</span>() {}

<span class="attribute">#[<span class="ident">stable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;stable_struct&quot;</span>, <span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.39.0&quot;</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">struct</span> <span class="ident">Stable</span>;

<span class="attribute">#[<span class="ident">rustc_const_stable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;stable_fn&quot;</span>, <span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.39.0&quot;</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">const</span> <span class="kw">fn</span> <span class="ident">stable_fn</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(staged_api)%5D%0A%23!%5Bstable(since%20%3D%20%221.0.0%22%2C%20feature%20%3D%20%22test%22)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brustc_deprecated(since%20%3D%20%221.39.0%22%2C%20reason%20%3D%20%22reason%22)%5D%20%2F%2F%20ok!%0A%23%5Bunstable(feature%20%3D%20%22deprecated_fn%22%2C%20issue%20%3D%20%22123%22)%5D%0Afn%20deprecated()%20%7B%7D%0A%0A%23%5Bunstable(feature%20%3D%20%22unstable_struct%22%2C%20issue%20%3D%20%22123%22)%5D%20%2F%2F%20ok!%0Astruct%20Unstable%3B%0A%0A%23%5Brustc_const_unstable(feature%20%3D%20%22unstable_fn%22%2C%20issue%20%3D%20%22124%22)%5D%20%2F%2F%20ok!%0Aconst%20fn%20unstable_fn()%20%7B%7D%0A%0A%23%5Bstable(feature%20%3D%20%22stable_struct%22%2C%20since%20%3D%20%221.39.0%22)%5D%20%2F%2F%20ok!%0Astruct%20Stable%3B%0A%0A%23%5Brustc_const_stable(feature%20%3D%20%22stable_fn%22%2C%20since%20%3D%20%221.39.0%22)%5D%20%2F%2F%20ok!%0Aconst%20fn%20stable_fn()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0541" class="section-header"><a href="#E0541">E0541</a></h2>
<p>An unknown meta item was used.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">deprecated</span>(
    <span class="ident">since</span><span class="op">=</span><span class="string">&quot;1.0.0&quot;</span>,
    <span class="comment">// error: unknown meta item</span>
    <span class="ident">reason</span><span class="op">=</span><span class="string">&quot;Example invalid meta item. Should be &#39;note&#39;&quot;</span>)
]</span>
<span class="kw">fn</span> <span class="ident">deprecated_function</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bdeprecated(%0A%20%20%20%20since%3D%221.0.0%22%2C%0A%20%20%20%20%2F%2F%20error%3A%20unknown%20meta%20item%0A%20%20%20%20reason%3D%22Example%20invalid%20meta%20item.%20Should%20be%20'note'%22)%0A%5D%0Afn%20deprecated_function()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Meta items are the key-value pairs inside of an attribute. The keys provided
must be one of the valid keys for the specified attribute.</p>
<p>To fix the problem, either remove the unknown meta item, or rename it if you
provided the wrong name.</p>
<p>In the erroneous code example above, the wrong name was provided, so changing
to a correct one it will fix the error. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">deprecated</span>(
    <span class="ident">since</span><span class="op">=</span><span class="string">&quot;1.0.0&quot;</span>,
    <span class="ident">note</span><span class="op">=</span><span class="string">&quot;This is a valid meta item for the deprecated attribute.&quot;</span>
)]</span>
<span class="kw">fn</span> <span class="ident">deprecated_function</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bdeprecated(%0A%20%20%20%20since%3D%221.0.0%22%2C%0A%20%20%20%20note%3D%22This%20is%20a%20valid%20meta%20item%20for%20the%20deprecated%20attribute.%22%0A)%5D%0Afn%20deprecated_function()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0542" class="section-header"><a href="#E0542">E0542</a></h2>
<p>The <code>since</code> value is missing in a stability attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">staged_api</span>)]</span>
<span class="attribute">#![<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>)]</span>

<span class="attribute">#[<span class="ident">stable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_stable_fn&quot;</span>)]</span> <span class="comment">// invalid</span>
<span class="kw">fn</span> <span class="ident">_stable_fn</span>() {}

<span class="attribute">#[<span class="ident">rustc_const_stable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_stable_const_fn&quot;</span>)]</span> <span class="comment">// invalid</span>
<span class="kw">fn</span> <span class="ident">_stable_const_fn</span>() {}

<span class="attribute">#[<span class="ident">stable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_deprecated_fn&quot;</span>, <span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;0.1.0&quot;</span>)]</span>
<span class="attribute">#[<span class="ident">rustc_deprecated</span>(
    <span class="ident">reason</span> <span class="op">=</span> <span class="string">&quot;explanation for deprecation&quot;</span>
)]</span> <span class="comment">// invalid</span>
<span class="kw">fn</span> <span class="ident">_deprecated_fn</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(staged_api)%5D%0A%23!%5Bstable(since%20%3D%20%221.0.0%22%2C%20feature%20%3D%20%22test%22)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bstable(feature%20%3D%20%22_stable_fn%22)%5D%20%2F%2F%20invalid%0Afn%20_stable_fn()%20%7B%7D%0A%0A%23%5Brustc_const_stable(feature%20%3D%20%22_stable_const_fn%22)%5D%20%2F%2F%20invalid%0Afn%20_stable_const_fn()%20%7B%7D%0A%0A%23%5Bstable(feature%20%3D%20%22_deprecated_fn%22%2C%20since%20%3D%20%220.1.0%22)%5D%0A%23%5Brustc_deprecated(%0A%20%20%20%20reason%20%3D%20%22explanation%20for%20deprecation%22%0A)%5D%20%2F%2F%20invalid%0Afn%20_deprecated_fn()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>To fix this issue, you need to provide the <code>since</code> field. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">staged_api</span>)]</span>
<span class="attribute">#![<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>)]</span>

<span class="attribute">#[<span class="ident">stable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_stable_fn&quot;</span>, <span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">fn</span> <span class="ident">_stable_fn</span>() {}

<span class="attribute">#[<span class="ident">rustc_const_stable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_stable_const_fn&quot;</span>, <span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">fn</span> <span class="ident">_stable_const_fn</span>() {}

<span class="attribute">#[<span class="ident">stable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_deprecated_fn&quot;</span>, <span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;0.1.0&quot;</span>)]</span>
<span class="attribute">#[<span class="ident">rustc_deprecated</span>(
    <span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>,
    <span class="ident">reason</span> <span class="op">=</span> <span class="string">&quot;explanation for deprecation&quot;</span>
)]</span> <span class="comment">// ok!</span>
<span class="kw">fn</span> <span class="ident">_deprecated_fn</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(staged_api)%5D%0A%23!%5Bstable(since%20%3D%20%221.0.0%22%2C%20feature%20%3D%20%22test%22)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bstable(feature%20%3D%20%22_stable_fn%22%2C%20since%20%3D%20%221.0.0%22)%5D%20%2F%2F%20ok!%0Afn%20_stable_fn()%20%7B%7D%0A%0A%23%5Brustc_const_stable(feature%20%3D%20%22_stable_const_fn%22%2C%20since%20%3D%20%221.0.0%22)%5D%20%2F%2F%20ok!%0Afn%20_stable_const_fn()%20%7B%7D%0A%0A%23%5Bstable(feature%20%3D%20%22_deprecated_fn%22%2C%20since%20%3D%20%220.1.0%22)%5D%0A%23%5Brustc_deprecated(%0A%20%20%20%20since%20%3D%20%221.0.0%22%2C%0A%20%20%20%20reason%20%3D%20%22explanation%20for%20deprecation%22%0A)%5D%20%2F%2F%20ok!%0Afn%20_deprecated_fn()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>See the <a href="https://doc.rust-lang.org/book/appendix-07-nightly-rust.html">How Rust is Made and “Nightly Rust”</a> appendix
of the Book and the <a href="https://rustc-dev-guide.rust-lang.org/stability.html">Stability attributes</a> section of the
Rustc Dev Guide for more details.</p>
</div>
<div class="error-described"><h2 id="E0543" class="section-header"><a href="#E0543">E0543</a></h2>
<p>The <code>reason</code> value is missing in a stability attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">staged_api</span>)]</span>
<span class="attribute">#![<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>)]</span>

<span class="attribute">#[<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;0.1.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_deprecated_fn&quot;</span>)]</span>
<span class="attribute">#[<span class="ident">rustc_deprecated</span>(
    <span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>
)]</span> <span class="comment">// invalid</span>
<span class="kw">fn</span> <span class="ident">_deprecated_fn</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(staged_api)%5D%0A%23!%5Bstable(since%20%3D%20%221.0.0%22%2C%20feature%20%3D%20%22test%22)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bstable(since%20%3D%20%220.1.0%22%2C%20feature%20%3D%20%22_deprecated_fn%22)%5D%0A%23%5Brustc_deprecated(%0A%20%20%20%20since%20%3D%20%221.0.0%22%0A)%5D%20%2F%2F%20invalid%0Afn%20_deprecated_fn()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>To fix this issue, you need to provide the <code>reason</code> field. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">staged_api</span>)]</span>
<span class="attribute">#![<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>)]</span>

<span class="attribute">#[<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;0.1.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_deprecated_fn&quot;</span>)]</span>
<span class="attribute">#[<span class="ident">rustc_deprecated</span>(
    <span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>,
    <span class="ident">reason</span> <span class="op">=</span> <span class="string">&quot;explanation for deprecation&quot;</span>
)]</span> <span class="comment">// ok!</span>
<span class="kw">fn</span> <span class="ident">_deprecated_fn</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(staged_api)%5D%0A%23!%5Bstable(since%20%3D%20%221.0.0%22%2C%20feature%20%3D%20%22test%22)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bstable(since%20%3D%20%220.1.0%22%2C%20feature%20%3D%20%22_deprecated_fn%22)%5D%0A%23%5Brustc_deprecated(%0A%20%20%20%20since%20%3D%20%221.0.0%22%2C%0A%20%20%20%20reason%20%3D%20%22explanation%20for%20deprecation%22%0A)%5D%20%2F%2F%20ok!%0Afn%20_deprecated_fn()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>See the <a href="https://doc.rust-lang.org/book/appendix-07-nightly-rust.html">How Rust is Made and “Nightly Rust”</a> appendix
of the Book and the <a href="https://rustc-dev-guide.rust-lang.org/stability.html">Stability attributes</a> section of the
Rustc Dev Guide for more details.</p>
</div>
<div class="error-undescribed"><h2 id="E0544" class="section-header"><a href="#E0544">E0544</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0545" class="section-header"><a href="#E0545">E0545</a></h2>
<p>The <code>issue</code> value is incorrect in a stability attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">staged_api</span>)]</span>
<span class="attribute">#![<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>)]</span>

<span class="attribute">#[<span class="ident">unstable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_unstable_fn&quot;</span>, <span class="ident">issue</span> <span class="op">=</span> <span class="string">&quot;0&quot;</span>)]</span> <span class="comment">// invalid</span>
<span class="kw">fn</span> <span class="ident">_unstable_fn</span>() {}

<span class="attribute">#[<span class="ident">rustc_const_unstable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_unstable_const_fn&quot;</span>, <span class="ident">issue</span> <span class="op">=</span> <span class="string">&quot;0&quot;</span>)]</span> <span class="comment">// invalid</span>
<span class="kw">fn</span> <span class="ident">_unstable_const_fn</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(staged_api)%5D%0A%23!%5Bstable(since%20%3D%20%221.0.0%22%2C%20feature%20%3D%20%22test%22)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bunstable(feature%20%3D%20%22_unstable_fn%22%2C%20issue%20%3D%20%220%22)%5D%20%2F%2F%20invalid%0Afn%20_unstable_fn()%20%7B%7D%0A%0A%23%5Brustc_const_unstable(feature%20%3D%20%22_unstable_const_fn%22%2C%20issue%20%3D%20%220%22)%5D%20%2F%2F%20invalid%0Afn%20_unstable_const_fn()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>To fix this issue, you need to provide a correct value in the <code>issue</code> field.
Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">staged_api</span>)]</span>
<span class="attribute">#![<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>)]</span>

<span class="attribute">#[<span class="ident">unstable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_unstable_fn&quot;</span>, <span class="ident">issue</span> <span class="op">=</span> <span class="string">&quot;none&quot;</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">fn</span> <span class="ident">_unstable_fn</span>() {}

<span class="attribute">#[<span class="ident">rustc_const_unstable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_unstable_const_fn&quot;</span>, <span class="ident">issue</span> <span class="op">=</span> <span class="string">&quot;1&quot;</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">fn</span> <span class="ident">_unstable_const_fn</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(staged_api)%5D%0A%23!%5Bstable(since%20%3D%20%221.0.0%22%2C%20feature%20%3D%20%22test%22)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bunstable(feature%20%3D%20%22_unstable_fn%22%2C%20issue%20%3D%20%22none%22)%5D%20%2F%2F%20ok!%0Afn%20_unstable_fn()%20%7B%7D%0A%0A%23%5Brustc_const_unstable(feature%20%3D%20%22_unstable_const_fn%22%2C%20issue%20%3D%20%221%22)%5D%20%2F%2F%20ok!%0Afn%20_unstable_const_fn()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>See the <a href="https://doc.rust-lang.org/book/appendix-07-nightly-rust.html">How Rust is Made and “Nightly Rust”</a> appendix
of the Book and the <a href="https://rustc-dev-guide.rust-lang.org/stability.html">Stability attributes</a> section of the
Rustc Dev Guide for more details.</p>
</div>
<div class="error-described"><h2 id="E0546" class="section-header"><a href="#E0546">E0546</a></h2>
<p>The <code>feature</code> value is missing in a stability attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">staged_api</span>)]</span>
<span class="attribute">#![<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>)]</span>

<span class="attribute">#[<span class="ident">unstable</span>(<span class="ident">issue</span> <span class="op">=</span> <span class="string">&quot;none&quot;</span>)]</span> <span class="comment">// invalid</span>
<span class="kw">fn</span> <span class="ident">unstable_fn</span>() {}

<span class="attribute">#[<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>)]</span> <span class="comment">// invalid</span>
<span class="kw">fn</span> <span class="ident">stable_fn</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(staged_api)%5D%0A%23!%5Bstable(since%20%3D%20%221.0.0%22%2C%20feature%20%3D%20%22test%22)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bunstable(issue%20%3D%20%22none%22)%5D%20%2F%2F%20invalid%0Afn%20unstable_fn()%20%7B%7D%0A%0A%23%5Bstable(since%20%3D%20%221.0.0%22)%5D%20%2F%2F%20invalid%0Afn%20stable_fn()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>To fix this issue, you need to provide the <code>feature</code> field. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">staged_api</span>)]</span>
<span class="attribute">#![<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>)]</span>

<span class="attribute">#[<span class="ident">unstable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;unstable_fn&quot;</span>, <span class="ident">issue</span> <span class="op">=</span> <span class="string">&quot;none&quot;</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">fn</span> <span class="ident">unstable_fn</span>() {}

<span class="attribute">#[<span class="ident">stable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;stable_fn&quot;</span>, <span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">fn</span> <span class="ident">stable_fn</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(staged_api)%5D%0A%23!%5Bstable(since%20%3D%20%221.0.0%22%2C%20feature%20%3D%20%22test%22)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bunstable(feature%20%3D%20%22unstable_fn%22%2C%20issue%20%3D%20%22none%22)%5D%20%2F%2F%20ok!%0Afn%20unstable_fn()%20%7B%7D%0A%0A%23%5Bstable(feature%20%3D%20%22stable_fn%22%2C%20since%20%3D%20%221.0.0%22)%5D%20%2F%2F%20ok!%0Afn%20stable_fn()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>See the <a href="https://doc.rust-lang.org/book/appendix-07-nightly-rust.html">How Rust is Made and “Nightly Rust”</a> appendix
of the Book and the <a href="https://rustc-dev-guide.rust-lang.org/stability.html">Stability attributes</a> section of the
Rustc Dev Guide for more details.</p>
</div>
<div class="error-described"><h2 id="E0547" class="section-header"><a href="#E0547">E0547</a></h2>
<p>The <code>issue</code> value is missing in a stability attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">staged_api</span>)]</span>
<span class="attribute">#![<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>)]</span>

<span class="attribute">#[<span class="ident">unstable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_unstable_fn&quot;</span>)]</span> <span class="comment">// invalid</span>
<span class="kw">fn</span> <span class="ident">_unstable_fn</span>() {}

<span class="attribute">#[<span class="ident">rustc_const_unstable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_unstable_const_fn&quot;</span>)]</span> <span class="comment">// invalid</span>
<span class="kw">fn</span> <span class="ident">_unstable_const_fn</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(staged_api)%5D%0A%23!%5Bstable(since%20%3D%20%221.0.0%22%2C%20feature%20%3D%20%22test%22)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bunstable(feature%20%3D%20%22_unstable_fn%22)%5D%20%2F%2F%20invalid%0Afn%20_unstable_fn()%20%7B%7D%0A%0A%23%5Brustc_const_unstable(feature%20%3D%20%22_unstable_const_fn%22)%5D%20%2F%2F%20invalid%0Afn%20_unstable_const_fn()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>To fix this issue, you need to provide the <code>issue</code> field. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">staged_api</span>)]</span>
<span class="attribute">#![<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>)]</span>

<span class="attribute">#[<span class="ident">unstable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_unstable_fn&quot;</span>, <span class="ident">issue</span> <span class="op">=</span> <span class="string">&quot;none&quot;</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">fn</span> <span class="ident">_unstable_fn</span>() {}

<span class="attribute">#[<span class="ident">rustc_const_unstable</span>(
    <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;_unstable_const_fn&quot;</span>,
    <span class="ident">issue</span> <span class="op">=</span> <span class="string">&quot;none&quot;</span>
)]</span> <span class="comment">// ok!</span>
<span class="kw">fn</span> <span class="ident">_unstable_const_fn</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(staged_api)%5D%0A%23!%5Bstable(since%20%3D%20%221.0.0%22%2C%20feature%20%3D%20%22test%22)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bunstable(feature%20%3D%20%22_unstable_fn%22%2C%20issue%20%3D%20%22none%22)%5D%20%2F%2F%20ok!%0Afn%20_unstable_fn()%20%7B%7D%0A%0A%23%5Brustc_const_unstable(%0A%20%20%20%20feature%20%3D%20%22_unstable_const_fn%22%2C%0A%20%20%20%20issue%20%3D%20%22none%22%0A)%5D%20%2F%2F%20ok!%0Afn%20_unstable_const_fn()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>See the <a href="https://doc.rust-lang.org/book/appendix-07-nightly-rust.html">How Rust is Made and “Nightly Rust”</a> appendix
of the Book and the <a href="https://rustc-dev-guide.rust-lang.org/stability.html">Stability attributes</a> section of the
Rustc Dev Guide for more details.</p>
</div>
<div class="error-described"><h2 id="E0549" class="section-header"><a href="#E0549">E0549</a></h2>
<p>A <code>rustc_deprecated</code> attribute wasn’t paired with a <code>stable</code>/<code>unstable</code>
attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">staged_api</span>)]</span>
<span class="attribute">#![<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>)]</span>

<span class="attribute">#[<span class="ident">rustc_deprecated</span>(
    <span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.1&quot;</span>,
    <span class="ident">reason</span> <span class="op">=</span> <span class="string">&quot;explanation for deprecation&quot;</span>
)]</span> <span class="comment">// invalid</span>
<span class="kw">fn</span> <span class="ident">_deprecated_fn</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(staged_api)%5D%0A%23!%5Bstable(since%20%3D%20%221.0.0%22%2C%20feature%20%3D%20%22test%22)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brustc_deprecated(%0A%20%20%20%20since%20%3D%20%221.0.1%22%2C%0A%20%20%20%20reason%20%3D%20%22explanation%20for%20deprecation%22%0A)%5D%20%2F%2F%20invalid%0Afn%20_deprecated_fn()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>To fix this issue, you need to add also an attribute <code>stable</code> or <code>unstable</code>.
Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">staged_api</span>)]</span>
<span class="attribute">#![<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>)]</span>

<span class="attribute">#[<span class="ident">stable</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.0&quot;</span>, <span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;test&quot;</span>)]</span>
<span class="attribute">#[<span class="ident">rustc_deprecated</span>(
    <span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;1.0.1&quot;</span>,
    <span class="ident">reason</span> <span class="op">=</span> <span class="string">&quot;explanation for deprecation&quot;</span>
)]</span> <span class="comment">// ok!</span>
<span class="kw">fn</span> <span class="ident">_deprecated_fn</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(staged_api)%5D%0A%23!%5Bstable(since%20%3D%20%221.0.0%22%2C%20feature%20%3D%20%22test%22)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bstable(since%20%3D%20%221.0.0%22%2C%20feature%20%3D%20%22test%22)%5D%0A%23%5Brustc_deprecated(%0A%20%20%20%20since%20%3D%20%221.0.1%22%2C%0A%20%20%20%20reason%20%3D%20%22explanation%20for%20deprecation%22%0A)%5D%20%2F%2F%20ok!%0Afn%20_deprecated_fn()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>See the <a href="https://doc.rust-lang.org/book/appendix-07-nightly-rust.html">How Rust is Made and “Nightly Rust”</a> appendix
of the Book and the <a href="https://rustc-dev-guide.rust-lang.org/stability.html">Stability attributes</a> section of the
Rustc Dev Guide for more details.</p>
</div>
<div class="error-described"><h2 id="E0550" class="section-header"><a href="#E0550">E0550</a></h2>
<p>More than one <code>deprecated</code> attribute has been put on an item.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">deprecated</span>(<span class="ident">note</span> <span class="op">=</span> <span class="string">&quot;because why not?&quot;</span>)]</span>
<span class="attribute">#[<span class="ident">deprecated</span>(<span class="ident">note</span> <span class="op">=</span> <span class="string">&quot;right?&quot;</span>)]</span> <span class="comment">// error!</span>
<span class="kw">fn</span> <span class="ident">the_banished</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bdeprecated(note%20%3D%20%22because%20why%20not%3F%22)%5D%0A%23%5Bdeprecated(note%20%3D%20%22right%3F%22)%5D%20%2F%2F%20error!%0Afn%20the_banished()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The <code>deprecated</code> attribute can only be present <strong>once</strong> on an item.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">deprecated</span>(<span class="ident">note</span> <span class="op">=</span> <span class="string">&quot;because why not, right?&quot;</span>)]</span>
<span class="kw">fn</span> <span class="ident">the_banished</span>() {} <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bdeprecated(note%20%3D%20%22because%20why%20not%2C%20right%3F%22)%5D%0Afn%20the_banished()%20%7B%7D%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0551" class="section-header"><a href="#E0551">E0551</a></h2>
<p>An invalid meta-item was used inside an attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">deprecated</span>(<span class="ident">note</span>)]</span> <span class="comment">// error!</span>
<span class="kw">fn</span> <span class="ident">i_am_deprecated</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bdeprecated(note)%5D%20%2F%2F%20error!%0Afn%20i_am_deprecated()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Meta items are the key-value pairs inside of an attribute. To fix this issue,
you need to give a value to the <code>note</code> key. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">deprecated</span>(<span class="ident">note</span> <span class="op">=</span> <span class="string">&quot;because&quot;</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">fn</span> <span class="ident">i_am_deprecated</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bdeprecated(note%20%3D%20%22because%22)%5D%20%2F%2F%20ok!%0Afn%20i_am_deprecated()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0552" class="section-header"><a href="#E0552">E0552</a></h2>
<p>A unrecognized representation attribute was used.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">D</span>)]</span> <span class="comment">// error: unrecognized representation hint</span>
<span class="kw">struct</span> <span class="ident">MyStruct</span> {
    <span class="ident">my_field</span>: <span class="ident">usize</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(D)%5D%20%2F%2F%20error%3A%20unrecognized%20representation%20hint%0Astruct%20MyStruct%20%7B%0A%20%20%20%20my_field%3A%20usize%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>You can use a <code>repr</code> attribute to tell the compiler how you want a struct or
enum to be laid out in memory.</p>
<p>Make sure you’re using one of the supported options:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">C</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">struct</span> <span class="ident">MyStruct</span> {
    <span class="ident">my_field</span>: <span class="ident">usize</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(C)%5D%20%2F%2F%20ok!%0Astruct%20MyStruct%20%7B%0A%20%20%20%20my_field%3A%20usize%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>For more information about specifying representations, see the <a href="https://doc.rust-lang.org/nomicon/other-reprs.html">“Alternative
Representations” section</a> of the Rustonomicon.</p>
</div>
<div class="error-undescribed"><h2 id="E0553" class="section-header"><a href="#E0553">E0553</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0554" class="section-header"><a href="#E0554">E0554</a></h2>
<p>Feature attributes are only allowed on the nightly release channel. Stable or
beta compilers will not comply.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">non_ascii_idents</span>)]</span> <span class="comment">// error: `#![feature]` may not be used on the</span>
                              <span class="comment">//        stable release channel</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(non_ascii_idents)%5D%20%2F%2F%20error%3A%20%60%23!%5Bfeature%5D%60%20may%20not%20be%20used%20on%20the%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20stable%20release%20channel%0Afn%20main()%20%7B%0A%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>If you need the feature, make sure to use a nightly release of the compiler
(but be warned that the feature may be removed or altered in the future).</p>
</div>
<div class="error-described"><h2 id="E0556" class="section-header"><a href="#E0556">E0556</a></h2>
<p>The <code>feature</code> attribute was badly formed.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">foo_bar_baz</span>, <span class="ident">foo</span>(<span class="ident">bar</span>), <span class="ident">foo</span> <span class="op">=</span> <span class="string">&quot;baz&quot;</span>, <span class="ident">foo</span>)]</span> <span class="comment">// error!</span>
<span class="attribute">#![<span class="ident">feature</span>]</span> <span class="comment">// error!</span>
<span class="attribute">#![<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;foo&quot;</span>]</span> <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(foo_bar_baz%2C%20foo(bar)%2C%20foo%20%3D%20%22baz%22%2C%20foo)%5D%20%2F%2F%20error!%0A%23!%5Bfeature%5D%20%2F%2F%20error!%0A%23!%5Bfeature%20%3D%20%22foo%22%5D%20%2F%2F%20error!%0Afn%20main()%20%7B%0A%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>The <code>feature</code> attribute only accept a “feature flag” and can only be used on
nightly. Example:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">flag</span>)]</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(flag)%5D%0Afn%20main()%20%7B%0A%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0557" class="section-header"><a href="#E0557">E0557</a></h2>
<p>A feature attribute named a feature that has been removed.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">managed_boxes</span>)]</span> <span class="comment">// error: feature has been removed</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(managed_boxes)%5D%20%2F%2F%20error%3A%20feature%20has%20been%20removed%0Afn%20main()%20%7B%0A%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Delete the offending feature attribute.</p>
</div>
<div class="error-described"><h2 id="E0559" class="section-header"><a href="#E0559">E0559</a></h2>
<p>An unknown field was specified into an enum’s structure variant.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">Field</span> {
    <span class="ident">Fool</span> { <span class="ident">x</span>: <span class="ident">u32</span> },
}

<span class="kw">let</span> <span class="ident">s</span> <span class="op">=</span> <span class="ident">Field</span>::<span class="ident">Fool</span> { <span class="ident">joke</span>: <span class="number">0</span> };
<span class="comment">// error: struct variant `Field::Fool` has no field named `joke`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Field%20%7B%0A%20%20%20%20Fool%20%7B%20x%3A%20u32%20%7D%2C%0A%7D%0A%0Alet%20s%20%3D%20Field%3A%3AFool%20%7B%20joke%3A%200%20%7D%3B%0A%2F%2F%20error%3A%20struct%20variant%20%60Field%3A%3AFool%60%20has%20no%20field%20named%20%60joke%60%0A%7D&amp;edition=2015">Run</a></div>
<p>Verify you didn’t misspell the field’s name or that the field exists. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">Field</span> {
    <span class="ident">Fool</span> { <span class="ident">joke</span>: <span class="ident">u32</span> },
}

<span class="kw">let</span> <span class="ident">s</span> <span class="op">=</span> <span class="ident">Field</span>::<span class="ident">Fool</span> { <span class="ident">joke</span>: <span class="number">0</span> }; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Field%20%7B%0A%20%20%20%20Fool%20%7B%20joke%3A%20u32%20%7D%2C%0A%7D%0A%0Alet%20s%20%3D%20Field%3A%3AFool%20%7B%20joke%3A%200%20%7D%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0560" class="section-header"><a href="#E0560">E0560</a></h2>
<p>An unknown field was specified into a structure.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Simba</span> {
    <span class="ident">mother</span>: <span class="ident">u32</span>,
}

<span class="kw">let</span> <span class="ident">s</span> <span class="op">=</span> <span class="ident">Simba</span> { <span class="ident">mother</span>: <span class="number">1</span>, <span class="ident">father</span>: <span class="number">0</span> };
<span class="comment">// error: structure `Simba` has no field named `father`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Simba%20%7B%0A%20%20%20%20mother%3A%20u32%2C%0A%7D%0A%0Alet%20s%20%3D%20Simba%20%7B%20mother%3A%201%2C%20father%3A%200%20%7D%3B%0A%2F%2F%20error%3A%20structure%20%60Simba%60%20has%20no%20field%20named%20%60father%60%0A%7D&amp;edition=2015">Run</a></div>
<p>Verify you didn’t misspell the field’s name or that the field exists. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Simba</span> {
    <span class="ident">mother</span>: <span class="ident">u32</span>,
    <span class="ident">father</span>: <span class="ident">u32</span>,
}

<span class="kw">let</span> <span class="ident">s</span> <span class="op">=</span> <span class="ident">Simba</span> { <span class="ident">mother</span>: <span class="number">1</span>, <span class="ident">father</span>: <span class="number">0</span> }; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Simba%20%7B%0A%20%20%20%20mother%3A%20u32%2C%0A%20%20%20%20father%3A%20u32%2C%0A%7D%0A%0Alet%20s%20%3D%20Simba%20%7B%20mother%3A%201%2C%20father%3A%200%20%7D%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0561" class="section-header"><a href="#E0561">E0561</a></h2>
<p>A non-ident or non-wildcard pattern has been used as a parameter of a function
pointer type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">type</span> <span class="ident">A1</span> <span class="op">=</span> <span class="kw">fn</span>(<span class="kw-2">mut</span> <span class="ident">param</span>: <span class="ident">u8</span>); <span class="comment">// error!</span>
<span class="kw">type</span> <span class="ident">A2</span> <span class="op">=</span> <span class="kw">fn</span>(<span class="kw-2">&amp;</span><span class="ident">param</span>: <span class="ident">u32</span>); <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atype%20A1%20%3D%20fn(mut%20param%3A%20u8)%3B%20%2F%2F%20error!%0Atype%20A2%20%3D%20fn(%26param%3A%20u32)%3B%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>When using an alias over a function type, you cannot e.g. denote a parameter as
being mutable.</p>
<p>To fix the issue, remove patterns (<code>_</code> is allowed though). Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">type</span> <span class="ident">A1</span> <span class="op">=</span> <span class="kw">fn</span>(<span class="ident">param</span>: <span class="ident">u8</span>); <span class="comment">// ok!</span>
<span class="kw">type</span> <span class="ident">A2</span> <span class="op">=</span> <span class="kw">fn</span>(<span class="kw">_</span>: <span class="ident">u32</span>); <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atype%20A1%20%3D%20fn(param%3A%20u8)%3B%20%2F%2F%20ok!%0Atype%20A2%20%3D%20fn(_%3A%20u32)%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>You can also omit the parameter name:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">type</span> <span class="ident">A3</span> <span class="op">=</span> <span class="kw">fn</span>(<span class="ident">i16</span>); <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atype%20A3%20%3D%20fn(i16)%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0562" class="section-header"><a href="#E0562">E0562</a></h2>
<p>Abstract return types (written <code>impl Trait</code> for some trait <code>Trait</code>) are only
allowed as function and inherent impl return types.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">count_to_ten</span>: <span class="kw">impl</span> <span class="ident">Iterator</span><span class="op">&lt;</span><span class="ident">Item</span><span class="op">=</span><span class="ident">usize</span><span class="op">&gt;</span> <span class="op">=</span> <span class="number">0</span>..<span class="number">10</span>;
    <span class="comment">// error: `impl Trait` not allowed outside of function and inherent method</span>
    <span class="comment">//        return types</span>
    <span class="kw">for</span> <span class="ident">i</span> <span class="kw">in</span> <span class="ident">count_to_ten</span> {
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">i</span>);
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20count_to_ten%3A%20impl%20Iterator%3CItem%3Dusize%3E%20%3D%200..10%3B%0A%20%20%20%20%2F%2F%20error%3A%20%60impl%20Trait%60%20not%20allowed%20outside%20of%20function%20and%20inherent%20method%0A%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20return%20types%0A%20%20%20%20for%20i%20in%20count_to_ten%20%7B%0A%20%20%20%20%20%20%20%20println!(%22%7B%7D%22%2C%20i)%3B%0A%20%20%20%20%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Make sure <code>impl Trait</code> only appears in return-type position.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">count_to_n</span>(<span class="ident">n</span>: <span class="ident">usize</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw">impl</span> <span class="ident">Iterator</span><span class="op">&lt;</span><span class="ident">Item</span><span class="op">=</span><span class="ident">usize</span><span class="op">&gt;</span> {
    <span class="number">0</span>..<span class="ident">n</span>
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">for</span> <span class="ident">i</span> <span class="kw">in</span> <span class="ident">count_to_n</span>(<span class="number">10</span>) {  <span class="comment">// ok!</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">i</span>);
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20count_to_n(n%3A%20usize)%20-%3E%20impl%20Iterator%3CItem%3Dusize%3E%20%7B%0A%20%20%20%200..n%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20for%20i%20in%20count_to_n(10)%20%7B%20%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20println!(%22%7B%7D%22%2C%20i)%3B%0A%20%20%20%20%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>See <a href="https://github.com/rust-lang/rfcs/blob/master/text/1522-conservative-impl-trait.md">RFC 1522</a> for more details.</p>
</div>
<div class="error-described"><h2 id="E0565" class="section-header"><a href="#E0565">E0565</a></h2>
<p>A literal was used in a built-in attribute that doesn’t support literals.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">repr</span>(<span class="string">&quot;C&quot;</span>)]</span> <span class="comment">// error: meta item in `repr` must be an identifier</span>
<span class="kw">struct</span> <span class="ident">Repr</span> {}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Brepr(%22C%22)%5D%20%2F%2F%20error%3A%20meta%20item%20in%20%60repr%60%20must%20be%20an%20identifier%0Astruct%20Repr%20%7B%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>Literals in attributes are new and largely unsupported in built-in attributes.
Work to support literals where appropriate is ongoing. Try using an unquoted
name instead:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">C</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">struct</span> <span class="ident">Repr</span> {}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Brepr(C)%5D%20%2F%2F%20ok!%0Astruct%20Repr%20%7B%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0566" class="section-header"><a href="#E0566">E0566</a></h2>
<p>Conflicting representation hints have been used on a same item.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">u32</span>, <span class="ident">u64</span>)]</span>
<span class="kw">enum</span> <span class="ident">Repr</span> { <span class="ident">A</span> }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(u32%2C%20u64)%5D%0Aenum%20Repr%20%7B%20A%20%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In most cases (if not all), using just one representation hint is more than
enough. If you want to have a representation hint depending on the current
architecture, use <code>cfg_attr</code>. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">cfg_attr</span>(<span class="ident">linux</span>, <span class="ident">repr</span>(<span class="ident">u32</span>))]</span>
<span class="attribute">#[<span class="ident">cfg_attr</span>(<span class="ident">not</span>(<span class="ident">linux</span>), <span class="ident">repr</span>(<span class="ident">u64</span>))]</span>
<span class="kw">enum</span> <span class="ident">Repr</span> { <span class="ident">A</span> }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bcfg_attr(linux%2C%20repr(u32))%5D%0A%23%5Bcfg_attr(not(linux)%2C%20repr(u64))%5D%0Aenum%20Repr%20%7B%20A%20%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0567" class="section-header"><a href="#E0567">E0567</a></h2>
<p>Generics have been used on an auto trait.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">auto_traits</span>)]</span>

<span class="ident">auto</span> <span class="kw">trait</span> <span class="ident">Generic</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {} <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(auto_traits)%5D%0A%0Aauto%20trait%20Generic%3CT%3E%20%7B%7D%20%2F%2F%20error!%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Since an auto trait is implemented on all existing types, the
compiler would not be able to infer the types of the trait’s generic
parameters.</p>
<p>To fix this issue, just remove the generics:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">auto_traits</span>)]</span>

<span class="ident">auto</span> <span class="kw">trait</span> <span class="ident">Generic</span> {} <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(auto_traits)%5D%0A%0Aauto%20trait%20Generic%20%7B%7D%20%2F%2F%20ok!%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0568" class="section-header"><a href="#E0568">E0568</a></h2>
<p>A super trait has been added to an auto trait.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">auto_traits</span>)]</span>

<span class="ident">auto</span> <span class="kw">trait</span> <span class="ident">Bound</span> : <span class="ident">Copy</span> {} <span class="comment">// error!</span>

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(auto_traits)%5D%0A%0Aauto%20trait%20Bound%20%3A%20Copy%20%7B%7D%20%2F%2F%20error!%0A%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Since an auto trait is implemented on all existing types, adding a super trait
would filter out a lot of those types. In the current example, almost none of
all the existing types could implement <code>Bound</code> because very few of them have the
<code>Copy</code> trait.</p>
<p>To fix this issue, just remove the super trait:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">auto_traits</span>)]</span>

<span class="ident">auto</span> <span class="kw">trait</span> <span class="ident">Bound</span> {} <span class="comment">// ok!</span>

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(auto_traits)%5D%0A%0Aauto%20trait%20Bound%20%7B%7D%20%2F%2F%20ok!%0A%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0569" class="section-header"><a href="#E0569">E0569</a></h2>
<p>If an impl has a generic parameter with the <code>#[may_dangle]</code> attribute, then
that impl must be declared as an <code>unsafe impl</code>.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">dropck_eyepatch</span>)]</span>

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">X</span><span class="op">&gt;</span>(<span class="ident">X</span>);
<span class="kw">impl</span><span class="op">&lt;</span><span class="attribute">#[<span class="ident">may_dangle</span>]</span> <span class="ident">X</span><span class="op">&gt;</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">X</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) { }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(dropck_eyepatch)%5D%0A%0Afn%20main()%20%7B%0Astruct%20Foo%3CX%3E(X)%3B%0Aimpl%3C%23%5Bmay_dangle%5D%20X%3E%20Drop%20for%20Foo%3CX%3E%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%20%7D%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>In this example, we are asserting that the destructor for <code>Foo</code> will not
access any data of type <code>X</code>, and require this assertion to be true for
overall safety in our program. The compiler does not currently attempt to
verify this assertion; therefore we must tag this <code>impl</code> as unsafe.</p>
</div>
<div class="error-described"><h2 id="E0570" class="section-header"><a href="#E0570">E0570</a></h2>
<p>The requested ABI is unsupported by the current target.</p>
<p>The rust compiler maintains for each target a list of unsupported ABIs on
that target. If an ABI is present in such a list this usually means that the
target / ABI combination is currently unsupported by llvm.</p>
<p>If necessary, you can circumvent this check using custom target specifications.</p>
</div>
<div class="error-described"><h2 id="E0571" class="section-header"><a href="#E0571">E0571</a></h2>
<p>A <code>break</code> statement with an argument appeared in a non-<code>loop</code> loop.</p>
<p>Example of erroneous code:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="kw">while</span> <span class="bool-val">true</span> {
    <span class="kw">if</span> <span class="ident">satisfied</span>(<span class="ident">i</span>) {
        <span class="kw">break</span> <span class="number">2</span> <span class="op">*</span> <span class="ident">i</span>; <span class="comment">// error: `break` with value from a `while` loop</span>
    }
    <span class="ident">i</span> <span class="op">+</span><span class="op">=</span> <span class="number">1</span>;
};</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20i%20%3D%201%3B%0Afn%20satisfied(n%3A%20usize)%20-%3E%20bool%20%7B%20n%20%25%2023%20%3D%3D%200%20%7D%0Alet%20result%20%3D%20while%20true%20%7B%0A%20%20%20%20if%20satisfied(i)%20%7B%0A%20%20%20%20%20%20%20%20break%202%20*%20i%3B%20%2F%2F%20error%3A%20%60break%60%20with%20value%20from%20a%20%60while%60%20loop%0A%20%20%20%20%7D%0A%20%20%20%20i%20%2B%3D%201%3B%0A%7D%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>The <code>break</code> statement can take an argument (which will be the value of the loop
expression if the <code>break</code> statement is executed) in <code>loop</code> loops, but not
<code>for</code>, <code>while</code>, or <code>while let</code> loops.</p>
<p>Make sure <code>break value;</code> statements only occur in <code>loop</code> loops:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="kw">loop</span> { <span class="comment">// This is now a &quot;loop&quot; loop.</span>
    <span class="kw">if</span> <span class="ident">satisfied</span>(<span class="ident">i</span>) {
        <span class="kw">break</span> <span class="number">2</span> <span class="op">*</span> <span class="ident">i</span>; <span class="comment">// ok!</span>
    }
    <span class="ident">i</span> <span class="op">+</span><span class="op">=</span> <span class="number">1</span>;
};</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20i%20%3D%201%3B%0Afn%20satisfied(n%3A%20usize)%20-%3E%20bool%20%7B%20n%20%25%2023%20%3D%3D%200%20%7D%0Alet%20result%20%3D%20loop%20%7B%20%2F%2F%20This%20is%20now%20a%20%22loop%22%20loop.%0A%20%20%20%20if%20satisfied(i)%20%7B%0A%20%20%20%20%20%20%20%20break%202%20*%20i%3B%20%2F%2F%20ok!%0A%20%20%20%20%7D%0A%20%20%20%20i%20%2B%3D%201%3B%0A%7D%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0572" class="section-header"><a href="#E0572">E0572</a></h2>
<p>A return statement was found outside of a function body.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">const</span> <span class="ident">FOO</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="kw">return</span> <span class="number">0</span>; <span class="comment">// error: return statement outside of function body</span>

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aconst%20FOO%3A%20u32%20%3D%20return%200%3B%20%2F%2F%20error%3A%20return%20statement%20outside%20of%20function%20body%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>To fix this issue, just remove the return keyword or move the expression into a
function. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">const</span> <span class="ident">FOO</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="number">0</span>;

<span class="kw">fn</span> <span class="ident">some_fn</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u32</span> {
    <span class="kw">return</span> <span class="ident">FOO</span>;
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">some_fn</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aconst%20FOO%3A%20u32%20%3D%200%3B%0A%0Afn%20some_fn()%20-%3E%20u32%20%7B%0A%20%20%20%20return%20FOO%3B%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20some_fn()%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0573" class="section-header"><a href="#E0573">E0573</a></h2>
<p>Something other than a type has been used when one was expected.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">Dragon</span> {
    <span class="ident">Born</span>,
}

<span class="kw">fn</span> <span class="ident">oblivion</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Dragon</span>::<span class="ident">Born</span> { <span class="comment">// error!</span>
    <span class="ident">Dragon</span>::<span class="ident">Born</span>
}

<span class="kw">const</span> <span class="ident">HOBBIT</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="number">2</span>;
<span class="kw">impl</span> <span class="ident">HOBBIT</span> {} <span class="comment">// error!</span>

<span class="kw">enum</span> <span class="ident">Wizard</span> {
    <span class="ident">Gandalf</span>,
    <span class="ident">Saruman</span>,
}

<span class="kw">trait</span> <span class="ident">Isengard</span> {
    <span class="kw">fn</span> <span class="ident">wizard</span>(<span class="kw">_</span>: <span class="ident">Wizard</span>::<span class="ident">Saruman</span>); <span class="comment">// error!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Dragon%20%7B%0A%20%20%20%20Born%2C%0A%7D%0A%0Afn%20oblivion()%20-%3E%20Dragon%3A%3ABorn%20%7B%20%2F%2F%20error!%0A%20%20%20%20Dragon%3A%3ABorn%0A%7D%0A%0Aconst%20HOBBIT%3A%20u32%20%3D%202%3B%0Aimpl%20HOBBIT%20%7B%7D%20%2F%2F%20error!%0A%0Aenum%20Wizard%20%7B%0A%20%20%20%20Gandalf%2C%0A%20%20%20%20Saruman%2C%0A%7D%0A%0Atrait%20Isengard%20%7B%0A%20%20%20%20fn%20wizard(_%3A%20Wizard%3A%3ASaruman)%3B%20%2F%2F%20error!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In all these errors, a type was expected. For example, in the first error, if
we want to return the <code>Born</code> variant from the <code>Dragon</code> enum, we must set the
function to return the enum and not its variant:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">Dragon</span> {
    <span class="ident">Born</span>,
}

<span class="kw">fn</span> <span class="ident">oblivion</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Dragon</span> { <span class="comment">// ok!</span>
    <span class="ident">Dragon</span>::<span class="ident">Born</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Dragon%20%7B%0A%20%20%20%20Born%2C%0A%7D%0A%0Afn%20oblivion()%20-%3E%20Dragon%20%7B%20%2F%2F%20ok!%0A%20%20%20%20Dragon%3A%3ABorn%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In the second error, you can’t implement something on an item, only on types.
We would need to create a new type if we wanted to do something similar:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Hobbit</span>(<span class="ident">u32</span>); <span class="comment">// we create a new type</span>

<span class="kw">const</span> <span class="ident">HOBBIT</span>: <span class="ident">Hobbit</span> <span class="op">=</span> <span class="ident">Hobbit</span>(<span class="number">2</span>);
<span class="kw">impl</span> <span class="ident">Hobbit</span> {} <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Hobbit(u32)%3B%20%2F%2F%20we%20create%20a%20new%20type%0A%0Aconst%20HOBBIT%3A%20Hobbit%20%3D%20Hobbit(2)%3B%0Aimpl%20Hobbit%20%7B%7D%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>In the third case, we tried to only expect one variant of the <code>Wizard</code> enum,
which is not possible. To make this work, we need to using pattern matching
over the <code>Wizard</code> enum:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">Wizard</span> {
    <span class="ident">Gandalf</span>,
    <span class="ident">Saruman</span>,
}

<span class="kw">trait</span> <span class="ident">Isengard</span> {
    <span class="kw">fn</span> <span class="ident">wizard</span>(<span class="ident">w</span>: <span class="ident">Wizard</span>) { <span class="comment">// ok!</span>
        <span class="kw">match</span> <span class="ident">w</span> {
            <span class="ident">Wizard</span>::<span class="ident">Saruman</span> <span class="op">=</span><span class="op">&gt;</span> {
                <span class="comment">// do something</span>
            }
            <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> {} <span class="comment">// ignore everything else</span>
        }
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Wizard%20%7B%0A%20%20%20%20Gandalf%2C%0A%20%20%20%20Saruman%2C%0A%7D%0A%0Atrait%20Isengard%20%7B%0A%20%20%20%20fn%20wizard(w%3A%20Wizard)%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20match%20w%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Wizard%3A%3ASaruman%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20do%20something%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20_%20%3D%3E%20%7B%7D%20%2F%2F%20ignore%20everything%20else%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0574" class="section-header"><a href="#E0574">E0574</a></h2>
<p>Something other than a struct, variant or union has been used when one was
expected.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">mod</span> <span class="ident">Mordor</span> {}

<span class="kw">let</span> <span class="ident">sauron</span> <span class="op">=</span> <span class="ident">Mordor</span> { <span class="ident">x</span>: () }; <span class="comment">// error!</span>

<span class="kw">enum</span> <span class="ident">Jak</span> {
    <span class="ident">Daxter</span> { <span class="ident">i</span>: <span class="ident">isize</span> },
}

<span class="kw">let</span> <span class="ident">eco</span> <span class="op">=</span> <span class="ident">Jak</span>::<span class="ident">Daxter</span> { <span class="ident">i</span>: <span class="number">1</span> };
<span class="kw">match</span> <span class="ident">eco</span> {
    <span class="ident">Jak</span> { <span class="ident">i</span> } <span class="op">=</span><span class="op">&gt;</span> {} <span class="comment">// error!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20Mordor%20%7B%7D%0A%0Alet%20sauron%20%3D%20Mordor%20%7B%20x%3A%20()%20%7D%3B%20%2F%2F%20error!%0A%0Aenum%20Jak%20%7B%0A%20%20%20%20Daxter%20%7B%20i%3A%20isize%20%7D%2C%0A%7D%0A%0Alet%20eco%20%3D%20Jak%3A%3ADaxter%20%7B%20i%3A%201%20%7D%3B%0Amatch%20eco%20%7B%0A%20%20%20%20Jak%20%7B%20i%20%7D%20%3D%3E%20%7B%7D%20%2F%2F%20error!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In all these errors, a type was expected. For example, in the first error,
we tried to instantiate the <code>Mordor</code> module, which is impossible. If you want
to instantiate a type inside a module, you can do it as follow:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">mod</span> <span class="ident">Mordor</span> {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">TheRing</span> {
        <span class="kw">pub</span> <span class="ident">x</span>: <span class="ident">usize</span>,
    }
}

<span class="kw">let</span> <span class="ident">sauron</span> <span class="op">=</span> <span class="ident">Mordor</span>::<span class="ident">TheRing</span> { <span class="ident">x</span>: <span class="number">1</span> }; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20Mordor%20%7B%0A%20%20%20%20pub%20struct%20TheRing%20%7B%0A%20%20%20%20%20%20%20%20pub%20x%3A%20usize%2C%0A%20%20%20%20%7D%0A%7D%0A%0Alet%20sauron%20%3D%20Mordor%3A%3ATheRing%20%7B%20x%3A%201%20%7D%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>In the second error, we tried to bind the <code>Jak</code> enum directly, which is not
possible: you can only bind one of its variants. To do so:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">Jak</span> {
    <span class="ident">Daxter</span> { <span class="ident">i</span>: <span class="ident">isize</span> },
}

<span class="kw">let</span> <span class="ident">eco</span> <span class="op">=</span> <span class="ident">Jak</span>::<span class="ident">Daxter</span> { <span class="ident">i</span>: <span class="number">1</span> };
<span class="kw">match</span> <span class="ident">eco</span> {
    <span class="ident">Jak</span>::<span class="ident">Daxter</span> { <span class="ident">i</span> } <span class="op">=</span><span class="op">&gt;</span> {} <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Jak%20%7B%0A%20%20%20%20Daxter%20%7B%20i%3A%20isize%20%7D%2C%0A%7D%0A%0Alet%20eco%20%3D%20Jak%3A%3ADaxter%20%7B%20i%3A%201%20%7D%3B%0Amatch%20eco%20%7B%0A%20%20%20%20Jak%3A%3ADaxter%20%7B%20i%20%7D%20%3D%3E%20%7B%7D%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0575" class="section-header"><a href="#E0575">E0575</a></h2>
<p>Something other than a type or an associated type was given.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">Rick</span> { <span class="ident">Morty</span> }

<span class="kw">let</span> <span class="kw">_</span>: <span class="op">&lt;</span><span class="ident">u8</span> <span class="kw">as</span> <span class="ident">Rick</span><span class="op">&gt;</span>::<span class="ident">Morty</span>; <span class="comment">// error!</span>

<span class="kw">trait</span> <span class="ident">Age</span> {
    <span class="kw">type</span> <span class="ident">Empire</span>;
    <span class="kw">fn</span> <span class="ident">Mythology</span>() {}
}

<span class="kw">impl</span> <span class="ident">Age</span> <span class="kw">for</span> <span class="ident">u8</span> {
    <span class="kw">type</span> <span class="ident">Empire</span> <span class="op">=</span> <span class="ident">u16</span>;
}

<span class="kw">let</span> <span class="kw">_</span>: <span class="op">&lt;</span><span class="ident">u8</span> <span class="kw">as</span> <span class="ident">Age</span><span class="op">&gt;</span>::<span class="ident">Mythology</span>; <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Rick%20%7B%20Morty%20%7D%0A%0Alet%20_%3A%20%3Cu8%20as%20Rick%3E%3A%3AMorty%3B%20%2F%2F%20error!%0A%0Atrait%20Age%20%7B%0A%20%20%20%20type%20Empire%3B%0A%20%20%20%20fn%20Mythology()%20%7B%7D%0A%7D%0A%0Aimpl%20Age%20for%20u8%20%7B%0A%20%20%20%20type%20Empire%20%3D%20u16%3B%0A%7D%0A%0Alet%20_%3A%20%3Cu8%20as%20Age%3E%3A%3AMythology%3B%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>In both cases, we’re declaring a variable (called <code>_</code>) and we’re giving it a
type. However, <code>&lt;u8 as Rick&gt;::Morty</code> and <code>&lt;u8 as Age&gt;::Mythology</code> aren’t types,
therefore the compiler throws an error.</p>
<p><code>&lt;u8 as Rick&gt;::Morty</code> is an enum variant, you cannot use a variant as a type,
you have to use the enum directly:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">Rick</span> { <span class="ident">Morty</span> }

<span class="kw">let</span> <span class="kw">_</span>: <span class="ident">Rick</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Rick%20%7B%20Morty%20%7D%0A%0Alet%20_%3A%20Rick%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p><code>&lt;u8 as Age&gt;::Mythology</code> is a trait method, which is definitely not a type.
However, the <code>Age</code> trait provides an associated type <code>Empire</code> which can be
used as a type:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Age</span> {
    <span class="kw">type</span> <span class="ident">Empire</span>;
    <span class="kw">fn</span> <span class="ident">Mythology</span>() {}
}

<span class="kw">impl</span> <span class="ident">Age</span> <span class="kw">for</span> <span class="ident">u8</span> {
    <span class="kw">type</span> <span class="ident">Empire</span> <span class="op">=</span> <span class="ident">u16</span>;
}

<span class="kw">let</span> <span class="kw">_</span>: <span class="op">&lt;</span><span class="ident">u8</span> <span class="kw">as</span> <span class="ident">Age</span><span class="op">&gt;</span>::<span class="ident">Empire</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Age%20%7B%0A%20%20%20%20type%20Empire%3B%0A%20%20%20%20fn%20Mythology()%20%7B%7D%0A%7D%0A%0Aimpl%20Age%20for%20u8%20%7B%0A%20%20%20%20type%20Empire%20%3D%20u16%3B%0A%7D%0A%0Alet%20_%3A%20%3Cu8%20as%20Age%3E%3A%3AEmpire%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0576" class="section-header"><a href="#E0576">E0576</a></h2>
<p>An associated item wasn’t found in the given type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Hello</span> {
    <span class="kw">type</span> <span class="ident">Who</span>;

    <span class="kw">fn</span> <span class="ident">hello</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="op">&lt;</span><span class="self">Self</span> <span class="kw">as</span> <span class="ident">Hello</span><span class="op">&gt;</span>::<span class="ident">You</span>; <span class="comment">// error!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Hello%20%7B%0A%20%20%20%20type%20Who%3B%0A%0A%20%20%20%20fn%20hello()%20-%3E%20%3CSelf%20as%20Hello%3E%3A%3AYou%3B%20%2F%2F%20error!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In this example, we tried to use the non-existent associated type <code>You</code> of the
<code>Hello</code> trait. To fix this error, use an existing associated type:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Hello</span> {
    <span class="kw">type</span> <span class="ident">Who</span>;

    <span class="kw">fn</span> <span class="ident">hello</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="op">&lt;</span><span class="self">Self</span> <span class="kw">as</span> <span class="ident">Hello</span><span class="op">&gt;</span>::<span class="ident">Who</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Hello%20%7B%0A%20%20%20%20type%20Who%3B%0A%0A%20%20%20%20fn%20hello()%20-%3E%20%3CSelf%20as%20Hello%3E%3A%3AWho%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0577" class="section-header"><a href="#E0577">E0577</a></h2>
<p>Something other than a module was found in visibility scope.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Sea</span>;

<span class="kw">pub</span> (<span class="kw">in</span> <span class="kw">crate</span>::<span class="ident">Sea</span>) <span class="kw">struct</span> <span class="ident">Shark</span>; <span class="comment">// error!</span>

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Apub%20struct%20Sea%3B%0A%0Apub%20(in%20crate%3A%3ASea)%20struct%20Shark%3B%20%2F%2F%20error!%0A%0Afn%20main()%20%7B%7D&amp;edition=2018">Run</a></div>
<p><code>Sea</code> is not a module, therefore it is invalid to use it in a visibility path.
To fix this error we need to ensure <code>Sea</code> is a module.</p>
<p>Please note that the visibility scope can only be applied on ancestors!</p>

<div class='information'><div class='tooltip edition' data-edition="2018">ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered edition">
<span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">Sea</span> {
    <span class="kw">pub</span> (<span class="kw">in</span> <span class="kw">crate</span>::<span class="ident">Sea</span>) <span class="kw">struct</span> <span class="ident">Shark</span>; <span class="comment">// ok!</span>
}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Apub%20mod%20Sea%20%7B%0A%20%20%20%20pub%20(in%20crate%3A%3ASea)%20struct%20Shark%3B%20%2F%2F%20ok!%0A%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2018">Run</a></div>
</div>
<div class="error-described"><h2 id="E0578" class="section-header"><a href="#E0578">E0578</a></h2>
<p>A module cannot be found and therefore, the visibility cannot be determined.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="macro">foo</span><span class="macro">!</span>();

<span class="kw">pub</span> (<span class="kw">in</span> ::<span class="ident">Sea</span>) <span class="kw">struct</span> <span class="ident">Shark</span>; <span class="comment">// error!</span>

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afoo!()%3B%0A%0Apub%20(in%20%3A%3ASea)%20struct%20Shark%3B%20%2F%2F%20error!%0A%0Afn%20main()%20%7B%7D&amp;edition=2018">Run</a></div>
<p>Because of the call to the <code>foo</code> macro, the compiler guesses that the missing
module could be inside it and fails because the macro definition cannot be
found.</p>
<p>To fix this error, please be sure that the module is in scope:</p>

<div class='information'><div class='tooltip edition' data-edition="2018">ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered edition">
<span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">Sea</span> {
    <span class="kw">pub</span> (<span class="kw">in</span> <span class="kw">crate</span>::<span class="ident">Sea</span>) <span class="kw">struct</span> <span class="ident">Shark</span>;
}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Apub%20mod%20Sea%20%7B%0A%20%20%20%20pub%20(in%20crate%3A%3ASea)%20struct%20Shark%3B%0A%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2018">Run</a></div>
</div>
<div class="error-described"><h2 id="E0579" class="section-header"><a href="#E0579">E0579</a></h2>
<p>A lower range wasn’t less than the upper range.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">exclusive_range_pattern</span>)]</span>

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">match</span> <span class="number">5u32</span> {
        <span class="comment">// This range is ok, albeit pointless.</span>
        <span class="number">1</span> .. <span class="number">2</span> <span class="op">=</span><span class="op">&gt;</span> {}
        <span class="comment">// This range is empty, and the compiler can tell.</span>
        <span class="number">5</span> .. <span class="number">5</span> <span class="op">=</span><span class="op">&gt;</span> {} <span class="comment">// error!</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(exclusive_range_pattern)%5D%0A%0Afn%20main()%20%7B%0A%20%20%20%20match%205u32%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20This%20range%20is%20ok%2C%20albeit%20pointless.%0A%20%20%20%20%20%20%20%201%20..%202%20%3D%3E%20%7B%7D%0A%20%20%20%20%20%20%20%20%2F%2F%20This%20range%20is%20empty%2C%20and%20the%20compiler%20can%20tell.%0A%20%20%20%20%20%20%20%205%20..%205%20%3D%3E%20%7B%7D%20%2F%2F%20error!%0A%20%20%20%20%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>When matching against an exclusive range, the compiler verifies that the range
is non-empty. Exclusive range patterns include the start point but not the end
point, so this is equivalent to requiring the start of the range to be less
than the end of the range.</p>
</div>
<div class="error-described"><h2 id="E0580" class="section-header"><a href="#E0580">E0580</a></h2>
<p>The <code>main</code> function was incorrectly declared.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span>(<span class="ident">x</span>: <span class="ident">i32</span>) { <span class="comment">// error: main function has wrong type</span>
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">x</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main(x%3A%20i32)%20%7B%20%2F%2F%20error%3A%20main%20function%20has%20wrong%20type%0A%20%20%20%20println!(%22%7B%7D%22%2C%20x)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>The <code>main</code> function prototype should never take arguments.
Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// your code</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20your%20code%0A%7D&amp;edition=2015">Run</a></div>
<p>If you want to get command-line arguments, use <code>std::env::args</code>. To exit with a
specified exit code, use <code>std::process::exit</code>.</p>
</div>
<div class="error-described"><h2 id="E0581" class="section-header"><a href="#E0581">E0581</a></h2>
<p>In a <code>fn</code> type, a lifetime appears only in the return type
and not in the arguments types.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// Here, `&#39;a` appears only in the return type:</span>
    <span class="kw">let</span> <span class="ident">x</span>: <span class="kw">for</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="kw">fn</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20Here%2C%20%60'a%60%20appears%20only%20in%20the%20return%20type%3A%0A%20%20%20%20let%20x%3A%20for%3C'a%3E%20fn()%20-%3E%20%26'a%20i32%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>The problem here is that the lifetime isn’t contrained by any of the arguments,
making it impossible to determine how long it’s supposed to live.</p>
<p>To fix this issue, either use the lifetime in the arguments, or use the
<code>'static</code> lifetime. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// Here, `&#39;a` appears only in the return type:</span>
    <span class="kw">let</span> <span class="ident">x</span>: <span class="kw">for</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="kw">fn</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>;
    <span class="kw">let</span> <span class="ident">y</span>: <span class="kw">fn</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">i32</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20Here%2C%20%60'a%60%20appears%20only%20in%20the%20return%20type%3A%0A%20%20%20%20let%20x%3A%20for%3C'a%3E%20fn(%26'a%20i32)%20-%3E%20%26'a%20i32%3B%0A%20%20%20%20let%20y%3A%20fn()%20-%3E%20%26'static%20i32%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Note: The examples above used to be (erroneously) accepted by the
compiler, but this was since corrected. See <a href="https://github.com/rust-lang/rust/issues/33685">issue #33685</a> for more
details.</p>
</div>
<div class="error-described"><h2 id="E0582" class="section-header"><a href="#E0582">E0582</a></h2>
<p>A lifetime is only present in an associated-type binding, and not in the input
types to the trait.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="ident">F</span><span class="op">&gt;</span>(<span class="ident">t</span>: <span class="ident">F</span>)
    <span class="comment">// No type can satisfy this requirement, since `&#39;a` does not</span>
    <span class="comment">// appear in any of the input types (here, `i32`):</span>
    <span class="kw">where</span> <span class="ident">F</span>: <span class="kw">for</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Fn</span>(<span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span><span class="op">&gt;</span>
{
}

<span class="kw">fn</span> <span class="ident">main</span>() { }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20bar%3CF%3E(t%3A%20F)%0A%20%20%20%20%2F%2F%20No%20type%20can%20satisfy%20this%20requirement%2C%20since%20%60'a%60%20does%20not%0A%20%20%20%20%2F%2F%20appear%20in%20any%20of%20the%20input%20types%20(here%2C%20%60i32%60)%3A%0A%20%20%20%20where%20F%3A%20for%3C'a%3E%20Fn(i32)%20-%3E%20Option%3C%26'a%20i32%3E%0A%7B%0A%7D%0A%0Afn%20main()%20%7B%20%7D&amp;edition=2015">Run</a></div>
<p>To fix this issue, either use the lifetime in the inputs, or use
<code>'static</code>. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="ident">F</span>, <span class="ident">G</span><span class="op">&gt;</span>(<span class="ident">t</span>: <span class="ident">F</span>, <span class="ident">u</span>: <span class="ident">G</span>)
    <span class="kw">where</span> <span class="ident">F</span>: <span class="kw">for</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Fn</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span><span class="op">&gt;</span>,
          <span class="ident">G</span>: <span class="ident">Fn</span>(<span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">i32</span><span class="op">&gt;</span>,
{
}

<span class="kw">fn</span> <span class="ident">main</span>() { }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20bar%3CF%2C%20G%3E(t%3A%20F%2C%20u%3A%20G)%0A%20%20%20%20where%20F%3A%20for%3C'a%3E%20Fn(%26'a%20i32)%20-%3E%20Option%3C%26'a%20i32%3E%2C%0A%20%20%20%20%20%20%20%20%20%20G%3A%20Fn(i32)%20-%3E%20Option%3C%26'static%20i32%3E%2C%0A%7B%0A%7D%0A%0Afn%20main()%20%7B%20%7D&amp;edition=2015">Run</a></div>
<p>Note: The examples above used to be (erroneously) accepted by the
compiler, but this was since corrected. See <a href="https://github.com/rust-lang/rust/issues/33685">issue #33685</a> for more
details.</p>
</div>
<div class="error-described"><h2 id="E0583" class="section-header"><a href="#E0583">E0583</a></h2>
<p>A file wasn’t found for an out-of-line module.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">mod</span> <span class="ident">file_that_doesnt_exist</span>; <span class="comment">// error: file not found for module</span>

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Amod%20file_that_doesnt_exist%3B%20%2F%2F%20error%3A%20file%20not%20found%20for%20module%0A%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>Please be sure that a file corresponding to the module exists. If you
want to use a module named <code>file_that_doesnt_exist</code>, you need to have a file
named <code>file_that_doesnt_exist.rs</code> or <code>file_that_doesnt_exist/mod.rs</code> in the
same directory.</p>
</div>
<div class="error-described"><h2 id="E0584" class="section-header"><a href="#E0584">E0584</a></h2>
<p>A doc comment that is not attached to anything has been encountered.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Island</span> {
    <span class="kw">fn</span> <span class="ident">lost</span>();

    <span class="doccomment">/// I&#39;m lost!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Island%20%7B%0A%20%20%20%20fn%20lost()%3B%0A%0A%20%20%20%20%2F%2F%2F%20I'm%20lost!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>A little reminder: a doc comment has to be placed before the item it’s supposed
to document. So if you want to document the <code>Island</code> trait, you need to put a
doc comment before it, not inside it. Same goes for the <code>lost</code> method: the doc
comment needs to be before it:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="doccomment">/// I&#39;m THE island!</span>
<span class="kw">trait</span> <span class="ident">Island</span> {
    <span class="doccomment">/// I&#39;m lost!</span>
    <span class="kw">fn</span> <span class="ident">lost</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%2F%2F%2F%20I'm%20THE%20island!%0Atrait%20Island%20%7B%0A%20%20%20%20%2F%2F%2F%20I'm%20lost!%0A%20%20%20%20fn%20lost()%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0585" class="section-header"><a href="#E0585">E0585</a></h2>
<p>A documentation comment that doesn’t document anything was found.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// The following doc comment will fail:</span>
    <span class="doccomment">/// This is a useless doc comment!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20The%20following%20doc%20comment%20will%20fail%3A%0A%20%20%20%20%2F%2F%2F%20This%20is%20a%20useless%20doc%20comment!%0A%7D&amp;edition=2015">Run</a></div>
<p>Documentation comments need to be followed by items, including functions,
types, modules, etc. Examples:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="doccomment">/// I&#39;m documenting the following struct:</span>
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="doccomment">/// I&#39;m documenting the following function:</span>
<span class="kw">fn</span> <span class="ident">foo</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%2F%2F%2F%20I'm%20documenting%20the%20following%20struct%3A%0Astruct%20Foo%3B%0A%0A%2F%2F%2F%20I'm%20documenting%20the%20following%20function%3A%0Afn%20foo()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0586" class="section-header"><a href="#E0586">E0586</a></h2>
<p>An inclusive range was used with no end.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">tmp</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>];
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">tmp</span>[<span class="number">1</span>..<span class="op">=</span>]; <span class="comment">// error: inclusive range was used with no end</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20tmp%20%3D%20vec!%5B0%2C%201%2C%202%2C%203%2C%204%2C%204%2C%203%2C%203%2C%202%2C%201%5D%3B%0A%20%20%20%20let%20x%20%3D%20%26tmp%5B1..%3D%5D%3B%20%2F%2F%20error%3A%20inclusive%20range%20was%20used%20with%20no%20end%0A%7D&amp;edition=2015">Run</a></div>
<p>An inclusive range needs an end in order to <em>include</em> it. If you just need a
start and no end, use a non-inclusive range (with <code>..</code>):</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">tmp</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>];
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">tmp</span>[<span class="number">1</span>..]; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20tmp%20%3D%20vec!%5B0%2C%201%2C%202%2C%203%2C%204%2C%204%2C%203%2C%203%2C%202%2C%201%5D%3B%0A%20%20%20%20let%20x%20%3D%20%26tmp%5B1..%5D%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>Or put an end to your inclusive range:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">tmp</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>];
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">tmp</span>[<span class="number">1</span>..<span class="op">=</span><span class="number">3</span>]; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20let%20tmp%20%3D%20vec!%5B0%2C%201%2C%202%2C%203%2C%204%2C%204%2C%203%2C%203%2C%202%2C%201%5D%3B%0A%20%20%20%20let%20x%20%3D%20%26tmp%5B1..%3D3%5D%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0587" class="section-header"><a href="#E0587">E0587</a></h2>
<p>A type has both <code>packed</code> and <code>align</code> representation hints.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">packed</span>, <span class="ident">align</span>(<span class="number">8</span>))]</span> <span class="comment">// error!</span>
<span class="kw">struct</span> <span class="ident">Umbrella</span>(<span class="ident">i32</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(packed%2C%20align(8))%5D%20%2F%2F%20error!%0Astruct%20Umbrella(i32)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>You cannot use <code>packed</code> and <code>align</code> hints on a same type. If you want to pack a
type to a given size, you should provide a size to packed:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">packed</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">struct</span> <span class="ident">Umbrella</span>(<span class="ident">i32</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(packed)%5D%20%2F%2F%20ok!%0Astruct%20Umbrella(i32)%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0588" class="section-header"><a href="#E0588">E0588</a></h2>
<p>A type with <code>packed</code> representation hint has a field with <code>align</code>
representation hint.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">align</span>(<span class="number">16</span>))]</span>
<span class="kw">struct</span> <span class="ident">Aligned</span>(<span class="ident">i32</span>);

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">packed</span>)]</span> <span class="comment">// error!</span>
<span class="kw">struct</span> <span class="ident">Packed</span>(<span class="ident">Aligned</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(align(16))%5D%0Astruct%20Aligned(i32)%3B%0A%0A%23%5Brepr(packed)%5D%20%2F%2F%20error!%0Astruct%20Packed(Aligned)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Just like you cannot have both <code>align</code> and <code>packed</code> representation hints on a
same type, a <code>packed</code> type cannot contain another type with the <code>align</code>
representation hint. However, you can do the opposite:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">packed</span>)]</span>
<span class="kw">struct</span> <span class="ident">Packed</span>(<span class="ident">i32</span>);

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">align</span>(<span class="number">16</span>))]</span> <span class="comment">// ok!</span>
<span class="kw">struct</span> <span class="ident">Aligned</span>(<span class="ident">Packed</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(packed)%5D%0Astruct%20Packed(i32)%3B%0A%0A%23%5Brepr(align(16))%5D%20%2F%2F%20ok!%0Astruct%20Aligned(Packed)%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0589" class="section-header"><a href="#E0589">E0589</a></h2>
<p>The value of <code>N</code> that was specified for <code>repr(align(N))</code> was not a power
of two, or was greater than 2^29.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">align</span>(<span class="number">15</span>))]</span> <span class="comment">// error: invalid `repr(align)` attribute: not a power of two</span>
<span class="kw">enum</span> <span class="ident">Foo</span> {
    <span class="ident">Bar</span>(<span class="ident">u64</span>),
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(align(15))%5D%20%2F%2F%20error%3A%20invalid%20%60repr(align)%60%20attribute%3A%20not%20a%20power%20of%20two%0Aenum%20Foo%20%7B%0A%20%20%20%20Bar(u64)%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0590" class="section-header"><a href="#E0590">E0590</a></h2>
<p><code>break</code> or <code>continue</code> keywords were used in a condition of a <code>while</code> loop
without a label.</p>
<p>Erroneous code code:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">while</span> <span class="kw">break</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Awhile%20break%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p><code>break</code> or <code>continue</code> must include a label when used in the condition of a
<code>while</code> loop.</p>
<p>To fix this, add a label specifying which loop is being broken out of:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="lifetime">&#39;foo</span>: <span class="kw">while</span> <span class="kw">break</span> <span class="lifetime">&#39;foo</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A'foo%3A%20while%20break%20'foo%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0591" class="section-header"><a href="#E0591">E0591</a></h2>
<p>Per <a href="https://github.com/rust-lang/rfcs/blob/master/text/0401-coercions.md">RFC 401</a>, if you have a function declaration <code>foo</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">S</span>;

<span class="comment">// For the purposes of this explanation, all of these</span>
<span class="comment">// different kinds of `fn` declarations are equivalent:</span>

<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="ident">S</span>) { <span class="comment">/* ... */</span> }
<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="ident">S</span>);
}
<span class="kw">impl</span> <span class="ident">S</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="self">self</span>) { <span class="comment">/* ... */</span> }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20S%3B%0A%0A%2F%2F%20For%20the%20purposes%20of%20this%20explanation%2C%20all%20of%20these%0A%2F%2F%20different%20kinds%20of%20%60fn%60%20declarations%20are%20equivalent%3A%0A%0Afn%20foo(x%3A%20S)%20%7B%20%2F*%20...%20*%2F%20%7D%0A%23%5Bcfg(for_demonstration_only)%5D%0Aextern%20%22C%22%20%7B%0A%20%20%20%20fn%20foo(x%3A%20S)%3B%0A%7D%0A%23%5Bcfg(for_demonstration_only)%5D%0Aimpl%20S%20%7B%0A%20%20%20%20fn%20foo(self)%20%7B%20%2F*%20...%20*%2F%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>the type of <code>foo</code> is <strong>not</strong> <code>fn(S)</code>, as one might expect.
Rather, it is a unique, zero-sized marker type written here as <code>typeof(foo)</code>.
However, <code>typeof(foo)</code> can be <em>coerced</em> to a function pointer <code>fn(S)</code>,
so you rarely notice this:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span>: <span class="kw">fn</span>(<span class="ident">S</span>) <span class="op">=</span> <span class="ident">foo</span>; <span class="comment">// OK, coerces</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20S%3B%0Afn%20foo(_%3A%20S)%20%7B%7D%0Alet%20x%3A%20fn(S)%20%3D%20foo%3B%20%2F%2F%20OK%2C%20coerces%0A%7D&amp;edition=2015">Run</a></div>
<p>The reason that this matter is that the type <code>fn(S)</code> is not specific to
any particular function: it’s a function <em>pointer</em>. So calling <code>x()</code> results
in a virtual call, whereas <code>foo()</code> is statically dispatched, because the type
of <code>foo</code> tells us precisely what function is being called.</p>
<p>As noted above, coercions mean that most code doesn’t have to be
concerned with this distinction. However, you can tell the difference
when using <strong>transmute</strong> to convert a fn item into a fn pointer.</p>
<p>This is sometimes done as part of an FFI:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> <span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">userdata</span>: <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span>) {
    <span class="comment">/* ... */</span>
}

<span class="kw">unsafe</span> {
    <span class="kw">let</span> <span class="ident">f</span>: <span class="kw">extern</span> <span class="string">&quot;C&quot;</span> <span class="kw">fn</span>(<span class="kw-2">*</span><span class="kw-2">mut</span> <span class="ident">i32</span>) <span class="op">=</span> <span class="ident">transmute</span>(<span class="ident">foo</span>);
    <span class="ident">callback</span>(<span class="ident">f</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aextern%20%22C%22%20fn%20foo(userdata%3A%20Box%3Ci32%3E)%20%7B%0A%20%20%20%20%2F*%20...%20*%2F%0A%7D%0A%0Afn%20callback(_%3A%20extern%20%22C%22%20fn(*mut%20i32))%20%7B%7D%0Ause%20std%3A%3Amem%3A%3Atransmute%3B%0Aunsafe%20%7B%0A%20%20%20%20let%20f%3A%20extern%20%22C%22%20fn(*mut%20i32)%20%3D%20transmute(foo)%3B%0A%20%20%20%20callback(f)%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, transmute is being used to convert the types of the fn arguments.
This pattern is incorrect because, because the type of <code>foo</code> is a function
<strong>item</strong> (<code>typeof(foo)</code>), which is zero-sized, and the target type (<code>fn()</code>)
is a function pointer, which is not zero-sized.
This pattern should be rewritten. There are a few possible ways to do this:</p>
<ul>
<li>
<p>change the original fn declaration to match the expected signature,
and do the cast in the fn body (the preferred option)</p>
</li>
<li>
<p>cast the fn item of a fn pointer before calling transmute, as shown here:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">f</span>: <span class="kw">extern</span> <span class="string">&quot;C&quot;</span> <span class="kw">fn</span>(<span class="kw-2">*</span><span class="kw-2">mut</span> <span class="ident">i32</span>) <span class="op">=</span> <span class="ident">transmute</span>(<span class="ident">foo</span> <span class="kw">as</span> <span class="kw">extern</span> <span class="string">&quot;C&quot;</span> <span class="kw">fn</span>(<span class="kw">_</span>));
<span class="kw">let</span> <span class="ident">f</span>: <span class="kw">extern</span> <span class="string">&quot;C&quot;</span> <span class="kw">fn</span>(<span class="kw-2">*</span><span class="kw-2">mut</span> <span class="ident">i32</span>) <span class="op">=</span> <span class="ident">transmute</span>(<span class="ident">foo</span> <span class="kw">as</span> <span class="ident">usize</span>); <span class="comment">// works too</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aextern%20%22C%22%20fn%20foo(_%3A%20Box%3Ci32%3E)%20%7B%7D%0Ause%20std%3A%3Amem%3A%3Atransmute%3B%0Aunsafe%20%7B%0Alet%20f%3A%20extern%20%22C%22%20fn(*mut%20i32)%20%3D%20transmute(foo%20as%20extern%20%22C%22%20fn(_))%3B%0Alet%20f%3A%20extern%20%22C%22%20fn(*mut%20i32)%20%3D%20transmute(foo%20as%20usize)%3B%20%2F%2F%20works%20too%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</li>
</ul>
<p>The same applies to transmutes to <code>*mut fn()</code>, which were observed in practice.
Note though that use of this type is generally incorrect.
The intention is typically to describe a function pointer, but just <code>fn()</code>
alone suffices for that. <code>*mut fn()</code> is a pointer to a fn pointer.
(Since these values are typically just passed to C code, however, this rarely
makes a difference in practice.)</p>
</div>
<div class="error-described"><h2 id="E0592" class="section-header"><a href="#E0592">E0592</a></h2>
<p>This error occurs when you defined methods or associated functions with same
name.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>() {} <span class="comment">// previous definition here</span>
}

<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>() {} <span class="comment">// duplicate definition here</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20bar()%20%7B%7D%20%2F%2F%20previous%20definition%20here%0A%7D%0A%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20bar()%20%7B%7D%20%2F%2F%20duplicate%20definition%20here%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>A similar error is E0201. The difference is whether there is one declaration
block or not. To avoid this error, you must give each <code>fn</code> a unique name.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span>;

<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>() {}
}

<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">baz</span>() {} <span class="comment">// define with different name</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3B%0A%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20bar()%20%7B%7D%0A%7D%0A%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20baz()%20%7B%7D%20%2F%2F%20define%20with%20different%20name%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0593" class="section-header"><a href="#E0593">E0593</a></h2>
<p>You tried to supply an <code>Fn</code>-based type with an incorrect number of arguments
than what was expected.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">F</span>: <span class="ident">Fn</span>()<span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">F</span>) { }

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// [E0593] closure takes 1 argument but 0 arguments are required</span>
    <span class="ident">foo</span>(<span class="op">|</span><span class="ident">y</span><span class="op">|</span> { });
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20foo%3CF%3A%20Fn()%3E(x%3A%20F)%20%7B%20%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20%5BE0593%5D%20closure%20takes%201%20argument%20but%200%20arguments%20are%20required%0A%20%20%20%20foo(%7Cy%7C%20%7B%20%7D)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>You have to provide the same number of arguments as expected by the <code>Fn</code>-based
type. So to fix the previous example, we need to remove the <code>y</code> argument:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">F</span>: <span class="ident">Fn</span>()<span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">F</span>) { }

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">foo</span>(<span class="op">|</span><span class="op">|</span> { }); <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20foo%3CF%3A%20Fn()%3E(x%3A%20F)%20%7B%20%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20foo(%7C%7C%20%7B%20%7D)%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0594" class="section-header"><a href="#E0594">E0594</a></h2>
<p>A non-mutable value was assigned a value.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">SolarSystem</span> {
    <span class="ident">earth</span>: <span class="ident">i32</span>,
}

<span class="kw">let</span> <span class="ident">ss</span> <span class="op">=</span> <span class="ident">SolarSystem</span> { <span class="ident">earth</span>: <span class="number">3</span> };
<span class="ident">ss</span>.<span class="ident">earth</span> <span class="op">=</span> <span class="number">2</span>; <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20SolarSystem%20%7B%0A%20%20%20%20earth%3A%20i32%2C%0A%7D%0A%0Alet%20ss%20%3D%20SolarSystem%20%7B%20earth%3A%203%20%7D%3B%0Ass.earth%20%3D%202%3B%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, declare <code>ss</code> as mutable by using the <code>mut</code> keyword:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">SolarSystem</span> {
    <span class="ident">earth</span>: <span class="ident">i32</span>,
}

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">ss</span> <span class="op">=</span> <span class="ident">SolarSystem</span> { <span class="ident">earth</span>: <span class="number">3</span> }; <span class="comment">// declaring `ss` as mutable</span>
<span class="ident">ss</span>.<span class="ident">earth</span> <span class="op">=</span> <span class="number">2</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20SolarSystem%20%7B%0A%20%20%20%20earth%3A%20i32%2C%0A%7D%0A%0Alet%20mut%20ss%20%3D%20SolarSystem%20%7B%20earth%3A%203%20%7D%3B%20%2F%2F%20declaring%20%60ss%60%20as%20mutable%0Ass.earth%20%3D%202%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0595" class="section-header"><a href="#E0595">E0595</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-40" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-40">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>Closures cannot mutate immutable captured variables.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">3</span>; <span class="comment">// error: closure cannot assign to immutable local variable `x`</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">c</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> { <span class="ident">x</span> <span class="op">+</span><span class="op">=</span> <span class="number">1</span> };</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%203%3B%20%2F%2F%20error%3A%20closure%20cannot%20assign%20to%20immutable%20local%20variable%20%60x%60%0Alet%20mut%20c%20%3D%20%7C%7C%20%7B%20x%20%2B%3D%201%20%7D%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Make the variable binding mutable:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">3</span>; <span class="comment">// ok!</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">c</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> { <span class="ident">x</span> <span class="op">+</span><span class="op">=</span> <span class="number">1</span> };</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20x%20%3D%203%3B%20%2F%2F%20ok!%0Alet%20mut%20c%20%3D%20%7C%7C%20%7B%20x%20%2B%3D%201%20%7D%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0596" class="section-header"><a href="#E0596">E0596</a></h2>
<p>This error occurs because you tried to mutably borrow a non-mutable variable.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">1</span>;
<span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">x</span>; <span class="comment">// error: cannot borrow mutably</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%201%3B%0Alet%20y%20%3D%20%26mut%20x%3B%20%2F%2F%20error%3A%20cannot%20borrow%20mutably%0A%7D&amp;edition=2015">Run</a></div>
<p>In here, <code>x</code> isn’t mutable, so when we try to mutably borrow it in <code>y</code>, it
fails. To fix this error, you need to make <code>x</code> mutable:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">1</span>;
<span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">x</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20x%20%3D%201%3B%0Alet%20y%20%3D%20%26mut%20x%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0597" class="section-header"><a href="#E0597">E0597</a></h2>
<p>This error occurs because a value was dropped while it was still borrowed.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span><span class="op">&gt;</span>,
}

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="prelude-val">None</span> };
{
    <span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="number">0</span>;
    <span class="ident">x</span>.<span class="ident">x</span> <span class="op">=</span> <span class="prelude-val">Some</span>(<span class="kw-2">&amp;</span><span class="ident">y</span>); <span class="comment">// error: `y` does not live long enough</span>
}
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{:?}&quot;</span>, <span class="ident">x</span>.<span class="ident">x</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3C'a%3E%20%7B%0A%20%20%20%20x%3A%20Option%3C%26'a%20u32%3E%2C%0A%7D%0A%0Alet%20mut%20x%20%3D%20Foo%20%7B%20x%3A%20None%20%7D%3B%0A%7B%0A%20%20%20%20let%20y%20%3D%200%3B%0A%20%20%20%20x.x%20%3D%20Some(%26y)%3B%20%2F%2F%20error%3A%20%60y%60%20does%20not%20live%20long%20enough%0A%7D%0Aprintln!(%22%7B%3A%3F%7D%22%2C%20x.x)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, <code>y</code> is dropped at the end of the inner scope, but it is borrowed by
<code>x</code> until the <code>println</code>. To fix the previous example, just remove the scope
so that <code>y</code> isn’t dropped until after the println</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span><span class="op">&gt;</span>,
}

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="prelude-val">None</span> };

<span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="number">0</span>;
<span class="ident">x</span>.<span class="ident">x</span> <span class="op">=</span> <span class="prelude-val">Some</span>(<span class="kw-2">&amp;</span><span class="ident">y</span>);

<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{:?}&quot;</span>, <span class="ident">x</span>.<span class="ident">x</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3C'a%3E%20%7B%0A%20%20%20%20x%3A%20Option%3C%26'a%20u32%3E%2C%0A%7D%0A%0Alet%20mut%20x%20%3D%20Foo%20%7B%20x%3A%20None%20%7D%3B%0A%0Alet%20y%20%3D%200%3B%0Ax.x%20%3D%20Some(%26y)%3B%0A%0Aprintln!(%22%7B%3A%3F%7D%22%2C%20x.x)%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0599" class="section-header"><a href="#E0599">E0599</a></h2>
<p>This error occurs when a method is used on a type which doesn’t implement it:</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Mouth</span>;

<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Mouth</span>;
<span class="ident">x</span>.<span class="ident">chocolate</span>(); <span class="comment">// error: no method named `chocolate` found for type `Mouth`</span>
               <span class="comment">//        in the current scope</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Mouth%3B%0A%0Alet%20x%20%3D%20Mouth%3B%0Ax.chocolate()%3B%20%2F%2F%20error%3A%20no%20method%20named%20%60chocolate%60%20found%20for%20type%20%60Mouth%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20in%20the%20current%20scope%0A%7D&amp;edition=2015">Run</a></div>
<p>In this case, you need to implement the <code>chocolate</code> method to fix the error:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Mouth</span>;

<span class="kw">impl</span> <span class="ident">Mouth</span> {
    <span class="kw">fn</span> <span class="ident">chocolate</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) { <span class="comment">// We implement the `chocolate` method here.</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Hmmm! I love chocolate!&quot;</span>);
    }
}

<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">Mouth</span>;
<span class="ident">x</span>.<span class="ident">chocolate</span>(); <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Mouth%3B%0A%0Aimpl%20Mouth%20%7B%0A%20%20%20%20fn%20chocolate(%26self)%20%7B%20%2F%2F%20We%20implement%20the%20%60chocolate%60%20method%20here.%0A%20%20%20%20%20%20%20%20println!(%22Hmmm!%20I%20love%20chocolate!%22)%3B%0A%20%20%20%20%7D%0A%7D%0A%0Alet%20x%20%3D%20Mouth%3B%0Ax.chocolate()%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0600" class="section-header"><a href="#E0600">E0600</a></h2>
<p>An unary operator was used on a type which doesn’t implement it.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">Question</span> {
    <span class="ident">Yes</span>,
    <span class="ident">No</span>,
}

<span class="op">!</span><span class="ident">Question</span>::<span class="ident">Yes</span>; <span class="comment">// error: cannot apply unary operator `!` to type `Question`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Question%20%7B%0A%20%20%20%20Yes%2C%0A%20%20%20%20No%2C%0A%7D%0A%0A!Question%3A%3AYes%3B%20%2F%2F%20error%3A%20cannot%20apply%20unary%20operator%20%60!%60%20to%20type%20%60Question%60%0A%7D&amp;edition=2015">Run</a></div>
<p>In this case, <code>Question</code> would need to implement the <code>std::ops::Not</code> trait in
order to be able to use <code>!</code> on it. Let’s implement it:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">ops</span>::<span class="ident">Not</span>;

<span class="kw">enum</span> <span class="ident">Question</span> {
    <span class="ident">Yes</span>,
    <span class="ident">No</span>,
}

<span class="comment">// We implement the `Not` trait on the enum.</span>
<span class="kw">impl</span> <span class="ident">Not</span> <span class="kw">for</span> <span class="ident">Question</span> {
    <span class="kw">type</span> <span class="ident">Output</span> <span class="op">=</span> <span class="ident">bool</span>;

    <span class="kw">fn</span> <span class="ident">not</span>(<span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span> {
        <span class="kw">match</span> <span class="self">self</span> {
            <span class="ident">Question</span>::<span class="ident">Yes</span> <span class="op">=</span><span class="op">&gt;</span> <span class="bool-val">false</span>, <span class="comment">// If the `Answer` is `Yes`, then it</span>
                                    <span class="comment">// returns false.</span>
            <span class="ident">Question</span>::<span class="ident">No</span> <span class="op">=</span><span class="op">&gt;</span> <span class="bool-val">true</span>, <span class="comment">// And here we do the opposite.</span>
        }
    }
}

<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="op">!</span><span class="ident">Question</span>::<span class="ident">Yes</span>, <span class="bool-val">false</span>);
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="op">!</span><span class="ident">Question</span>::<span class="ident">No</span>, <span class="bool-val">true</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aops%3A%3ANot%3B%0A%0Aenum%20Question%20%7B%0A%20%20%20%20Yes%2C%0A%20%20%20%20No%2C%0A%7D%0A%0A%2F%2F%20We%20implement%20the%20%60Not%60%20trait%20on%20the%20enum.%0Aimpl%20Not%20for%20Question%20%7B%0A%20%20%20%20type%20Output%20%3D%20bool%3B%0A%0A%20%20%20%20fn%20not(self)%20-%3E%20bool%20%7B%0A%20%20%20%20%20%20%20%20match%20self%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Question%3A%3AYes%20%3D%3E%20false%2C%20%2F%2F%20If%20the%20%60Answer%60%20is%20%60Yes%60%2C%20then%20it%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20returns%20false.%0A%20%20%20%20%20%20%20%20%20%20%20%20Question%3A%3ANo%20%3D%3E%20true%2C%20%2F%2F%20And%20here%20we%20do%20the%20opposite.%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Aassert_eq!(!Question%3A%3AYes%2C%20false)%3B%0Aassert_eq!(!Question%3A%3ANo%2C%20true)%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0601" class="section-header"><a href="#E0601">E0601</a></h2>
<p>No <code>main</code> function was found in a binary crate.</p>
<p>To fix this error, add a <code>main</code> function:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// Your program will start here.</span>
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Hello world!&quot;</span>);
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20Your%20program%20will%20start%20here.%0A%20%20%20%20println!(%22Hello%20world!%22)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>If you don’t know the basics of Rust, you can look at the
<a href="https://doc.rust-lang.org/book/">Rust Book</a> to get started.</p>
</div>
<div class="error-described"><h2 id="E0602" class="section-header"><a href="#E0602">E0602</a></h2>
<p>An unknown lint was used on the command line.</p>
<p>Erroneous code example:</p>
<pre><code class="language-sh">rustc -D bogus rust_file.rs
</code></pre>
<p>Maybe you just misspelled the lint name or the lint doesn’t exist anymore.
Either way, try to update/remove it in order to fix the error.</p>
</div>
<div class="error-described"><h2 id="E0603" class="section-header"><a href="#E0603">E0603</a></h2>
<p>A private item was used outside its scope.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">mod</span> <span class="ident">SomeModule</span> {
    <span class="kw">const</span> <span class="ident">PRIVATE</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="number">0x_a_bad_1dea_u32</span>; <span class="comment">// This const is private, so we</span>
                                            <span class="comment">// can&#39;t use it outside of the</span>
                                            <span class="comment">// `SomeModule` module.</span>
}

<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;const value: {}&quot;</span>, <span class="ident">SomeModule</span>::<span class="ident">PRIVATE</span>); <span class="comment">// error: constant `PRIVATE`</span>
                                                  <span class="comment">//        is private</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20SomeModule%20%7B%0A%20%20%20%20const%20PRIVATE%3A%20u32%20%3D%200x_a_bad_1dea_u32%3B%20%2F%2F%20This%20const%20is%20private%2C%20so%20we%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20can't%20use%20it%20outside%20of%20the%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%60SomeModule%60%20module.%0A%7D%0A%0Aprintln!(%22const%20value%3A%20%7B%7D%22%2C%20SomeModule%3A%3APRIVATE)%3B%20%2F%2F%20error%3A%20constant%20%60PRIVATE%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20is%20private%0A%7D&amp;edition=2015">Run</a></div>
<p>In order to fix this error, you need to make the item public by using the <code>pub</code>
keyword. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">mod</span> <span class="ident">SomeModule</span> {
    <span class="kw">pub</span> <span class="kw">const</span> <span class="ident">PRIVATE</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="number">0x_a_bad_1dea_u32</span>; <span class="comment">// We set it public by using the</span>
                                                <span class="comment">// `pub` keyword.</span>
}

<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;const value: {}&quot;</span>, <span class="ident">SomeModule</span>::<span class="ident">PRIVATE</span>); <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20SomeModule%20%7B%0A%20%20%20%20pub%20const%20PRIVATE%3A%20u32%20%3D%200x_a_bad_1dea_u32%3B%20%2F%2F%20We%20set%20it%20public%20by%20using%20the%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%60pub%60%20keyword.%0A%7D%0A%0Aprintln!(%22const%20value%3A%20%7B%7D%22%2C%20SomeModule%3A%3APRIVATE)%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0604" class="section-header"><a href="#E0604">E0604</a></h2>
<p>A cast to <code>char</code> was attempted on a type other than <code>u8</code>.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="number">0u32</span> <span class="kw">as</span> <span class="ident">char</span>; <span class="comment">// error: only `u8` can be cast as `char`, not `u32`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A0u32%20as%20char%3B%20%2F%2F%20error%3A%20only%20%60u8%60%20can%20be%20cast%20as%20%60char%60%2C%20not%20%60u32%60%0A%7D&amp;edition=2015">Run</a></div>
<p>As the error message indicates, only <code>u8</code> can be cast into <code>char</code>. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">c</span> <span class="op">=</span> <span class="number">86u8</span> <span class="kw">as</span> <span class="ident">char</span>; <span class="comment">// ok!</span>
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">c</span>, <span class="string">&#39;V&#39;</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20c%20%3D%2086u8%20as%20char%3B%20%2F%2F%20ok!%0Aassert_eq!(c%2C%20'V')%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>For more information about casts, take a look at the Type cast section in
<a href="https://doc.rust-lang.org/reference/expressions/operator-expr.html#type-cast-expressions">The Reference Book</a>.</p>
</div>
<div class="error-described"><h2 id="E0605" class="section-header"><a href="#E0605">E0605</a></h2>
<p>An invalid cast was attempted.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">0u8</span>;
<span class="ident">x</span> <span class="kw">as</span> <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span>; <span class="comment">// error: non-primitive cast: `u8` as `std::vec::Vec&lt;u8&gt;`</span>

<span class="comment">// Another example</span>

<span class="kw">let</span> <span class="ident">v</span> <span class="op">=</span> <span class="ident">core</span>::<span class="ident">ptr</span>::<span class="ident">null</span>::<span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span>(); <span class="comment">// So here, `v` is a `*const u8`.</span>
<span class="ident">v</span> <span class="kw">as</span> <span class="kw-2">&amp;</span><span class="ident">u8</span>; <span class="comment">// error: non-primitive cast: `*const u8` as `&amp;u8`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%200u8%3B%0Ax%20as%20Vec%3Cu8%3E%3B%20%2F%2F%20error%3A%20non-primitive%20cast%3A%20%60u8%60%20as%20%60std%3A%3Avec%3A%3AVec%3Cu8%3E%60%0A%0A%2F%2F%20Another%20example%0A%0Alet%20v%20%3D%20core%3A%3Aptr%3A%3Anull%3A%3A%3Cu8%3E()%3B%20%2F%2F%20So%20here%2C%20%60v%60%20is%20a%20%60*const%20u8%60.%0Av%20as%20%26u8%3B%20%2F%2F%20error%3A%20non-primitive%20cast%3A%20%60*const%20u8%60%20as%20%60%26u8%60%0A%7D&amp;edition=2015">Run</a></div>
<p>Only primitive types can be cast into each other. Examples:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">0u8</span>;
<span class="ident">x</span> <span class="kw">as</span> <span class="ident">u32</span>; <span class="comment">// ok!</span>

<span class="kw">let</span> <span class="ident">v</span> <span class="op">=</span> <span class="ident">core</span>::<span class="ident">ptr</span>::<span class="ident">null</span>::<span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span>();
<span class="ident">v</span> <span class="kw">as</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">i8</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%200u8%3B%0Ax%20as%20u32%3B%20%2F%2F%20ok!%0A%0Alet%20v%20%3D%20core%3A%3Aptr%3A%3Anull%3A%3A%3Cu8%3E()%3B%0Av%20as%20*const%20i8%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<p>For more information about casts, take a look at the Type cast section in
<a href="https://doc.rust-lang.org/reference/expressions/operator-expr.html#type-cast-expressions">The Reference Book</a>.</p>
</div>
<div class="error-described"><h2 id="E0606" class="section-header"><a href="#E0606">E0606</a></h2>
<p>An incompatible cast was attempted.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="number">0u8</span>; <span class="comment">// Here, `x` is a `&amp;u8`.</span>
<span class="kw">let</span> <span class="ident">y</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="ident">x</span> <span class="kw">as</span> <span class="ident">u32</span>; <span class="comment">// error: casting `&amp;u8` as `u32` is invalid</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%20%260u8%3B%20%2F%2F%20Here%2C%20%60x%60%20is%20a%20%60%26u8%60.%0Alet%20y%3A%20u32%20%3D%20x%20as%20u32%3B%20%2F%2F%20error%3A%20casting%20%60%26u8%60%20as%20%60u32%60%20is%20invalid%0A%7D&amp;edition=2015">Run</a></div>
<p>When casting, keep in mind that only primitive types can be cast into each
other. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="number">0u8</span>;
<span class="kw">let</span> <span class="ident">y</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="kw-2">*</span><span class="ident">x</span> <span class="kw">as</span> <span class="ident">u32</span>; <span class="comment">// We dereference it first and then cast it.</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%20%260u8%3B%0Alet%20y%3A%20u32%20%3D%20*x%20as%20u32%3B%20%2F%2F%20We%20dereference%20it%20first%20and%20then%20cast%20it.%0A%7D&amp;edition=2015">Run</a></div>
<p>For more information about casts, take a look at the Type cast section in
<a href="https://doc.rust-lang.org/reference/expressions/operator-expr.html#type-cast-expressions">The Reference Book</a>.</p>
</div>
<div class="error-described"><h2 id="E0607" class="section-header"><a href="#E0607">E0607</a></h2>
<p>A cast between a thin and a fat pointer was attempted.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">v</span> <span class="op">=</span> <span class="ident">core</span>::<span class="ident">ptr</span>::<span class="ident">null</span>::<span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span>();
<span class="ident">v</span> <span class="kw">as</span> <span class="kw-2">*</span><span class="kw">const</span> [<span class="ident">u8</span>];</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20v%20%3D%20core%3A%3Aptr%3A%3Anull%3A%3A%3Cu8%3E()%3B%0Av%20as%20*const%20%5Bu8%5D%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>First: what are thin and fat pointers?</p>
<p>Thin pointers are “simple” pointers: they are purely a reference to a memory
address.</p>
<p>Fat pointers are pointers referencing Dynamically Sized Types (also called
DSTs). DSTs don’t have a statically known size, therefore they can only exist
behind some kind of pointer that contains additional information. For example,
slices and trait objects are DSTs. In the case of slices, the additional
information the fat pointer holds is their size.</p>
<p>To fix this error, don’t try to cast directly between thin and fat pointers.</p>
<p>For more information about type casts, take a look at the section of the
<a href="https://doc.rust-lang.org/reference/expressions/operator-expr.html#type-cast-expressions">The Rust Reference</a> on type cast expressions.</p>
</div>
<div class="error-described"><h2 id="E0608" class="section-header"><a href="#E0608">E0608</a></h2>
<p>An attempt to use index on a type which doesn’t implement the <code>std::ops::Index</code>
trait was performed.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="number">0u8</span>[<span class="number">2</span>]; <span class="comment">// error: cannot index into a value of type `u8`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A0u8%5B2%5D%3B%20%2F%2F%20error%3A%20cannot%20index%20into%20a%20value%20of%20type%20%60u8%60%0A%7D&amp;edition=2015">Run</a></div>
<p>To be able to index into a type it needs to implement the <code>std::ops::Index</code>
trait. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">v</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];

<span class="comment">// The `Vec` type implements the `Index` trait so you can do:</span>
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">v</span>[<span class="number">2</span>]);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20v%3A%20Vec%3Cu8%3E%20%3D%20vec!%5B0%2C%201%2C%202%2C%203%5D%3B%0A%0A%2F%2F%20The%20%60Vec%60%20type%20implements%20the%20%60Index%60%20trait%20so%20you%20can%20do%3A%0Aprintln!(%22%7B%7D%22%2C%20v%5B2%5D)%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0609" class="section-header"><a href="#E0609">E0609</a></h2>
<p>Attempted to access a non-existent field in a struct.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">StructWithFields</span> {
    <span class="ident">x</span>: <span class="ident">u32</span>,
}

<span class="kw">let</span> <span class="ident">s</span> <span class="op">=</span> <span class="ident">StructWithFields</span> { <span class="ident">x</span>: <span class="number">0</span> };
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">s</span>.<span class="ident">foo</span>); <span class="comment">// error: no field `foo` on type `StructWithFields`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20StructWithFields%20%7B%0A%20%20%20%20x%3A%20u32%2C%0A%7D%0A%0Alet%20s%20%3D%20StructWithFields%20%7B%20x%3A%200%20%7D%3B%0Aprintln!(%22%7B%7D%22%2C%20s.foo)%3B%20%2F%2F%20error%3A%20no%20field%20%60foo%60%20on%20type%20%60StructWithFields%60%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, check that you didn’t misspell the field’s name or that the
field actually exists. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">StructWithFields</span> {
    <span class="ident">x</span>: <span class="ident">u32</span>,
}

<span class="kw">let</span> <span class="ident">s</span> <span class="op">=</span> <span class="ident">StructWithFields</span> { <span class="ident">x</span>: <span class="number">0</span> };
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">s</span>.<span class="ident">x</span>); <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20StructWithFields%20%7B%0A%20%20%20%20x%3A%20u32%2C%0A%7D%0A%0Alet%20s%20%3D%20StructWithFields%20%7B%20x%3A%200%20%7D%3B%0Aprintln!(%22%7B%7D%22%2C%20s.x)%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0610" class="section-header"><a href="#E0610">E0610</a></h2>
<p>Attempted to access a field on a primitive type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">x</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="number">0</span>;
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">x</span>.<span class="ident">foo</span>); <span class="comment">// error: `{integer}` is a primitive type, therefore</span>
                       <span class="comment">//        doesn&#39;t have fields</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%3A%20u32%20%3D%200%3B%0Aprintln!(%22%7B%7D%22%2C%20x.foo)%3B%20%2F%2F%20error%3A%20%60%7Binteger%7D%60%20is%20a%20primitive%20type%2C%20therefore%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20doesn't%20have%20fields%0A%7D&amp;edition=2015">Run</a></div>
<p>Primitive types are the most basic types available in Rust and don’t have
fields. To access data via named fields, struct types are used. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="comment">// We declare struct called `Foo` containing two fields:</span>
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">x</span>: <span class="ident">u32</span>,
    <span class="ident">y</span>: <span class="ident">i64</span>,
}

<span class="comment">// We create an instance of this struct:</span>
<span class="kw">let</span> <span class="ident">variable</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="number">0</span>, <span class="ident">y</span>: <span class="op">-</span><span class="number">12</span> };
<span class="comment">// And we can now access its fields:</span>
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;x: {}, y: {}&quot;</span>, <span class="ident">variable</span>.<span class="ident">x</span>, <span class="ident">variable</span>.<span class="ident">y</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20We%20declare%20struct%20called%20%60Foo%60%20containing%20two%20fields%3A%0Afn%20main()%20%7B%0Astruct%20Foo%20%7B%0A%20%20%20%20x%3A%20u32%2C%0A%20%20%20%20y%3A%20i64%2C%0A%7D%0A%0A%2F%2F%20We%20create%20an%20instance%20of%20this%20struct%3A%0Alet%20variable%20%3D%20Foo%20%7B%20x%3A%200%2C%20y%3A%20-12%20%7D%3B%0A%2F%2F%20And%20we%20can%20now%20access%20its%20fields%3A%0Aprintln!(%22x%3A%20%7B%7D%2C%20y%3A%20%7B%7D%22%2C%20variable.x%2C%20variable.y)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>For more information about <a href="https://doc.rust-lang.org/book/ch03-02-data-types.html">primitives</a> and <a href="https://doc.rust-lang.org/book/ch05-00-structs.html">structs</a>, take a look at the Book.</p>
</div>
<div class="error-described"><h2 id="E0614" class="section-header"><a href="#E0614">E0614</a></h2>
<p>Attempted to dereference a variable which cannot be dereferenced.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="number">0u32</span>;
<span class="kw-2">*</span><span class="ident">y</span>; <span class="comment">// error: type `u32` cannot be dereferenced</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20y%20%3D%200u32%3B%0A*y%3B%20%2F%2F%20error%3A%20type%20%60u32%60%20cannot%20be%20dereferenced%0A%7D&amp;edition=2015">Run</a></div>
<p>Only types implementing <code>std::ops::Deref</code> can be dereferenced (such as <code>&amp;T</code>).
Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">y</span> <span class="op">=</span> <span class="number">0u32</span>;
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">y</span>;
<span class="comment">// So here, `x` is a `&amp;u32`, so we can dereference it:</span>
<span class="kw-2">*</span><span class="ident">x</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20y%20%3D%200u32%3B%0Alet%20x%20%3D%20%26y%3B%0A%2F%2F%20So%20here%2C%20%60x%60%20is%20a%20%60%26u32%60%2C%20so%20we%20can%20dereference%20it%3A%0A*x%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0615" class="section-header"><a href="#E0615">E0615</a></h2>
<p>Attempted to access a method like a field.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">x</span>: <span class="ident">u32</span>,
}

<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">method</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}
}

<span class="kw">let</span> <span class="ident">f</span> <span class="op">=</span> <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="number">0</span> };
<span class="ident">f</span>.<span class="ident">method</span>; <span class="comment">// error: attempted to take value of method `method` on type `Foo`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%20%7B%0A%20%20%20%20x%3A%20u32%2C%0A%7D%0A%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20method(%26self)%20%7B%7D%0A%7D%0A%0Alet%20f%20%3D%20Foo%20%7B%20x%3A%200%20%7D%3B%0Af.method%3B%20%2F%2F%20error%3A%20attempted%20to%20take%20value%20of%20method%20%60method%60%20on%20type%20%60Foo%60%0A%7D&amp;edition=2015">Run</a></div>
<p>If you want to use a method, add <code>()</code> after it:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="ident">f</span>.<span class="ident">method</span>();</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%20%7B%20x%3A%20u32%20%7D%0Aimpl%20Foo%20%7B%20fn%20method(%26self)%20%7B%7D%20%7D%0Alet%20f%20%3D%20Foo%20%7B%20x%3A%200%20%7D%3B%0Af.method()%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>However, if you wanted to access a field of a struct check that the field name
is spelled correctly. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">f</span>.<span class="ident">x</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%20%7B%20x%3A%20u32%20%7D%0Aimpl%20Foo%20%7B%20fn%20method(%26self)%20%7B%7D%20%7D%0Alet%20f%20%3D%20Foo%20%7B%20x%3A%200%20%7D%3B%0Aprintln!(%22%7B%7D%22%2C%20f.x)%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0616" class="section-header"><a href="#E0616">E0616</a></h2>
<p>Attempted to access a private field on a struct.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">mod</span> <span class="ident">some_module</span> {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Foo</span> {
        <span class="ident">x</span>: <span class="ident">u32</span>, <span class="comment">// So `x` is private in here.</span>
    }

    <span class="kw">impl</span> <span class="ident">Foo</span> {
        <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Foo</span> { <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="number">0</span> } }
    }
}

<span class="kw">let</span> <span class="ident">f</span> <span class="op">=</span> <span class="ident">some_module</span>::<span class="ident">Foo</span>::<span class="ident">new</span>();
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">f</span>.<span class="ident">x</span>); <span class="comment">// error: field `x` of struct `some_module::Foo` is private</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20some_module%20%7B%0A%20%20%20%20pub%20struct%20Foo%20%7B%0A%20%20%20%20%20%20%20%20x%3A%20u32%2C%20%2F%2F%20So%20%60x%60%20is%20private%20in%20here.%0A%20%20%20%20%7D%0A%0A%20%20%20%20impl%20Foo%20%7B%0A%20%20%20%20%20%20%20%20pub%20fn%20new()%20-%3E%20Foo%20%7B%20Foo%20%7B%20x%3A%200%20%7D%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Alet%20f%20%3D%20some_module%3A%3AFoo%3A%3Anew()%3B%0Aprintln!(%22%7B%7D%22%2C%20f.x)%3B%20%2F%2F%20error%3A%20field%20%60x%60%20of%20struct%20%60some_module%3A%3AFoo%60%20is%20private%0A%7D&amp;edition=2015">Run</a></div>
<p>If you want to access this field, you have two options:</p>
<ol>
<li>Set the field public:</li>
</ol>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">mod</span> <span class="ident">some_module</span> {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Foo</span> {
        <span class="kw">pub</span> <span class="ident">x</span>: <span class="ident">u32</span>, <span class="comment">// `x` is now public.</span>
    }

    <span class="kw">impl</span> <span class="ident">Foo</span> {
        <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Foo</span> { <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="number">0</span> } }
    }
}

<span class="kw">let</span> <span class="ident">f</span> <span class="op">=</span> <span class="ident">some_module</span>::<span class="ident">Foo</span>::<span class="ident">new</span>();
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">f</span>.<span class="ident">x</span>); <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20some_module%20%7B%0A%20%20%20%20pub%20struct%20Foo%20%7B%0A%20%20%20%20%20%20%20%20pub%20x%3A%20u32%2C%20%2F%2F%20%60x%60%20is%20now%20public.%0A%20%20%20%20%7D%0A%0A%20%20%20%20impl%20Foo%20%7B%0A%20%20%20%20%20%20%20%20pub%20fn%20new()%20-%3E%20Foo%20%7B%20Foo%20%7B%20x%3A%200%20%7D%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Alet%20f%20%3D%20some_module%3A%3AFoo%3A%3Anew()%3B%0Aprintln!(%22%7B%7D%22%2C%20f.x)%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
<ol start="2">
<li>Add a getter function:</li>
</ol>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">mod</span> <span class="ident">some_module</span> {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Foo</span> {
        <span class="ident">x</span>: <span class="ident">u32</span>, <span class="comment">// So `x` is still private in here.</span>
    }

    <span class="kw">impl</span> <span class="ident">Foo</span> {
        <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Foo</span> { <span class="ident">Foo</span> { <span class="ident">x</span>: <span class="number">0</span> } }

        <span class="comment">// We create the getter function here:</span>
        <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">get_x</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="ident">u32</span> { <span class="kw-2">&amp;</span><span class="self">self</span>.<span class="ident">x</span> }
    }
}

<span class="kw">let</span> <span class="ident">f</span> <span class="op">=</span> <span class="ident">some_module</span>::<span class="ident">Foo</span>::<span class="ident">new</span>();
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">f</span>.<span class="ident">get_x</span>()); <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20some_module%20%7B%0A%20%20%20%20pub%20struct%20Foo%20%7B%0A%20%20%20%20%20%20%20%20x%3A%20u32%2C%20%2F%2F%20So%20%60x%60%20is%20still%20private%20in%20here.%0A%20%20%20%20%7D%0A%0A%20%20%20%20impl%20Foo%20%7B%0A%20%20%20%20%20%20%20%20pub%20fn%20new()%20-%3E%20Foo%20%7B%20Foo%20%7B%20x%3A%200%20%7D%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20We%20create%20the%20getter%20function%20here%3A%0A%20%20%20%20%20%20%20%20pub%20fn%20get_x(%26self)%20-%3E%20%26u32%20%7B%20%26self.x%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Alet%20f%20%3D%20some_module%3A%3AFoo%3A%3Anew()%3B%0Aprintln!(%22%7B%7D%22%2C%20f.get_x())%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0617" class="section-header"><a href="#E0617">E0617</a></h2>
<p>Attempted to pass an invalid type of variable into a variadic function.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {
    <span class="kw">fn</span> <span class="ident">printf</span>(<span class="ident">c</span>: <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">i8</span>, ...);
}

<span class="kw">unsafe</span> {
    <span class="ident">printf</span>(::<span class="ident">std</span>::<span class="ident">ptr</span>::<span class="ident">null</span>(), <span class="number">0f32</span>);
    <span class="comment">// error: cannot pass an `f32` to variadic function, cast to `c_double`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aextern%20%22C%22%20%7B%0A%20%20%20%20fn%20printf(c%3A%20*const%20i8%2C%20...)%3B%0A%7D%0A%0Aunsafe%20%7B%0A%20%20%20%20printf(%3A%3Astd%3A%3Aptr%3A%3Anull()%2C%200f32)%3B%0A%20%20%20%20%2F%2F%20error%3A%20cannot%20pass%20an%20%60f32%60%20to%20variadic%20function%2C%20cast%20to%20%60c_double%60%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Certain Rust types must be cast before passing them to a variadic function,
because of arcane ABI rules dictated by the C standard. To fix the error,
cast the value to the type specified by the error message (which you may need
to import from <code>std::os::raw</code>).</p>
<p>In this case, <code>c_double</code> has the same size as <code>f64</code> so we can use it directly:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">unsafe</span> {
    <span class="ident">printf</span>(::<span class="ident">std</span>::<span class="ident">ptr</span>::<span class="ident">null</span>(), <span class="number">0f64</span>); <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aextern%20%22C%22%20%7B%0A%20%20%20%20fn%20printf(c%3A%20*const%20i8%2C%20...)%3B%0A%7D%0Aunsafe%20%7B%0A%20%20%20%20printf(%3A%3Astd%3A%3Aptr%3A%3Anull()%2C%200f64)%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0618" class="section-header"><a href="#E0618">E0618</a></h2>
<p>Attempted to call something which isn’t a function nor a method.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">X</span> {
    <span class="ident">Entry</span>,
}

<span class="ident">X</span>::<span class="ident">Entry</span>(); <span class="comment">// error: expected function, tuple struct or tuple variant,</span>
            <span class="comment">// found `X::Entry`</span>

<span class="comment">// Or even simpler:</span>
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">0i32</span>;
<span class="ident">x</span>(); <span class="comment">// error: expected function, tuple struct or tuple variant, found `i32`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20X%20%7B%0A%20%20%20%20Entry%2C%0A%7D%0A%0AX%3A%3AEntry()%3B%20%2F%2F%20error%3A%20expected%20function%2C%20tuple%20struct%20or%20tuple%20variant%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20found%20%60X%3A%3AEntry%60%0A%0A%2F%2F%20Or%20even%20simpler%3A%0Alet%20x%20%3D%200i32%3B%0Ax()%3B%20%2F%2F%20error%3A%20expected%20function%2C%20tuple%20struct%20or%20tuple%20variant%2C%20found%20%60i32%60%0A%7D&amp;edition=2015">Run</a></div>
<p>Only functions and methods can be called using <code>()</code>. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="comment">// We declare a function:</span>
<span class="kw">fn</span> <span class="ident">i_am_a_function</span>() {}

<span class="comment">// And we call it:</span>
<span class="ident">i_am_a_function</span>();</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20We%20declare%20a%20function%3A%0Afn%20main()%20%7B%0Afn%20i_am_a_function()%20%7B%7D%0A%0A%2F%2F%20And%20we%20call%20it%3A%0Ai_am_a_function()%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0619" class="section-header"><a href="#E0619">E0619</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-41" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-41">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>The type-checker needed to know the type of an expression, but that type had not
yet been inferred.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[];
<span class="kw">match</span> <span class="ident">x</span>.<span class="ident">pop</span>() {
    <span class="prelude-val">Some</span>(<span class="ident">v</span>) <span class="op">=</span><span class="op">&gt;</span> {
        <span class="comment">// Here, the type of `v` is not (yet) known, so we</span>
        <span class="comment">// cannot resolve this method call:</span>
        <span class="ident">v</span>.<span class="ident">to_uppercase</span>(); <span class="comment">// error: the type of this value must be known in</span>
                          <span class="comment">//        this context</span>
    }
    <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20x%20%3D%20vec!%5B%5D%3B%0Amatch%20x.pop()%20%7B%0A%20%20%20%20Some(v)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Here%2C%20the%20type%20of%20%60v%60%20is%20not%20(yet)%20known%2C%20so%20we%0A%20%20%20%20%20%20%20%20%2F%2F%20cannot%20resolve%20this%20method%20call%3A%0A%20%20%20%20%20%20%20%20v.to_uppercase()%3B%20%2F%2F%20error%3A%20the%20type%20of%20this%20value%20must%20be%20known%20in%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20this%20context%0A%20%20%20%20%7D%0A%20%20%20%20None%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Type inference typically proceeds from the top of the function to the bottom,
figuring out types as it goes. In some cases – notably method calls and
overloadable operators like <code>*</code> – the type checker may not have enough
information <em>yet</em> to make progress. This can be true even if the rest of the
function provides enough context (because the type-checker hasn’t looked that
far ahead yet). In this case, type annotations can be used to help it along.</p>
<p>To fix this error, just specify the type of the variable. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">String</span><span class="op">&gt;</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[]; <span class="comment">// We precise the type of the vec elements.</span>
<span class="kw">match</span> <span class="ident">x</span>.<span class="ident">pop</span>() {
    <span class="prelude-val">Some</span>(<span class="ident">v</span>) <span class="op">=</span><span class="op">&gt;</span> {
        <span class="ident">v</span>.<span class="ident">to_uppercase</span>(); <span class="comment">// Since rustc now knows the type of the vec elements,</span>
                          <span class="comment">// we can use `v`&#39;s methods.</span>
    }
    <span class="prelude-val">None</span> <span class="op">=</span><span class="op">&gt;</span> {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20mut%20x%3A%20Vec%3CString%3E%20%3D%20vec!%5B%5D%3B%20%2F%2F%20We%20precise%20the%20type%20of%20the%20vec%20elements.%0Amatch%20x.pop()%20%7B%0A%20%20%20%20Some(v)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20v.to_uppercase()%3B%20%2F%2F%20Since%20rustc%20now%20knows%20the%20type%20of%20the%20vec%20elements%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20we%20can%20use%20%60v%60's%20methods.%0A%20%20%20%20%7D%0A%20%20%20%20None%20%3D%3E%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0620" class="section-header"><a href="#E0620">E0620</a></h2>
<p>A cast to an unsized type was attempted.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="kw-2">&amp;</span>[<span class="number">1_usize</span>, <span class="number">2</span>] <span class="kw">as</span> [<span class="ident">usize</span>]; <span class="comment">// error: cast to unsized type: `&amp;[usize; 2]`</span>
                                  <span class="comment">//        as `[usize]`</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%20%26%5B1_usize%2C%202%5D%20as%20%5Busize%5D%3B%20%2F%2F%20error%3A%20cast%20to%20unsized%20type%3A%20%60%26%5Busize%3B%202%5D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20as%20%60%5Busize%5D%60%0A%7D&amp;edition=2015">Run</a></div>
<p>In Rust, some types don’t have a known size at compile-time. For example, in a
slice type like <code>[u32]</code>, the number of elements is not known at compile-time and
hence the overall size cannot be computed. As a result, such types can only be
manipulated through a reference (e.g., <code>&amp;T</code> or <code>&amp;mut T</code>) or other pointer-type
(e.g., <code>Box</code> or <code>Rc</code>). Try casting to a reference instead:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="kw-2">&amp;</span>[<span class="number">1_usize</span>, <span class="number">2</span>] <span class="kw">as</span> <span class="kw-2">&amp;</span>[<span class="ident">usize</span>]; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%20%26%5B1_usize%2C%202%5D%20as%20%26%5Busize%5D%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0621" class="section-header"><a href="#E0621">E0621</a></h2>
<p>This error code indicates a mismatch between the lifetimes appearing in the
function signature (i.e., the parameter types and the return type) and the
data-flow found in the function body.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span> { <span class="comment">// error: explicit lifetime</span>
                                             <span class="comment">//        required in the type of</span>
                                             <span class="comment">//        `y`</span>
    <span class="kw">if</span> <span class="ident">x</span> <span class="op">&gt;</span> <span class="ident">y</span> { <span class="ident">x</span> } <span class="kw">else</span> { <span class="ident">y</span> }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3C'a%3E(x%3A%20%26'a%20i32%2C%20y%3A%20%26i32)%20-%3E%20%26'a%20i32%20%7B%20%2F%2F%20error%3A%20explicit%20lifetime%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20required%20in%20the%20type%20of%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%60y%60%0A%20%20%20%20if%20x%20%3E%20y%20%7B%20x%20%7D%20else%20%7B%20y%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In the code above, the function is returning data borrowed from either <code>x</code> or
<code>y</code>, but the <code>'a</code> annotation indicates that it is returning data only from <code>x</code>.
To fix the error, the signature and the body must be made to match. Typically,
this is done by updating the function signature. So, in this case, we change
the type of <code>y</code> to <code>&amp;'a i32</code>, like so:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span> {
    <span class="kw">if</span> <span class="ident">x</span> <span class="op">&gt;</span> <span class="ident">y</span> { <span class="ident">x</span> } <span class="kw">else</span> { <span class="ident">y</span> }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3C'a%3E(x%3A%20%26'a%20i32%2C%20y%3A%20%26'a%20i32)%20-%3E%20%26'a%20i32%20%7B%0A%20%20%20%20if%20x%20%3E%20y%20%7B%20x%20%7D%20else%20%7B%20y%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Now the signature indicates that the function data borrowed from either <code>x</code> or
<code>y</code>. Alternatively, you could change the body to not return data from <code>y</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span> {
    <span class="ident">x</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3C'a%3E(x%3A%20%26'a%20i32%2C%20y%3A%20%26i32)%20-%3E%20%26'a%20i32%20%7B%0A%20%20%20%20x%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0622" class="section-header"><a href="#E0622">E0622</a></h2>
<p>An intrinsic was declared without being a function.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">intrinsics</span>)]</span>
<span class="kw">extern</span> <span class="string">&quot;rust-intrinsic&quot;</span> {
    <span class="kw">pub</span> <span class="kw">static</span> <span class="ident">breakpoint</span> : <span class="kw">fn</span>(); <span class="comment">// error: intrinsic must be a function</span>
}

<span class="kw">fn</span> <span class="ident">main</span>() { <span class="kw">unsafe</span> { <span class="ident">breakpoint</span>(); } }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(intrinsics)%5D%0Aextern%20%22rust-intrinsic%22%20%7B%0A%20%20%20%20pub%20static%20breakpoint%20%3A%20fn()%3B%20%2F%2F%20error%3A%20intrinsic%20must%20be%20a%20function%0A%7D%0A%0Afn%20main()%20%7B%20unsafe%20%7B%20breakpoint()%3B%20%7D%20%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>An intrinsic is a function available for use in a given programming language
whose implementation is handled specially by the compiler. In order to fix this
error, just declare a function. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">intrinsics</span>)]</span>
<span class="kw">extern</span> <span class="string">&quot;rust-intrinsic&quot;</span> {
    <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">breakpoint</span>(); <span class="comment">// ok!</span>
}

<span class="kw">fn</span> <span class="ident">main</span>() { <span class="kw">unsafe</span> { <span class="ident">breakpoint</span>(); } }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(intrinsics)%5D%0Aextern%20%22rust-intrinsic%22%20%7B%0A%20%20%20%20pub%20fn%20breakpoint()%3B%20%2F%2F%20ok!%0A%7D%0A%0Afn%20main()%20%7B%20unsafe%20%7B%20breakpoint()%3B%20%7D%20%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0623" class="section-header"><a href="#E0623">E0623</a></h2>
<p>A lifetime didn’t match what was expected.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">isize</span>,
}

<span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="lifetime">&#39;short</span>, <span class="lifetime">&#39;long</span><span class="op">&gt;</span>(<span class="ident">c</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;short</span><span class="op">&gt;</span>, <span class="ident">l</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;long</span> <span class="ident">isize</span>) {
    <span class="kw">let</span> <span class="kw">_</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;long</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">c</span>; <span class="comment">// error!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3C'a%3E%20%7B%0A%20%20%20%20x%3A%20%26'a%20isize%2C%0A%7D%0A%0Afn%20bar%3C'short%2C%20'long%3E(c%3A%20Foo%3C'short%3E%2C%20l%3A%20%26'long%20isize)%20%7B%0A%20%20%20%20let%20_%3A%20Foo%3C'long%3E%20%3D%20c%3B%20%2F%2F%20error!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>In this example, we tried to set a value with an incompatible lifetime to
another one (<code>'long</code> is unrelated to <code>'short</code>). We can solve this issue in
two different ways:</p>
<p>Either we make <code>'short</code> live at least as long as <code>'long</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">isize</span>,
}

<span class="comment">// we set &#39;short to live at least as long as &#39;long</span>
<span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="lifetime">&#39;short</span>: <span class="lifetime">&#39;long</span>, <span class="lifetime">&#39;long</span><span class="op">&gt;</span>(<span class="ident">c</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;short</span><span class="op">&gt;</span>, <span class="ident">l</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;long</span> <span class="ident">isize</span>) {
    <span class="kw">let</span> <span class="kw">_</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;long</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">c</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3C'a%3E%20%7B%0A%20%20%20%20x%3A%20%26'a%20isize%2C%0A%7D%0A%0A%2F%2F%20we%20set%20'short%20to%20live%20at%20least%20as%20long%20as%20'long%0Afn%20bar%3C'short%3A%20'long%2C%20'long%3E(c%3A%20Foo%3C'short%3E%2C%20l%3A%20%26'long%20isize)%20%7B%0A%20%20%20%20let%20_%3A%20Foo%3C'long%3E%20%3D%20c%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Or we use only one lifetime:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">isize</span>,
}
<span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="lifetime">&#39;short</span><span class="op">&gt;</span>(<span class="ident">c</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;short</span><span class="op">&gt;</span>, <span class="ident">l</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;short</span> <span class="ident">isize</span>) {
    <span class="kw">let</span> <span class="kw">_</span>: <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;short</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">c</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3C'a%3E%20%7B%0A%20%20%20%20x%3A%20%26'a%20isize%2C%0A%7D%0Afn%20bar%3C'short%3E(c%3A%20Foo%3C'short%3E%2C%20l%3A%20%26'short%20isize)%20%7B%0A%20%20%20%20let%20_%3A%20Foo%3C'short%3E%20%3D%20c%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0624" class="section-header"><a href="#E0624">E0624</a></h2>
<p>A private item was used outside of its scope.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">mod</span> <span class="ident">inner</span> {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Foo</span>;

    <span class="kw">impl</span> <span class="ident">Foo</span> {
        <span class="kw">fn</span> <span class="ident">method</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}
    }
}

<span class="kw">let</span> <span class="ident">foo</span> <span class="op">=</span> <span class="ident">inner</span>::<span class="ident">Foo</span>;
<span class="ident">foo</span>.<span class="ident">method</span>(); <span class="comment">// error: method `method` is private</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20inner%20%7B%0A%20%20%20%20pub%20struct%20Foo%3B%0A%0A%20%20%20%20impl%20Foo%20%7B%0A%20%20%20%20%20%20%20%20fn%20method(%26self)%20%7B%7D%0A%20%20%20%20%7D%0A%7D%0A%0Alet%20foo%20%3D%20inner%3A%3AFoo%3B%0Afoo.method()%3B%20%2F%2F%20error%3A%20method%20%60method%60%20is%20private%0A%7D&amp;edition=2015">Run</a></div>
<p>Two possibilities are available to solve this issue:</p>
<ol>
<li>Only use the item in the scope it has been defined:</li>
</ol>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">mod</span> <span class="ident">inner</span> {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Foo</span>;

    <span class="kw">impl</span> <span class="ident">Foo</span> {
        <span class="kw">fn</span> <span class="ident">method</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}
    }

    <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">call_method</span>(<span class="ident">foo</span>: <span class="kw-2">&amp;</span><span class="ident">Foo</span>) { <span class="comment">// We create a public function.</span>
        <span class="ident">foo</span>.<span class="ident">method</span>(); <span class="comment">// Which calls the item.</span>
    }
}

<span class="kw">let</span> <span class="ident">foo</span> <span class="op">=</span> <span class="ident">inner</span>::<span class="ident">Foo</span>;
<span class="ident">inner</span>::<span class="ident">call_method</span>(<span class="kw-2">&amp;</span><span class="ident">foo</span>); <span class="comment">// And since the function is public, we can call the</span>
                          <span class="comment">// method through it.</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20inner%20%7B%0A%20%20%20%20pub%20struct%20Foo%3B%0A%0A%20%20%20%20impl%20Foo%20%7B%0A%20%20%20%20%20%20%20%20fn%20method(%26self)%20%7B%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20pub%20fn%20call_method(foo%3A%20%26Foo)%20%7B%20%2F%2F%20We%20create%20a%20public%20function.%0A%20%20%20%20%20%20%20%20foo.method()%3B%20%2F%2F%20Which%20calls%20the%20item.%0A%20%20%20%20%7D%0A%7D%0A%0Alet%20foo%20%3D%20inner%3A%3AFoo%3B%0Ainner%3A%3Acall_method(%26foo)%3B%20%2F%2F%20And%20since%20the%20function%20is%20public%2C%20we%20can%20call%20the%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20method%20through%20it.%0A%7D&amp;edition=2015">Run</a></div>
<ol start="2">
<li>Make the item public:</li>
</ol>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">mod</span> <span class="ident">inner</span> {
    <span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">Foo</span>;

    <span class="kw">impl</span> <span class="ident">Foo</span> {
        <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">method</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {} <span class="comment">// It&#39;s now public.</span>
    }
}

<span class="kw">let</span> <span class="ident">foo</span> <span class="op">=</span> <span class="ident">inner</span>::<span class="ident">Foo</span>;
<span class="ident">foo</span>.<span class="ident">method</span>(); <span class="comment">// Ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20inner%20%7B%0A%20%20%20%20pub%20struct%20Foo%3B%0A%0A%20%20%20%20impl%20Foo%20%7B%0A%20%20%20%20%20%20%20%20pub%20fn%20method(%26self)%20%7B%7D%20%2F%2F%20It's%20now%20public.%0A%20%20%20%20%7D%0A%7D%0A%0Alet%20foo%20%3D%20inner%3A%3AFoo%3B%0Afoo.method()%3B%20%2F%2F%20Ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-undescribed"><h2 id="E0625" class="section-header"><a href="#E0625">E0625</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0626" class="section-header"><a href="#E0626">E0626</a></h2>
<p>This error occurs because a borrow in a generator persists across a
yield point.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">b</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
    <span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">String</span>::<span class="ident">new</span>(); <span class="comment">// &lt;-- This borrow...</span>
    <span class="kw">yield</span> (); <span class="comment">// ...is still in scope here, when the yield occurs.</span>
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">a</span>);
};
<span class="ident">Pin</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">b</span>).<span class="ident">resume</span>(());</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(generators%2C%20generator_trait%2C%20pin)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aops%3A%3AGenerator%3B%0Ause%20std%3A%3Apin%3A%3APin%3B%0Alet%20mut%20b%20%3D%20%7C%7C%20%7B%0A%20%20%20%20let%20a%20%3D%20%26String%3A%3Anew()%3B%20%2F%2F%20%3C--%20This%20borrow...%0A%20%20%20%20yield%20()%3B%20%2F%2F%20...is%20still%20in%20scope%20here%2C%20when%20the%20yield%20occurs.%0A%20%20%20%20println!(%22%7B%7D%22%2C%20a)%3B%0A%7D%3B%0APin%3A%3Anew(%26mut%20b).resume(())%3B%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>At present, it is not permitted to have a yield that occurs while a
borrow is still in scope. To resolve this error, the borrow must
either be “contained” to a smaller scope that does not overlap the
yield or else eliminated in another way. So, for example, we might
resolve the previous example by removing the borrow and just storing
the integer by value:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">b</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
    <span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="number">3</span>;
    <span class="kw">yield</span> ();
    <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">a</span>);
};
<span class="ident">Pin</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">b</span>).<span class="ident">resume</span>(());</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(generators%2C%20generator_trait%2C%20pin)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aops%3A%3AGenerator%3B%0Ause%20std%3A%3Apin%3A%3APin%3B%0Alet%20mut%20b%20%3D%20%7C%7C%20%7B%0A%20%20%20%20let%20a%20%3D%203%3B%0A%20%20%20%20yield%20()%3B%0A%20%20%20%20println!(%22%7B%7D%22%2C%20a)%3B%0A%7D%3B%0APin%3A%3Anew(%26mut%20b).resume(())%3B%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>This is a very simple case, of course. In more complex cases, we may
wish to have more than one reference to the value that was borrowed –
in those cases, something like the <code>Rc</code> or <code>Arc</code> types may be useful.</p>
<p>This error also frequently arises with iteration:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">b</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
  <span class="kw">let</span> <span class="ident">v</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];
  <span class="kw">for</span> <span class="kw-2">&amp;</span><span class="ident">x</span> <span class="kw">in</span> <span class="kw-2">&amp;</span><span class="ident">v</span> { <span class="comment">// &lt;-- borrow of `v` is still in scope...</span>
    <span class="kw">yield</span> <span class="ident">x</span>; <span class="comment">// ...when this yield occurs.</span>
  }
};
<span class="ident">Pin</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">b</span>).<span class="ident">resume</span>(());</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(generators%2C%20generator_trait%2C%20pin)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aops%3A%3AGenerator%3B%0Ause%20std%3A%3Apin%3A%3APin%3B%0Alet%20mut%20b%20%3D%20%7C%7C%20%7B%0A%20%20let%20v%20%3D%20vec!%5B1%2C2%2C3%5D%3B%0A%20%20for%20%26x%20in%20%26v%20%7B%20%2F%2F%20%3C--%20borrow%20of%20%60v%60%20is%20still%20in%20scope...%0A%20%20%20%20yield%20x%3B%20%2F%2F%20...when%20this%20yield%20occurs.%0A%20%20%7D%0A%7D%3B%0APin%3A%3Anew(%26mut%20b).resume(())%3B%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Such cases can sometimes be resolved by iterating “by value” (or using
<code>into_iter()</code>) to avoid borrowing:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">b</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
  <span class="kw">let</span> <span class="ident">v</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];
  <span class="kw">for</span> <span class="ident">x</span> <span class="kw">in</span> <span class="ident">v</span> { <span class="comment">// &lt;-- Take ownership of the values instead!</span>
    <span class="kw">yield</span> <span class="ident">x</span>; <span class="comment">// &lt;-- Now yield is OK.</span>
  }
};
<span class="ident">Pin</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">b</span>).<span class="ident">resume</span>(());</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(generators%2C%20generator_trait%2C%20pin)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aops%3A%3AGenerator%3B%0Ause%20std%3A%3Apin%3A%3APin%3B%0Alet%20mut%20b%20%3D%20%7C%7C%20%7B%0A%20%20let%20v%20%3D%20vec!%5B1%2C2%2C3%5D%3B%0A%20%20for%20x%20in%20v%20%7B%20%2F%2F%20%3C--%20Take%20ownership%20of%20the%20values%20instead!%0A%20%20%20%20yield%20x%3B%20%2F%2F%20%3C--%20Now%20yield%20is%20OK.%0A%20%20%7D%0A%7D%3B%0APin%3A%3Anew(%26mut%20b).resume(())%3B%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>If taking ownership is not an option, using indices can work too:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">b</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
  <span class="kw">let</span> <span class="ident">v</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];
  <span class="kw">let</span> <span class="ident">len</span> <span class="op">=</span> <span class="ident">v</span>.<span class="ident">len</span>(); <span class="comment">// (*)</span>
  <span class="kw">for</span> <span class="ident">i</span> <span class="kw">in</span> <span class="number">0</span>..<span class="ident">len</span> {
    <span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="ident">v</span>[<span class="ident">i</span>]; <span class="comment">// (*)</span>
    <span class="kw">yield</span> <span class="ident">x</span>; <span class="comment">// &lt;-- Now yield is OK.</span>
  }
};
<span class="ident">Pin</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">b</span>).<span class="ident">resume</span>(());

<span class="comment">// (*) -- Unfortunately, these temporaries are currently required.</span>
<span class="comment">// See &lt;https://github.com/rust-lang/rust/issues/43122&gt;.</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(generators%2C%20generator_trait%2C%20pin)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aops%3A%3AGenerator%3B%0Ause%20std%3A%3Apin%3A%3APin%3B%0Alet%20mut%20b%20%3D%20%7C%7C%20%7B%0A%20%20let%20v%20%3D%20vec!%5B1%2C2%2C3%5D%3B%0A%20%20let%20len%20%3D%20v.len()%3B%20%2F%2F%20(*)%0A%20%20for%20i%20in%200..len%20%7B%0A%20%20%20%20let%20x%20%3D%20v%5Bi%5D%3B%20%2F%2F%20(*)%0A%20%20%20%20yield%20x%3B%20%2F%2F%20%3C--%20Now%20yield%20is%20OK.%0A%20%20%7D%0A%7D%3B%0APin%3A%3Anew(%26mut%20b).resume(())%3B%0A%0A%2F%2F%20(*)%20--%20Unfortunately%2C%20these%20temporaries%20are%20currently%20required.%0A%2F%2F%20See%20%3Chttps%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Fissues%2F43122%3E.%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0627" class="section-header"><a href="#E0627">E0627</a></h2>
<p>A yield expression was used outside of the generator literal.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">generators</span>, <span class="ident">generator_trait</span>)]</span>

<span class="kw">fn</span> <span class="ident">fake_generator</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">str</span> {
    <span class="kw">yield</span> <span class="number">1</span>;
    <span class="kw">return</span> <span class="string">&quot;foo&quot;</span>
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">generator</span> <span class="op">=</span> <span class="ident">fake_generator</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(generators%2C%20generator_trait)%5D%0A%0Afn%20fake_generator()%20-%3E%20%26'static%20str%20%7B%0A%20%20%20%20yield%201%3B%0A%20%20%20%20return%20%22foo%22%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20generator%20%3D%20fake_generator%3B%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>The error occurs because keyword <code>yield</code> can only be used inside the generator
literal. This can be fixed by constructing the generator correctly.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">generators</span>, <span class="ident">generator_trait</span>)]</span>

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">generator</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
        <span class="kw">yield</span> <span class="number">1</span>;
        <span class="kw">return</span> <span class="string">&quot;foo&quot;</span>
    };
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(generators%2C%20generator_trait)%5D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20mut%20generator%20%3D%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20yield%201%3B%0A%20%20%20%20%20%20%20%20return%20%22foo%22%0A%20%20%20%20%7D%3B%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0628" class="section-header"><a href="#E0628">E0628</a></h2>
<p>More than one parameter was used for a generator.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">generators</span>, <span class="ident">generator_trait</span>)]</span>

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">generator</span> <span class="op">=</span> <span class="op">|</span><span class="ident">a</span>: <span class="ident">i32</span>, <span class="ident">b</span>: <span class="ident">i32</span><span class="op">|</span> {
        <span class="comment">// error: too many parameters for a generator</span>
        <span class="comment">// Allowed only 0 or 1 parameter</span>
        <span class="kw">yield</span> <span class="ident">a</span>;
    };
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(generators%2C%20generator_trait)%5D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20generator%20%3D%20%7Ca%3A%20i32%2C%20b%3A%20i32%7C%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20error%3A%20too%20many%20parameters%20for%20a%20generator%0A%20%20%20%20%20%20%20%20%2F%2F%20Allowed%20only%200%20or%201%20parameter%0A%20%20%20%20%20%20%20%20yield%20a%3B%0A%20%20%20%20%7D%3B%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>At present, it is not permitted to pass more than one explicit
parameter for a generator.This can be fixed by using
at most 1 parameter for the generator. For example, we might resolve
the previous example by passing only one parameter.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">generators</span>, <span class="ident">generator_trait</span>)]</span>

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">generator</span> <span class="op">=</span> <span class="op">|</span><span class="ident">a</span>: <span class="ident">i32</span><span class="op">|</span> {
        <span class="kw">yield</span> <span class="ident">a</span>;
    };
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(generators%2C%20generator_trait)%5D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20generator%20%3D%20%7Ca%3A%20i32%7C%20%7B%0A%20%20%20%20%20%20%20%20yield%20a%3B%0A%20%20%20%20%7D%3B%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-undescribed"><h2 id="E0629" class="section-header"><a href="#E0629">E0629</a></h2>
<p>No description.</p>
</div>
<div class="error-undescribed"><h2 id="E0630" class="section-header"><a href="#E0630">E0630</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0631" class="section-header"><a href="#E0631">E0631</a></h2>
<p>This error indicates a type mismatch in closure arguments.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">F</span>: <span class="ident">Fn</span>(<span class="ident">i32</span>)<span class="op">&gt;</span>(<span class="ident">f</span>: <span class="ident">F</span>) {
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">foo</span>(<span class="op">|</span><span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="ident">str</span><span class="op">|</span> {});
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20foo%3CF%3A%20Fn(i32)%3E(f%3A%20F)%20%7B%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20foo(%7Cx%3A%20%26str%7C%20%7B%7D)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>The error occurs because <code>foo</code> accepts a closure that takes an <code>i32</code> argument,
but in <code>main</code>, it is passed a closure with a <code>&amp;str</code> argument.</p>
<p>This can be resolved by changing the type annotation or removing it entirely
if it can be inferred.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">F</span>: <span class="ident">Fn</span>(<span class="ident">i32</span>)<span class="op">&gt;</span>(<span class="ident">f</span>: <span class="ident">F</span>) {
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">foo</span>(<span class="op">|</span><span class="ident">x</span>: <span class="ident">i32</span><span class="op">|</span> {});
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20foo%3CF%3A%20Fn(i32)%3E(f%3A%20F)%20%7B%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20foo(%7Cx%3A%20i32%7C%20%7B%7D)%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-undescribed"><h2 id="E0632" class="section-header"><a href="#E0632">E0632</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0633" class="section-header"><a href="#E0633">E0633</a></h2>
<p>The <code>unwind</code> attribute was malformed.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">unwind_attributes</span>)]</span>

<span class="attribute">#[<span class="ident">unwind</span>()]</span> <span class="comment">// error: expected one argument</span>
<span class="kw">pub</span> <span class="kw">extern</span> <span class="string">&quot;C&quot;</span> <span class="kw">fn</span> <span class="ident">something</span>() {}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(unwind_attributes)%5D%0A%0A%23%5Bunwind()%5D%20%2F%2F%20error%3A%20expected%20one%20argument%0Apub%20extern%20%22C%22%20fn%20something()%20%7B%7D%0A%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>The <code>#[unwind]</code> attribute should be used as follows:</p>
<ul>
<li>
<p><code>#[unwind(aborts)]</code> – specifies that if a non-Rust ABI function
should abort the process if it attempts to unwind. This is the safer
and preferred option.</p>
</li>
<li>
<p><code>#[unwind(allowed)]</code> – specifies that a non-Rust ABI function
should be allowed to unwind. This can easily result in Undefined
Behavior (UB), so be careful.</p>
</li>
</ul>
<p>NB. The default behavior here is “allowed”, but this is unspecified
and likely to change in the future.</p>
</div>
<div class="error-described"><h2 id="E0634" class="section-header"><a href="#E0634">E0634</a></h2>
<p>A type has conflicting <code>packed</code> representation hints.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">packed</span>, <span class="ident">packed</span>(<span class="number">2</span>))]</span> <span class="comment">// error!</span>
<span class="kw">struct</span> <span class="ident">Company</span>(<span class="ident">i32</span>);

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">packed</span>(<span class="number">2</span>))]</span> <span class="comment">// error!</span>
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">packed</span>)]</span>
<span class="kw">struct</span> <span class="ident">Company</span>(<span class="ident">i32</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(packed%2C%20packed(2))%5D%20%2F%2F%20error!%0Astruct%20Company(i32)%3B%0A%0A%23%5Brepr(packed(2))%5D%20%2F%2F%20error!%0A%23%5Brepr(packed)%5D%0Astruct%20Company(i32)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>You cannot use conflicting <code>packed</code> hints on a same type. If you want to pack a
type to a given size, you should provide a size to packed:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">packed</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">struct</span> <span class="ident">Company</span>(<span class="ident">i32</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(packed)%5D%20%2F%2F%20ok!%0Astruct%20Company(i32)%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0635" class="section-header"><a href="#E0635">E0635</a></h2>
<p>The <code>#![feature]</code> attribute specified an unknown feature.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">nonexistent_rust_feature</span>)]</span> <span class="comment">// error: unknown feature</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(nonexistent_rust_feature)%5D%20%2F%2F%20error%3A%20unknown%20feature%0Afn%20main()%20%7B%0A%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0636" class="section-header"><a href="#E0636">E0636</a></h2>
<p>A <code>#![feature]</code> attribute was declared multiple times.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">allow</span>(<span class="ident">stable_features</span>)]</span>
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">rust1</span>)]</span>
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">rust1</span>)]</span> <span class="comment">// error: the feature `rust1` has already been declared</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Ballow(stable_features)%5D%0A%23!%5Bfeature(rust1)%5D%0A%23!%5Bfeature(rust1)%5D%20%2F%2F%20error%3A%20the%20feature%20%60rust1%60%20has%20already%20been%20declared%0Afn%20main()%20%7B%0A%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0637" class="section-header"><a href="#E0637">E0637</a></h2>
<p>An underscore <code>_</code> character has been used as the identifier for a lifetime.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">longest</span><span class="op">&lt;</span><span class="lifetime">&#39;_</span><span class="op">&gt;</span>(<span class="ident">str1</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;_</span> <span class="ident">str</span>, <span class="ident">str2</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;_</span> <span class="ident">str</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;_</span> <span class="ident">str</span> {
         <span class="comment">//^^ `&#39;_` is a reserved lifetime name</span>
    <span class="kw">if</span> <span class="ident">str1</span>.<span class="ident">len</span>() <span class="op">&gt;</span> <span class="ident">str2</span>.<span class="ident">len</span>() {
        <span class="ident">str1</span>
    } <span class="kw">else</span> {
        <span class="ident">str2</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20longest%3C'_%3E(str1%3A%20%26'_%20str%2C%20str2%3A%20%26'_%20str)%20-%3E%20%26'_%20str%20%7B%0A%20%20%20%20%20%20%20%20%20%2F%2F%5E%5E%20%60'_%60%20is%20a%20reserved%20lifetime%20name%0A%20%20%20%20if%20str1.len()%20%3E%20str2.len()%20%7B%0A%20%20%20%20%20%20%20%20str1%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20str2%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p><code>'_</code>, cannot be used as a lifetime identifier because it is a reserved for the
anonymous lifetime. To fix this, use a lowercase letter such as ’a, or a series
of lowercase letters such as <code>'foo</code>.  For more information, see <a href="https://doc.rust-lang.org/book/appendix-02-operators.html#non-operator-symbols">the
book</a>.  For more information on using the anonymous lifetime in rust
nightly, see <a href="https://doc.rust-lang.org/nightly/edition-guide/rust-2018/ownership-and-lifetimes/the-anonymous-lifetime.html">the nightly book</a>.</p>
<p>Corrected example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">longest</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">str1</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>, <span class="ident">str2</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span> {
    <span class="kw">if</span> <span class="ident">str1</span>.<span class="ident">len</span>() <span class="op">&gt;</span> <span class="ident">str2</span>.<span class="ident">len</span>() {
        <span class="ident">str1</span>
    } <span class="kw">else</span> {
        <span class="ident">str2</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20longest%3C'a%3E(str1%3A%20%26'a%20str%2C%20str2%3A%20%26'a%20str)%20-%3E%20%26'a%20str%20%7B%0A%20%20%20%20if%20str1.len()%20%3E%20str2.len()%20%7B%0A%20%20%20%20%20%20%20%20str1%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20str2%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0638" class="section-header"><a href="#E0638">E0638</a></h2>
<p>This error indicates that the struct, enum or enum variant must be matched
non-exhaustively as it has been marked as <code>non_exhaustive</code>.</p>
<p>When applied within a crate, downstream users of the crate will need to use the
<code>_</code> pattern when matching enums and use the <code>..</code> pattern when matching structs.
Downstream crates cannot match against non-exhaustive enum variants.</p>
<p>For example, in the below example, since the enum is marked as
<code>non_exhaustive</code>, it is required that downstream crates match non-exhaustively
on it.</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="attribute">#[<span class="ident">non_exhaustive</span>]</span>
<span class="kw">pub</span> <span class="kw">enum</span> <span class="ident">Error</span> {
    <span class="ident">Message</span>(<span class="ident">String</span>),
    <span class="ident">Other</span>,
}

<span class="kw">impl</span> <span class="ident">Display</span> <span class="kw">for</span> <span class="ident">Error</span> {
    <span class="kw">fn</span> <span class="ident">fmt</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">formatter</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">fmt</span>::<span class="ident">Formatter</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">fmt</span>::<span class="prelude-ty">Result</span> {
        <span class="comment">// This will not error, despite being marked as non_exhaustive, as this</span>
        <span class="comment">// enum is defined within the current crate, it can be matched</span>
        <span class="comment">// exhaustively.</span>
        <span class="kw">let</span> <span class="ident">display</span> <span class="op">=</span> <span class="kw">match</span> <span class="self">self</span> {
            <span class="ident">Message</span>(<span class="ident">s</span>) <span class="op">=</span><span class="op">&gt;</span> <span class="ident">s</span>,
            <span class="ident">Other</span> <span class="op">=</span><span class="op">&gt;</span> <span class="string">&quot;other or unknown error&quot;</span>,
        };
        <span class="ident">formatter</span>.<span class="ident">write_str</span>(<span class="ident">display</span>)
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bnon_exhaustive%5D%0Apub%20enum%20Error%20%7B%0A%20%20%20%20Message(String)%2C%0A%20%20%20%20Other%2C%0A%7D%0A%0Aimpl%20Display%20for%20Error%20%7B%0A%20%20%20%20fn%20fmt(%26self%2C%20formatter%3A%20%26mut%20fmt%3A%3AFormatter)%20-%3E%20fmt%3A%3AResult%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20This%20will%20not%20error%2C%20despite%20being%20marked%20as%20non_exhaustive%2C%20as%20this%0A%20%20%20%20%20%20%20%20%2F%2F%20enum%20is%20defined%20within%20the%20current%20crate%2C%20it%20can%20be%20matched%0A%20%20%20%20%20%20%20%20%2F%2F%20exhaustively.%0A%20%20%20%20%20%20%20%20let%20display%20%3D%20match%20self%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Message(s)%20%3D%3E%20s%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20Other%20%3D%3E%20%22other%20or%20unknown%20error%22%2C%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20formatter.write_str(display)%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>An example of matching non-exhaustively on the above enum is provided below:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="kw">use</span> <span class="ident">mycrate</span>::<span class="ident">Error</span>;

<span class="comment">// This will not error as the non_exhaustive Error enum has been matched with a</span>
<span class="comment">// wildcard.</span>
<span class="kw">match</span> <span class="ident">error</span> {
    <span class="ident">Message</span>(<span class="ident">s</span>) <span class="op">=</span><span class="op">&gt;</span> ...,
    <span class="ident">Other</span> <span class="op">=</span><span class="op">&gt;</span> ...,
    <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> ...,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20mycrate%3A%3AError%3B%0A%0A%2F%2F%20This%20will%20not%20error%20as%20the%20non_exhaustive%20Error%20enum%20has%20been%20matched%20with%20a%0A%2F%2F%20wildcard.%0Amatch%20error%20%7B%0A%20%20%20%20Message(s)%20%3D%3E%20...%2C%0A%20%20%20%20Other%20%3D%3E%20...%2C%0A%20%20%20%20_%20%3D%3E%20...%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Similarly, for structs, match with <code>..</code> to avoid this error.</p>
</div>
<div class="error-described"><h2 id="E0639" class="section-header"><a href="#E0639">E0639</a></h2>
<p>This error indicates that the struct, enum or enum variant cannot be
instantiated from outside of the defining crate as it has been marked
as <code>non_exhaustive</code> and as such more fields/variants may be added in
future that could cause adverse side effects for this code.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="attribute">#[<span class="ident">non_exhaustive</span>]</span>
<span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">NormalStruct</span> {
    <span class="kw">pub</span> <span class="ident">first_field</span>: <span class="ident">u16</span>,
    <span class="kw">pub</span> <span class="ident">second_field</span>: <span class="ident">u16</span>,
}

<span class="kw">let</span> <span class="ident">ns</span> <span class="op">=</span> <span class="ident">NormalStruct</span> { <span class="ident">first_field</span>: <span class="number">640</span>, <span class="ident">second_field</span>: <span class="number">480</span> }; <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bnon_exhaustive%5D%0Apub%20struct%20NormalStruct%20%7B%0A%20%20%20%20pub%20first_field%3A%20u16%2C%0A%20%20%20%20pub%20second_field%3A%20u16%2C%0A%7D%0A%0Alet%20ns%20%3D%20NormalStruct%20%7B%20first_field%3A%20640%2C%20second_field%3A%20480%20%7D%3B%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>It is recommended that you look for a <code>new</code> function or equivalent in the
crate’s documentation.</p>
</div>
<div class="error-undescribed"><h2 id="E0640" class="section-header"><a href="#E0640">E0640</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0641" class="section-header"><a href="#E0641">E0641</a></h2>
<p>Attempted to cast to/from a pointer with an unknown kind.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">b</span> <span class="op">=</span> <span class="number">0</span> <span class="kw">as</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="kw">_</span>; <span class="comment">// error</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20b%20%3D%200%20as%20*const%20_%3B%20%2F%2F%20error%0A%7D&amp;edition=2015">Run</a></div>
<p>Type information must be provided if a pointer type being cast from/into another
type which cannot be inferred:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="comment">// Creating a pointer from reference: type can be inferred</span>
<span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="kw-2">&amp;</span>(<span class="ident">String</span>::<span class="ident">from</span>(<span class="string">&quot;Hello world!&quot;</span>)) <span class="kw">as</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="kw">_</span>; <span class="comment">// ok!</span>

<span class="kw">let</span> <span class="ident">b</span> <span class="op">=</span> <span class="number">0</span> <span class="kw">as</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">i32</span>; <span class="comment">// ok!</span>

<span class="kw">let</span> <span class="ident">c</span>: <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">i32</span> <span class="op">=</span> <span class="number">0</span> <span class="kw">as</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="kw">_</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20Creating%20a%20pointer%20from%20reference%3A%20type%20can%20be%20inferred%0Afn%20main()%20%7B%0Alet%20a%20%3D%20%26(String%3A%3Afrom(%22Hello%20world!%22))%20as%20*const%20_%3B%20%2F%2F%20ok!%0A%0Alet%20b%20%3D%200%20as%20*const%20i32%3B%20%2F%2F%20ok!%0A%0Alet%20c%3A%20*const%20i32%20%3D%200%20as%20*const%20_%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0642" class="section-header"><a href="#E0642">E0642</a></h2>
<p>Trait methods currently cannot take patterns as arguments.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>((<span class="ident">x</span>, <span class="ident">y</span>): (<span class="ident">i32</span>, <span class="ident">i32</span>)); <span class="comment">// error: patterns aren&#39;t allowed</span>
                                <span class="comment">//        in trait methods</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo((x%2C%20y)%3A%20(i32%2C%20i32))%3B%20%2F%2F%20error%3A%20patterns%20aren't%20allowed%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20in%20trait%20methods%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>You can instead use a single name for the argument:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x_and_y</span>: (<span class="ident">i32</span>, <span class="ident">i32</span>)); <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo(x_and_y%3A%20(i32%2C%20i32))%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0643" class="section-header"><a href="#E0643">E0643</a></h2>
<p>This error indicates that there is a mismatch between generic parameters and
impl Trait parameters in a trait declaration versus its impl.</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="kw">_</span>: <span class="kw-2">&amp;</span><span class="kw">impl</span> <span class="ident">Iterator</span>);
}
<span class="kw">impl</span> <span class="ident">Foo</span> <span class="kw">for</span> () {
    <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">U</span>: <span class="ident">Iterator</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="kw">_</span>: <span class="kw-2">&amp;</span><span class="ident">U</span>) { } <span class="comment">// error method `foo` has incompatible</span>
                                          <span class="comment">// signature for trait</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20fn%20foo(%26self%2C%20_%3A%20%26impl%20Iterator)%3B%0A%7D%0Aimpl%20Foo%20for%20()%20%7B%0A%20%20%20%20fn%20foo%3CU%3A%20Iterator%3E(%26self%2C%20_%3A%20%26U)%20%7B%20%7D%20%2F%2F%20error%20method%20%60foo%60%20has%20incompatible%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20signature%20for%20trait%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0644" class="section-header"><a href="#E0644">E0644</a></h2>
<p>A closure or generator was constructed that references its own type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">fix</span><span class="op">&lt;</span><span class="ident">F</span><span class="op">&gt;</span>(<span class="ident">f</span>: <span class="kw-2">&amp;</span><span class="ident">F</span>)
  <span class="kw">where</span> <span class="ident">F</span>: <span class="ident">Fn</span>(<span class="kw-2">&amp;</span><span class="ident">F</span>)
{
    <span class="ident">f</span>(<span class="kw-2">&amp;</span><span class="ident">f</span>);
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">fix</span>(<span class="kw-2">&amp;</span><span class="op">|</span><span class="ident">y</span><span class="op">|</span> {
        <span class="comment">// Here, when `x` is called, the parameter `y` is equal to `x`.</span>
    });
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20fix%3CF%3E(f%3A%20%26F)%0A%20%20where%20F%3A%20Fn(%26F)%0A%7B%0A%20%20%20%20f(%26f)%3B%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20fix(%26%7Cy%7C%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Here%2C%20when%20%60x%60%20is%20called%2C%20the%20parameter%20%60y%60%20is%20equal%20to%20%60x%60.%0A%20%20%20%20%7D)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Rust does not permit a closure to directly reference its own type,
either through an argument (as in the example above) or by capturing
itself through its environment. This restriction helps keep closure
inference tractable.</p>
<p>The easiest fix is to rewrite your closure into a top-level function,
or into a method. In some cases, you may also be able to have your
closure call itself by capturing a <code>&amp;Fn()</code> object or <code>fn()</code> pointer
that refers to itself. That is permitting, since the closure would be
invoking itself via a virtual call, and hence does not directly
reference its own <em>type</em>.</p>
</div>
<div class="error-described"><h2 id="E0646" class="section-header"><a href="#E0646">E0646</a></h2>
<p>It is not possible to define <code>main</code> with a where clause.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span>() <span class="kw">where</span> <span class="ident">i32</span>: <span class="ident">Copy</span> { <span class="comment">// error: main function is not allowed to have</span>
                            <span class="comment">// a where clause</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20where%20i32%3A%20Copy%20%7B%20%2F%2F%20error%3A%20main%20function%20is%20not%20allowed%20to%20have%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20a%20where%20clause%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0647" class="section-header"><a href="#E0647">E0647</a></h2>
<p>The <code>start</code> function was defined with a where clause.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">start</span>)]</span>

<span class="attribute">#[<span class="ident">start</span>]</span>
<span class="kw">fn</span> <span class="ident">start</span>(<span class="kw">_</span>: <span class="ident">isize</span>, <span class="kw">_</span>: <span class="kw-2">*</span><span class="kw">const</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">u8</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">isize</span> <span class="kw">where</span> (): <span class="ident">Copy</span> {
    <span class="comment">//^ error: start function is not allowed to have a where clause</span>
    <span class="number">0</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(start)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bstart%5D%0Afn%20start(_%3A%20isize%2C%20_%3A%20*const%20*const%20u8)%20-%3E%20isize%20where%20()%3A%20Copy%20%7B%0A%20%20%20%20%2F%2F%5E%20error%3A%20start%20function%20is%20not%20allowed%20to%20have%20a%20where%20clause%0A%20%20%20%200%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0648" class="section-header"><a href="#E0648">E0648</a></h2>
<p>An <code>export_name</code> attribute contains null characters (<code>\0</code>).</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">export_name</span><span class="op">=</span><span class="string">&quot;\0foo&quot;</span>]</span> <span class="comment">// error: `export_name` may not contain null characters</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">bar</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bexport_name%3D%22%5C0foo%22%5D%20%2F%2F%20error%3A%20%60export_name%60%20may%20not%20contain%20null%20characters%0Apub%20fn%20bar()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, remove the null characters:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">export_name</span><span class="op">=</span><span class="string">&quot;foo&quot;</span>]</span> <span class="comment">// ok!</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">bar</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bexport_name%3D%22foo%22%5D%20%2F%2F%20ok!%0Apub%20fn%20bar()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0657" class="section-header"><a href="#E0657">E0657</a></h2>
<p>A lifetime bound on a trait implementation was captured at an incorrect place.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Id</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {}
<span class="kw">trait</span> <span class="ident">Lt</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {}

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Lt</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="kw">for</span> () {}
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">Id</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">T</span> {}

<span class="kw">fn</span> <span class="ident">free_fn_capture_hrtb_in_impl_trait</span>()
    <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Box</span><span class="op">&lt;</span><span class="kw">for</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Id</span><span class="op">&lt;</span><span class="kw">impl</span> <span class="ident">Lt</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="comment">// error!</span>
{
    <span class="ident">Box</span>::<span class="ident">new</span>(())
}

<span class="kw">struct</span> <span class="ident">Foo</span>;
<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">impl_fn_capture_hrtb_in_impl_trait</span>()
        <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Box</span><span class="op">&lt;</span><span class="kw">for</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Id</span><span class="op">&lt;</span><span class="kw">impl</span> <span class="ident">Lt</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="comment">// error!</span>
    {
        <span class="ident">Box</span>::<span class="ident">new</span>(())
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Id%3CT%3E%20%7B%7D%0Atrait%20Lt%3C'a%3E%20%7B%7D%0A%0Aimpl%3C'a%3E%20Lt%3C'a%3E%20for%20()%20%7B%7D%0Aimpl%3CT%3E%20Id%3CT%3E%20for%20T%20%7B%7D%0A%0Afn%20free_fn_capture_hrtb_in_impl_trait()%0A%20%20%20%20-%3E%20Box%3Cfor%3C'a%3E%20Id%3Cimpl%20Lt%3C'a%3E%3E%3E%20%2F%2F%20error!%0A%7B%0A%20%20%20%20Box%3A%3Anew(())%0A%7D%0A%0Astruct%20Foo%3B%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20impl_fn_capture_hrtb_in_impl_trait()%0A%20%20%20%20%20%20%20%20-%3E%20Box%3Cfor%3C'a%3E%20Id%3Cimpl%20Lt%3C'a%3E%3E%3E%20%2F%2F%20error!%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20Box%3A%3Anew(())%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, you have used the inappropriate lifetime in the <code>impl Trait</code>,
The <code>impl Trait</code> can only capture lifetimes bound at the fn or impl
level.</p>
<p>To fix this we have to define the lifetime at the function or impl
level and use that lifetime in the <code>impl Trait</code>. For example you can
define the lifetime at the function:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">Id</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {}
<span class="kw">trait</span> <span class="ident">Lt</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {}

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Lt</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="kw">for</span> () {}
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="ident">Id</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">T</span> {}

<span class="kw">fn</span> <span class="ident">free_fn_capture_hrtb_in_impl_trait</span><span class="op">&lt;</span><span class="lifetime">&#39;b</span><span class="op">&gt;</span>()
    <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Box</span><span class="op">&lt;</span><span class="kw">for</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Id</span><span class="op">&lt;</span><span class="kw">impl</span> <span class="ident">Lt</span><span class="op">&lt;</span><span class="lifetime">&#39;b</span><span class="op">&gt;</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="comment">// ok!</span>
{
    <span class="ident">Box</span>::<span class="ident">new</span>(())
}

<span class="kw">struct</span> <span class="ident">Foo</span>;
<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">impl_fn_capture_hrtb_in_impl_trait</span><span class="op">&lt;</span><span class="lifetime">&#39;b</span><span class="op">&gt;</span>()
        <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Box</span><span class="op">&lt;</span><span class="kw">for</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Id</span><span class="op">&lt;</span><span class="kw">impl</span> <span class="ident">Lt</span><span class="op">&lt;</span><span class="lifetime">&#39;b</span><span class="op">&gt;</span><span class="op">&gt;</span><span class="op">&gt;</span> <span class="comment">// ok!</span>
    {
        <span class="ident">Box</span>::<span class="ident">new</span>(())
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Id%3CT%3E%20%7B%7D%0Atrait%20Lt%3C'a%3E%20%7B%7D%0A%0Aimpl%3C'a%3E%20Lt%3C'a%3E%20for%20()%20%7B%7D%0Aimpl%3CT%3E%20Id%3CT%3E%20for%20T%20%7B%7D%0A%0Afn%20free_fn_capture_hrtb_in_impl_trait%3C'b%3E()%0A%20%20%20%20-%3E%20Box%3Cfor%3C'a%3E%20Id%3Cimpl%20Lt%3C'b%3E%3E%3E%20%2F%2F%20ok!%0A%7B%0A%20%20%20%20Box%3A%3Anew(())%0A%7D%0A%0Astruct%20Foo%3B%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20impl_fn_capture_hrtb_in_impl_trait%3C'b%3E()%0A%20%20%20%20%20%20%20%20-%3E%20Box%3Cfor%3C'a%3E%20Id%3Cimpl%20Lt%3C'b%3E%3E%3E%20%2F%2F%20ok!%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20Box%3A%3Anew(())%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0658" class="section-header"><a href="#E0658">E0658</a></h2>
<p>An unstable feature was used.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">u128</span>)]</span> <span class="comment">// error: use of unstable library feature &#39;repr128&#39;</span>
<span class="kw">enum</span> <span class="ident">Foo</span> {
    <span class="ident">Bar</span>(<span class="ident">u64</span>),
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(u128)%5D%20%2F%2F%20error%3A%20use%20of%20unstable%20library%20feature%20'repr128'%0Aenum%20Foo%20%7B%0A%20%20%20%20Bar(u64)%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>If you’re using a stable or a beta version of rustc, you won’t be able to use
any unstable features. In order to do so, please switch to a nightly version of
rustc (by using <a href="https://rust-lang.github.io/rustup/concepts/channels.html">rustup</a>).</p>
<p>If you’re using a nightly version of rustc, just add the corresponding feature
to be able to use it:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">repr128</span>)]</span>

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">u128</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">enum</span> <span class="ident">Foo</span> {
    <span class="ident">Bar</span>(<span class="ident">u64</span>),
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(repr128)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brepr(u128)%5D%20%2F%2F%20ok!%0Aenum%20Foo%20%7B%0A%20%20%20%20Bar(u64)%2C%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0659" class="section-header"><a href="#E0659">E0659</a></h2>
<p>An item usage is ambiguous.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">moon</span> {
    <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span>() {}
}

<span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">earth</span> {
    <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span>() {}
}

<span class="kw">mod</span> <span class="ident">collider</span> {
    <span class="kw">pub</span> <span class="kw">use</span> <span class="kw">crate</span>::<span class="ident">moon</span>::<span class="kw-2">*</span>;
    <span class="kw">pub</span> <span class="kw">use</span> <span class="kw">crate</span>::<span class="ident">earth</span>::<span class="kw-2">*</span>;
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">crate</span>::<span class="ident">collider</span>::<span class="ident">foo</span>(); <span class="comment">// ERROR: `foo` is ambiguous</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Apub%20mod%20moon%20%7B%0A%20%20%20%20pub%20fn%20foo()%20%7B%7D%0A%7D%0A%0Apub%20mod%20earth%20%7B%0A%20%20%20%20pub%20fn%20foo()%20%7B%7D%0A%7D%0A%0Amod%20collider%20%7B%0A%20%20%20%20pub%20use%20crate%3A%3Amoon%3A%3A*%3B%0A%20%20%20%20pub%20use%20crate%3A%3Aearth%3A%3A*%3B%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20crate%3A%3Acollider%3A%3Afoo()%3B%20%2F%2F%20ERROR%3A%20%60foo%60%20is%20ambiguous%0A%7D&amp;edition=2018">Run</a></div>
<p>This error generally appears when two items with the same name are imported into
a module. Here, the <code>foo</code> functions are imported and reexported from the
<code>collider</code> module and therefore, when we’re using <code>collider::foo()</code>, both
functions collide.</p>
<p>To solve this error, the best solution is generally to keep the path before the
item when using it. Example:</p>

<div class='information'><div class='tooltip edition' data-edition="2018">ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered edition">
<span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">moon</span> {
    <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span>() {}
}

<span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">earth</span> {
    <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span>() {}
}

<span class="kw">mod</span> <span class="ident">collider</span> {
    <span class="kw">pub</span> <span class="kw">use</span> <span class="kw">crate</span>::<span class="ident">moon</span>;
    <span class="kw">pub</span> <span class="kw">use</span> <span class="kw">crate</span>::<span class="ident">earth</span>;
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">crate</span>::<span class="ident">collider</span>::<span class="ident">moon</span>::<span class="ident">foo</span>(); <span class="comment">// ok!</span>
    <span class="kw">crate</span>::<span class="ident">collider</span>::<span class="ident">earth</span>::<span class="ident">foo</span>(); <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Apub%20mod%20moon%20%7B%0A%20%20%20%20pub%20fn%20foo()%20%7B%7D%0A%7D%0A%0Apub%20mod%20earth%20%7B%0A%20%20%20%20pub%20fn%20foo()%20%7B%7D%0A%7D%0A%0Amod%20collider%20%7B%0A%20%20%20%20pub%20use%20crate%3A%3Amoon%3B%0A%20%20%20%20pub%20use%20crate%3A%3Aearth%3B%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20crate%3A%3Acollider%3A%3Amoon%3A%3Afoo()%3B%20%2F%2F%20ok!%0A%20%20%20%20crate%3A%3Acollider%3A%3Aearth%3A%3Afoo()%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2018">Run</a></div>
</div>
<div class="error-described"><h2 id="E0660" class="section-header"><a href="#E0660">E0660</a></h2>
<p>The argument to the <code>llvm_asm</code> macro is not well-formed.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="macro">llvm_asm</span><span class="macro">!</span>(<span class="string">&quot;nop&quot;</span> <span class="string">&quot;nop&quot;</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Allvm_asm!(%22nop%22%20%22nop%22)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Considering that this would be a long explanation, we instead recommend you
take a look at the <a href="https://doc.rust-lang.org/stable/unstable-book/library-features/llvm-asm.html"><code>llvm_asm</code></a> chapter of the Unstable book:</p>
</div>
<div class="error-described"><h2 id="E0661" class="section-header"><a href="#E0661">E0661</a></h2>
<p>An invalid syntax was passed to the second argument of an <code>llvm_asm</code> macro line.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">a</span>;
<span class="macro">llvm_asm</span><span class="macro">!</span>(<span class="string">&quot;nop&quot;</span> : <span class="string">&quot;r&quot;</span>(<span class="ident">a</span>));</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20a%3B%0Allvm_asm!(%22nop%22%20%3A%20%22r%22(a))%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Considering that this would be a long explanation, we instead recommend you
take a look at the <a href="https://doc.rust-lang.org/stable/unstable-book/library-features/llvm-asm.html"><code>llvm_asm</code></a> chapter of the Unstable book:</p>
</div>
<div class="error-described"><h2 id="E0662" class="section-header"><a href="#E0662">E0662</a></h2>
<p>An invalid input operand constraint was passed to the <code>llvm_asm</code> macro
(third line).</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="macro">llvm_asm</span><span class="macro">!</span>(<span class="string">&quot;xor %eax, %eax&quot;</span>
          :
          : <span class="string">&quot;=test&quot;</span>(<span class="string">&quot;a&quot;</span>)
         );</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Allvm_asm!(%22xor%20%25eax%2C%20%25eax%22%0A%20%20%20%20%20%20%20%20%20%20%3A%0A%20%20%20%20%20%20%20%20%20%20%3A%20%22%3Dtest%22(%22a%22)%0A%20%20%20%20%20%20%20%20%20)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Considering that this would be a long explanation, we instead recommend you
take a look at the <a href="https://doc.rust-lang.org/stable/unstable-book/library-features/llvm-asm.html"><code>llvm_asm</code></a> chapter of the Unstable book:</p>
</div>
<div class="error-described"><h2 id="E0663" class="section-header"><a href="#E0663">E0663</a></h2>
<p>An invalid input operand constraint was passed to the <code>llvm_asm</code> macro
(third line).</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="macro">llvm_asm</span><span class="macro">!</span>(<span class="string">&quot;xor %eax, %eax&quot;</span>
          :
          : <span class="string">&quot;+test&quot;</span>(<span class="string">&quot;a&quot;</span>)
         );</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Allvm_asm!(%22xor%20%25eax%2C%20%25eax%22%0A%20%20%20%20%20%20%20%20%20%20%3A%0A%20%20%20%20%20%20%20%20%20%20%3A%20%22%2Btest%22(%22a%22)%0A%20%20%20%20%20%20%20%20%20)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Considering that this would be a long explanation, we instead recommend you
take a look at the <a href="https://doc.rust-lang.org/stable/unstable-book/library-features/llvm-asm.html"><code>llvm_asm</code></a> chapter of the Unstable book:</p>
</div>
<div class="error-described"><h2 id="E0664" class="section-header"><a href="#E0664">E0664</a></h2>
<p>A clobber was surrounded by braces in the <code>llvm_asm</code> macro.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="macro">llvm_asm</span><span class="macro">!</span>(<span class="string">&quot;mov $$0x200, %eax&quot;</span>
          :
          :
          : <span class="string">&quot;{eax}&quot;</span>
         );</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Allvm_asm!(%22mov%20%24%240x200%2C%20%25eax%22%0A%20%20%20%20%20%20%20%20%20%20%3A%0A%20%20%20%20%20%20%20%20%20%20%3A%0A%20%20%20%20%20%20%20%20%20%20%3A%20%22%7Beax%7D%22%0A%20%20%20%20%20%20%20%20%20)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Considering that this would be a long explanation, we instead recommend you
take a look at the <a href="https://doc.rust-lang.org/stable/unstable-book/library-features/llvm-asm.html"><code>llvm_asm</code></a> chapter of the Unstable book:</p>
</div>
<div class="error-described"><h2 id="E0665" class="section-header"><a href="#E0665">E0665</a></h2>
<p>The <code>Default</code> trait was derived on an enum.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Default</span>)]</span>
<span class="kw">enum</span> <span class="ident">Food</span> {
    <span class="ident">Sweet</span>,
    <span class="ident">Salty</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bderive(Default)%5D%0Aenum%20Food%20%7B%0A%20%20%20%20Sweet%2C%0A%20%20%20%20Salty%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>The <code>Default</code> cannot be derived on an enum for the simple reason that the
compiler doesn’t know which value to pick by default whereas it can for a
struct as long as all its fields implement the <code>Default</code> trait as well.</p>
<p>If you still want to implement <code>Default</code> on your enum, you’ll have to do it “by
hand”:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">Food</span> {
    <span class="ident">Sweet</span>,
    <span class="ident">Salty</span>,
}

<span class="kw">impl</span> <span class="ident">Default</span> <span class="kw">for</span> <span class="ident">Food</span> {
    <span class="kw">fn</span> <span class="ident">default</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Food</span> {
        <span class="ident">Food</span>::<span class="ident">Sweet</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20Food%20%7B%0A%20%20%20%20Sweet%2C%0A%20%20%20%20Salty%2C%0A%7D%0A%0Aimpl%20Default%20for%20Food%20%7B%0A%20%20%20%20fn%20default()%20-%3E%20Food%20%7B%0A%20%20%20%20%20%20%20%20Food%3A%3ASweet%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0666" class="section-header"><a href="#E0666">E0666</a></h2>
<p><code>impl Trait</code> types cannot appear nested in the generic arguments of other
<code>impl Trait</code> types.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">MyGenericTrait</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {}
<span class="kw">trait</span> <span class="ident">MyInnerTrait</span> {}

<span class="kw">fn</span> <span class="ident">foo</span>(
    <span class="ident">bar</span>: <span class="kw">impl</span> <span class="ident">MyGenericTrait</span><span class="op">&lt;</span><span class="kw">impl</span> <span class="ident">MyInnerTrait</span><span class="op">&gt;</span>, <span class="comment">// error!</span>
) {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20MyGenericTrait%3CT%3E%20%7B%7D%0Atrait%20MyInnerTrait%20%7B%7D%0A%0Afn%20foo(%0A%20%20%20%20bar%3A%20impl%20MyGenericTrait%3Cimpl%20MyInnerTrait%3E%2C%20%2F%2F%20error!%0A)%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Type parameters for <code>impl Trait</code> types must be explicitly defined as named
generic parameters:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">MyGenericTrait</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {}
<span class="kw">trait</span> <span class="ident">MyInnerTrait</span> {}

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">MyInnerTrait</span><span class="op">&gt;</span>(
    <span class="ident">bar</span>: <span class="kw">impl</span> <span class="ident">MyGenericTrait</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>, <span class="comment">// ok!</span>
) {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20MyGenericTrait%3CT%3E%20%7B%7D%0Atrait%20MyInnerTrait%20%7B%7D%0A%0Afn%20foo%3CT%3A%20MyInnerTrait%3E(%0A%20%20%20%20bar%3A%20impl%20MyGenericTrait%3CT%3E%2C%20%2F%2F%20ok!%0A)%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-undescribed"><h2 id="E0667" class="section-header"><a href="#E0667">E0667</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0668" class="section-header"><a href="#E0668">E0668</a></h2>
<p>Malformed inline assembly rejected by LLVM.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">llvm_asm</span>)]</span>

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">rax</span>: <span class="ident">u64</span>;
    <span class="kw">unsafe</span> {
        <span class="macro">llvm_asm</span><span class="macro">!</span>(<span class="string">&quot;&quot;</span> :<span class="string">&quot;={rax&quot;</span>(<span class="ident">rax</span>));
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Accumulator is: {}&quot;</span>, <span class="ident">rax</span>);
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(llvm_asm)%5D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20rax%3A%20u64%3B%0A%20%20%20%20unsafe%20%7B%0A%20%20%20%20%20%20%20%20llvm_asm!(%22%22%20%3A%22%3D%7Brax%22(rax))%3B%0A%20%20%20%20%20%20%20%20println!(%22Accumulator%20is%3A%20%7B%7D%22%2C%20rax)%3B%0A%20%20%20%20%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>LLVM checks the validity of the constraints and the assembly string passed to
it. This error implies that LLVM seems something wrong with the inline
assembly call.</p>
<p>In particular, it can happen if you forgot the closing bracket of a register
constraint (see issue #51430), like in the previous code example.</p>
</div>
<div class="error-described"><h2 id="E0669" class="section-header"><a href="#E0669">E0669</a></h2>
<p>Cannot convert inline assembly operand to a single LLVM value.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">llvm_asm</span>)]</span>

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">unsafe</span> {
        <span class="macro">llvm_asm</span><span class="macro">!</span>(<span class="string">&quot;&quot;</span> :: <span class="string">&quot;r&quot;</span>(<span class="string">&quot;&quot;</span>)); <span class="comment">// error!</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(llvm_asm)%5D%0A%0Afn%20main()%20%7B%0A%20%20%20%20unsafe%20%7B%0A%20%20%20%20%20%20%20%20llvm_asm!(%22%22%20%3A%3A%20%22r%22(%22%22))%3B%20%2F%2F%20error!%0A%20%20%20%20%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>This error usually happens when trying to pass in a value to an input inline
assembly operand that is actually a pair of values. In particular, this can
happen when trying to pass in a slice, for instance a <code>&amp;str</code>. In Rust, these
values are represented internally as a pair of values, the pointer and its
length. When passed as an input operand, this pair of values can not be
coerced into a register and thus we must fail with an error.</p>
</div>
<div class="error-described"><h2 id="E0670" class="section-header"><a href="#E0670">E0670</a></h2>
<p>Rust 2015 does not permit the use of <code>async fn</code>.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="ident">async</span> <span class="kw">fn</span> <span class="ident">foo</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aasync%20fn%20foo()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Switch to the Rust 2018 edition to use <code>async fn</code>.</p>
</div>
<div class="error-described"><h2 id="E0671" class="section-header"><a href="#E0671">E0671</a></h2>
<h4 id="note-this-error-code-is-no-longer-emitted-by-the-compiler-42" class="section-header"><a href="#note-this-error-code-is-no-longer-emitted-by-the-compiler-42">Note: this error code is no longer emitted by the compiler.</a></h4>
<p>Const parameters cannot depend on type parameters.
The following is therefore invalid:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">const_generics</span>)]</span>

<span class="kw">fn</span> <span class="ident">const_id</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="kw">const</span> <span class="ident">N</span>: <span class="ident">T</span><span class="op">&gt;</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">T</span> { <span class="comment">// error</span>
    <span class="ident">N</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(const_generics)%5D%0A%0Afn%20main()%20%7B%0Afn%20const_id%3CT%2C%20const%20N%3A%20T%3E()%20-%3E%20T%20%7B%20%2F%2F%20error%0A%20%20%20%20N%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0687" class="section-header"><a href="#E0687">E0687</a></h2>
<p>In-band lifetimes cannot be used in <code>fn</code>/<code>Fn</code> syntax.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">in_band_lifetimes</span>)]</span>

<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="kw">fn</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span>)) {} <span class="comment">// error!</span>

<span class="kw">fn</span> <span class="ident">bar</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="ident">Fn</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span>)) {} <span class="comment">// error!</span>

<span class="kw">fn</span> <span class="ident">baz</span>(<span class="ident">x</span>: <span class="kw">fn</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span>), <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span>) {} <span class="comment">// error!</span>

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> { <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span> }

<span class="kw">impl</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">x</span>: <span class="kw">fn</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span>)) {} <span class="comment">// error!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(in_band_lifetimes)%5D%0A%0Afn%20main()%20%7B%0Afn%20foo(x%3A%20fn(%26'a%20u32))%20%7B%7D%20%2F%2F%20error!%0A%0Afn%20bar(x%3A%20%26Fn(%26'a%20u32))%20%7B%7D%20%2F%2F%20error!%0A%0Afn%20baz(x%3A%20fn(%26'a%20u32)%2C%20y%3A%20%26'a%20u32)%20%7B%7D%20%2F%2F%20error!%0A%0Astruct%20Foo%3C'a%3E%20%7B%20x%3A%20%26'a%20u32%20%7D%0A%0Aimpl%20Foo%3C'a%3E%20%7B%0A%20%20%20%20fn%20bar(%26self%2C%20x%3A%20fn(%26'a%20u32))%20%7B%7D%20%2F%2F%20error!%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Lifetimes used in <code>fn</code> or <code>Fn</code> syntax must be explicitly
declared using <code>&lt;...&gt;</code> binders. For example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw">fn</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span>)) {} <span class="comment">// ok!</span>

<span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="ident">Fn</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span>)) {} <span class="comment">// ok!</span>

<span class="kw">fn</span> <span class="ident">baz</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw">fn</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span>), <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span>) {} <span class="comment">// ok!</span>

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> { <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span> }

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">x</span>: <span class="kw">fn</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span>)) {} <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3C'a%3E(x%3A%20fn(%26'a%20u32))%20%7B%7D%20%2F%2F%20ok!%0A%0Afn%20bar%3C'a%3E(x%3A%20%26Fn(%26'a%20u32))%20%7B%7D%20%2F%2F%20ok!%0A%0Afn%20baz%3C'a%3E(x%3A%20fn(%26'a%20u32)%2C%20y%3A%20%26'a%20u32)%20%7B%7D%20%2F%2F%20ok!%0A%0Astruct%20Foo%3C'a%3E%20%7B%20x%3A%20%26'a%20u32%20%7D%0A%0Aimpl%3C'a%3E%20Foo%3C'a%3E%20%7B%0A%20%20%20%20fn%20bar(%26self%2C%20x%3A%20fn(%26'a%20u32))%20%7B%7D%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0688" class="section-header"><a href="#E0688">E0688</a></h2>
<p>In-band lifetimes were mixed with explicit lifetime binders.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">in_band_lifetimes</span>)]</span>

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;b</span> <span class="ident">u32</span>) {}   <span class="comment">// error!</span>

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> { <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span> }

<span class="kw">impl</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="lifetime">&#39;b</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;b</span> <span class="ident">u32</span>, <span class="ident">z</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;c</span> <span class="ident">u32</span>) {}   <span class="comment">// error!</span>
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;b</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {  <span class="comment">// error!</span>
    <span class="kw">fn</span> <span class="ident">baz</span>() {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(in_band_lifetimes)%5D%0A%0Afn%20main()%20%7B%0Afn%20foo%3C'a%3E(x%3A%20%26'a%20u32%2C%20y%3A%20%26'b%20u32)%20%7B%7D%20%20%20%2F%2F%20error!%0A%0Astruct%20Foo%3C'a%3E%20%7B%20x%3A%20%26'a%20u32%20%7D%0A%0Aimpl%20Foo%3C'a%3E%20%7B%0A%20%20%20%20fn%20bar%3C'b%3E(x%3A%20%26'a%20u32%2C%20y%3A%20%26'b%20u32%2C%20z%3A%20%26'c%20u32)%20%7B%7D%20%20%20%2F%2F%20error!%0A%7D%0A%0Aimpl%3C'b%3E%20Foo%3C'a%3E%20%7B%20%20%2F%2F%20error!%0A%20%20%20%20fn%20baz()%20%7B%7D%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>In-band lifetimes cannot be mixed with explicit lifetime binders.
For example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;b</span> <span class="ident">u32</span>) {}   <span class="comment">// ok!</span>

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> { <span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span> }

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="lifetime">&#39;b</span>,<span class="lifetime">&#39;c</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;b</span> <span class="ident">u32</span>, <span class="ident">z</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;c</span> <span class="ident">u32</span>) {}    <span class="comment">// ok!</span>
}

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {  <span class="comment">// ok!</span>
    <span class="kw">fn</span> <span class="ident">baz</span>() {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3C'a%2C%20'b%3E(x%3A%20%26'a%20u32%2C%20y%3A%20%26'b%20u32)%20%7B%7D%20%20%20%2F%2F%20ok!%0A%0Astruct%20Foo%3C'a%3E%20%7B%20x%3A%20%26'a%20u32%20%7D%0A%0Aimpl%3C'a%3E%20Foo%3C'a%3E%20%7B%0A%20%20%20%20fn%20bar%3C'b%2C'c%3E(x%3A%20%26'a%20u32%2C%20y%3A%20%26'b%20u32%2C%20z%3A%20%26'c%20u32)%20%7B%7D%20%20%20%20%2F%2F%20ok!%0A%7D%0A%0Aimpl%3C'a%3E%20Foo%3C'a%3E%20%7B%20%20%2F%2F%20ok!%0A%20%20%20%20fn%20baz()%20%7B%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0689" class="section-header"><a href="#E0689">E0689</a></h2>
<p>A method was called on an ambiguous numeric type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="number">2.0</span>.<span class="ident">neg</span>(); <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A2.0.neg()%3B%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>This error indicates that the numeric value for the method being passed exists
but the type of the numeric value or binding could not be identified.</p>
<p>The error happens on numeric literals and on numeric bindings without an
identified concrete type:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">2.0</span>;
<span class="ident">x</span>.<span class="ident">neg</span>();  <span class="comment">// same error as above</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20x%20%3D%202.0%3B%0Ax.neg()%3B%20%20%2F%2F%20same%20error%20as%20above%0A%7D&amp;edition=2015">Run</a></div>
<p>Because of this, you must give the numeric literal or binding a type:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">ops</span>::<span class="ident">Neg</span>;

<span class="kw">let</span> <span class="kw">_</span> <span class="op">=</span> <span class="number">2.0_f32</span>.<span class="ident">neg</span>(); <span class="comment">// ok!</span>
<span class="kw">let</span> <span class="ident">x</span>: <span class="ident">f32</span> <span class="op">=</span> <span class="number">2.0</span>;
<span class="kw">let</span> <span class="kw">_</span> <span class="op">=</span> <span class="ident">x</span>.<span class="ident">neg</span>(); <span class="comment">// ok!</span>
<span class="kw">let</span> <span class="kw">_</span> <span class="op">=</span> (<span class="number">2.0</span> <span class="kw">as</span> <span class="ident">f32</span>).<span class="ident">neg</span>(); <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aops%3A%3ANeg%3B%0A%0Alet%20_%20%3D%202.0_f32.neg()%3B%20%2F%2F%20ok!%0Alet%20x%3A%20f32%20%3D%202.0%3B%0Alet%20_%20%3D%20x.neg()%3B%20%2F%2F%20ok!%0Alet%20_%20%3D%20(2.0%20as%20f32).neg()%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0690" class="section-header"><a href="#E0690">E0690</a></h2>
<p>A struct with the representation hint <code>repr(transparent)</code> had zero or more than
one fields that were not guaranteed to be zero-sized.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">transparent</span>)]</span>
<span class="kw">struct</span> <span class="ident">LengthWithUnit</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span> { <span class="comment">// error: transparent struct needs exactly one</span>
    <span class="ident">value</span>: <span class="ident">f32</span>,            <span class="comment">//        non-zero-sized field, but has 2</span>
    <span class="ident">unit</span>: <span class="ident">U</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(transparent)%5D%0Astruct%20LengthWithUnit%3CU%3E%20%7B%20%2F%2F%20error%3A%20transparent%20struct%20needs%20exactly%20one%0A%20%20%20%20value%3A%20f32%2C%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20non-zero-sized%20field%2C%20but%20has%202%0A%20%20%20%20unit%3A%20U%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Because transparent structs are represented exactly like one of their fields at
run time, said field must be uniquely determined. If there is no field, or if
there are multiple fields, it is not clear how the struct should be represented.
Note that fields of zero-sized types (e.g., <code>PhantomData</code>) can also exist
alongside the field that contains the actual data, they do not count for this
error. When generic types are involved (as in the above example), an error is
reported because the type parameter could be non-zero-sized.</p>
<p>To combine <code>repr(transparent)</code> with type parameters, <code>PhantomData</code> may be
useful:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">marker</span>::<span class="ident">PhantomData</span>;

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">transparent</span>)]</span>
<span class="kw">struct</span> <span class="ident">LengthWithUnit</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span> {
    <span class="ident">value</span>: <span class="ident">f32</span>,
    <span class="ident">unit</span>: <span class="ident">PhantomData</span><span class="op">&lt;</span><span class="ident">U</span><span class="op">&gt;</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Amarker%3A%3APhantomData%3B%0A%0A%23%5Brepr(transparent)%5D%0Astruct%20LengthWithUnit%3CU%3E%20%7B%0A%20%20%20%20value%3A%20f32%2C%0A%20%20%20%20unit%3A%20PhantomData%3CU%3E%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0691" class="section-header"><a href="#E0691">E0691</a></h2>
<p>A struct, enum, or union with the <code>repr(transparent)</code> representation hint
contains a zero-sized field that requires non-trivial alignment.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">repr_align</span>)]</span>

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">align</span>(<span class="number">32</span>))]</span>
<span class="kw">struct</span> <span class="ident">ForceAlign32</span>;

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">transparent</span>)]</span>
<span class="kw">struct</span> <span class="ident">Wrapper</span>(<span class="ident">f32</span>, <span class="ident">ForceAlign32</span>); <span class="comment">// error: zero-sized field in transparent</span>
                                   <span class="comment">//        struct has alignment larger than 1</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(repr_align)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brepr(align(32))%5D%0Astruct%20ForceAlign32%3B%0A%0A%23%5Brepr(transparent)%5D%0Astruct%20Wrapper(f32%2C%20ForceAlign32)%3B%20%2F%2F%20error%3A%20zero-sized%20field%20in%20transparent%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20struct%20has%20alignment%20larger%20than%201%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>A transparent struct, enum, or union is supposed to be represented exactly like
the piece of data it contains. Zero-sized fields with different alignment
requirements potentially conflict with this property. In the example above,
<code>Wrapper</code> would have to be aligned to 32 bytes even though <code>f32</code> has a smaller
alignment requirement.</p>
<p>Consider removing the over-aligned zero-sized field:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">transparent</span>)]</span>
<span class="kw">struct</span> <span class="ident">Wrapper</span>(<span class="ident">f32</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(transparent)%5D%0Astruct%20Wrapper(f32)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Alternatively, <code>PhantomData&lt;T&gt;</code> has alignment 1 for all <code>T</code>, so you can use it
if you need to keep the field for some reason:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">repr_align</span>)]</span>

<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">marker</span>::<span class="ident">PhantomData</span>;

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">align</span>(<span class="number">32</span>))]</span>
<span class="kw">struct</span> <span class="ident">ForceAlign32</span>;

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">transparent</span>)]</span>
<span class="kw">struct</span> <span class="ident">Wrapper</span>(<span class="ident">f32</span>, <span class="ident">PhantomData</span><span class="op">&lt;</span><span class="ident">ForceAlign32</span><span class="op">&gt;</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(repr_align)%5D%0A%0Afn%20main()%20%7B%0Ause%20std%3A%3Amarker%3A%3APhantomData%3B%0A%0A%23%5Brepr(align(32))%5D%0Astruct%20ForceAlign32%3B%0A%0A%23%5Brepr(transparent)%5D%0Astruct%20Wrapper(f32%2C%20PhantomData%3CForceAlign32%3E)%3B%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Note that empty arrays <code>[T; 0]</code> have the same alignment requirement as the
element type <code>T</code>. Also note that the error is conservatively reported even when
the alignment of the zero-sized type is less than or equal to the data field’s
alignment.</p>
</div>
<div class="error-described"><h2 id="E0692" class="section-header"><a href="#E0692">E0692</a></h2>
<p>A <code>repr(transparent)</code> type was also annotated with other, incompatible
representation hints.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">transparent</span>, <span class="ident">C</span>)]</span> <span class="comment">// error: incompatible representation hints</span>
<span class="kw">struct</span> <span class="ident">Grams</span>(<span class="ident">f32</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(transparent%2C%20C)%5D%20%2F%2F%20error%3A%20incompatible%20representation%20hints%0Astruct%20Grams(f32)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>A type annotated as <code>repr(transparent)</code> delegates all representation concerns to
another type, so adding more representation hints is contradictory. Remove
either the <code>transparent</code> hint or the other hints, like this:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">transparent</span>)]</span>
<span class="kw">struct</span> <span class="ident">Grams</span>(<span class="ident">f32</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(transparent)%5D%0Astruct%20Grams(f32)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Alternatively, move the other attributes to the contained type:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">C</span>)]</span>
<span class="kw">struct</span> <span class="ident">Foo</span> {
    <span class="ident">x</span>: <span class="ident">i32</span>,
    <span class="comment">// ...</span>
}

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">transparent</span>)]</span>
<span class="kw">struct</span> <span class="ident">FooWrapper</span>(<span class="ident">Foo</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(C)%5D%0Astruct%20Foo%20%7B%0A%20%20%20%20x%3A%20i32%2C%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%0A%23%5Brepr(transparent)%5D%0Astruct%20FooWrapper(Foo)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Note that introducing another <code>struct</code> just to have a place for the other
attributes may have unintended side effects on the representation:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">transparent</span>)]</span>
<span class="kw">struct</span> <span class="ident">Grams</span>(<span class="ident">f32</span>);

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">C</span>)]</span>
<span class="kw">struct</span> <span class="ident">Float</span>(<span class="ident">f32</span>);

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">transparent</span>)]</span>
<span class="kw">struct</span> <span class="ident">Grams2</span>(<span class="ident">Float</span>); <span class="comment">// this is not equivalent to `Grams` above</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(transparent)%5D%0Astruct%20Grams(f32)%3B%0A%0A%23%5Brepr(C)%5D%0Astruct%20Float(f32)%3B%0A%0A%23%5Brepr(transparent)%5D%0Astruct%20Grams2(Float)%3B%20%2F%2F%20this%20is%20not%20equivalent%20to%20%60Grams%60%20above%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, <code>Grams2</code> is a not equivalent to <code>Grams</code> – the former transparently wraps
a (non-transparent) struct containing a single float, while <code>Grams</code> is a
transparent wrapper around a float. This can make a difference for the ABI.</p>
</div>
<div class="error-described"><h2 id="E0693" class="section-header"><a href="#E0693">E0693</a></h2>
<p><code>align</code> representation hint was incorrectly declared.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">align</span><span class="op">=</span><span class="number">8</span>)]</span> <span class="comment">// error!</span>
<span class="kw">struct</span> <span class="ident">Align8</span>(<span class="ident">i8</span>);

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">align</span><span class="op">=</span><span class="string">&quot;8&quot;</span>)]</span> <span class="comment">// error!</span>
<span class="kw">struct</span> <span class="ident">Align8</span>(<span class="ident">i8</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(align%3D8)%5D%20%2F%2F%20error!%0Astruct%20Align8(i8)%3B%0A%0A%23%5Brepr(align%3D%228%22)%5D%20%2F%2F%20error!%0Astruct%20Align8(i8)%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>This is a syntax error at the level of attribute declarations. The proper
syntax for <code>align</code> representation hint is the following:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">align</span>(<span class="number">8</span>))]</span> <span class="comment">// ok!</span>
<span class="kw">struct</span> <span class="ident">Align8</span>(<span class="ident">i8</span>);</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(align(8))%5D%20%2F%2F%20ok!%0Astruct%20Align8(i8)%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0695" class="section-header"><a href="#E0695">E0695</a></h2>
<p>A <code>break</code> statement without a label appeared inside a labeled block.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">loop</span> {
    <span class="lifetime">&#39;a</span>: {
        <span class="kw">break</span>;
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(label_break_value)%5D%0Afn%20main()%20%7B%0Aloop%20%7B%0A%20%20%20%20'a%3A%20%7B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Make sure to always label the <code>break</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="lifetime">&#39;l</span>: <span class="kw">loop</span> {
    <span class="lifetime">&#39;a</span>: {
        <span class="kw">break</span> <span class="lifetime">&#39;l</span>;
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(label_break_value)%5D%0Afn%20main()%20%7B%0A'l%3A%20loop%20%7B%0A%20%20%20%20'a%3A%20%7B%0A%20%20%20%20%20%20%20%20break%20'l%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Or if you want to <code>break</code> the labeled block:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">loop</span> {
    <span class="lifetime">&#39;a</span>: {
        <span class="kw">break</span> <span class="lifetime">&#39;a</span>;
    }
    <span class="kw">break</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(label_break_value)%5D%0Afn%20main()%20%7B%0Aloop%20%7B%0A%20%20%20%20'a%3A%20%7B%0A%20%20%20%20%20%20%20%20break%20'a%3B%0A%20%20%20%20%7D%0A%20%20%20%20break%3B%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0696" class="section-header"><a href="#E0696">E0696</a></h2>
<p>A function is using <code>continue</code> keyword incorrectly.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">continue_simple</span>() {
    <span class="lifetime">&#39;b</span>: {
        <span class="kw">continue</span>; <span class="comment">// error!</span>
    }
}
<span class="kw">fn</span> <span class="ident">continue_labeled</span>() {
    <span class="lifetime">&#39;b</span>: {
        <span class="kw">continue</span> <span class="lifetime">&#39;b</span>; <span class="comment">// error!</span>
    }
}
<span class="kw">fn</span> <span class="ident">continue_crossing</span>() {
    <span class="kw">loop</span> {
        <span class="lifetime">&#39;b</span>: {
            <span class="kw">continue</span>; <span class="comment">// error!</span>
        }
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20continue_simple()%20%7B%0A%20%20%20%20'b%3A%20%7B%0A%20%20%20%20%20%20%20%20continue%3B%20%2F%2F%20error!%0A%20%20%20%20%7D%0A%7D%0Afn%20continue_labeled()%20%7B%0A%20%20%20%20'b%3A%20%7B%0A%20%20%20%20%20%20%20%20continue%20'b%3B%20%2F%2F%20error!%0A%20%20%20%20%7D%0A%7D%0Afn%20continue_crossing()%20%7B%0A%20%20%20%20loop%20%7B%0A%20%20%20%20%20%20%20%20'b%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%20%2F%2F%20error!%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Here we have used the <code>continue</code> keyword incorrectly. As we
have seen above that <code>continue</code> pointing to a labeled block.</p>
<p>To fix this we have to use the labeled block properly.
For example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">continue_simple</span>() {
    <span class="lifetime">&#39;b</span>: <span class="kw">loop</span> {
        <span class="kw">continue</span> ; <span class="comment">// ok!</span>
    }
}
<span class="kw">fn</span> <span class="ident">continue_labeled</span>() {
    <span class="lifetime">&#39;b</span>: <span class="kw">loop</span> {
        <span class="kw">continue</span> <span class="lifetime">&#39;b</span>; <span class="comment">// ok!</span>
    }
}
<span class="kw">fn</span> <span class="ident">continue_crossing</span>() {
    <span class="kw">loop</span> {
        <span class="lifetime">&#39;b</span>: <span class="kw">loop</span> {
            <span class="kw">continue</span>; <span class="comment">// ok!</span>
        }
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20continue_simple()%20%7B%0A%20%20%20%20'b%3A%20loop%20%7B%0A%20%20%20%20%20%20%20%20continue%20%3B%20%2F%2F%20ok!%0A%20%20%20%20%7D%0A%7D%0Afn%20continue_labeled()%20%7B%0A%20%20%20%20'b%3A%20loop%20%7B%0A%20%20%20%20%20%20%20%20continue%20'b%3B%20%2F%2F%20ok!%0A%20%20%20%20%7D%0A%7D%0Afn%20continue_crossing()%20%7B%0A%20%20%20%20loop%20%7B%0A%20%20%20%20%20%20%20%20'b%3A%20loop%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0697" class="section-header"><a href="#E0697">E0697</a></h2>
<p>A closure has been used as <code>static</code>.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">static</span> <span class="op">|</span><span class="op">|</span> {}; <span class="comment">// used as `static`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%20%20%20%20static%20%7C%7C%20%7B%7D%3B%20%2F%2F%20used%20as%20%60static%60%0A%7D&amp;edition=2015">Run</a></div>
<p>Closures cannot be used as <code>static</code>. They “save” the environment,
and as such a static closure would save only a static environment
which would consist only of variables with a static lifetime. Given
this it would be better to use a proper function. The easiest fix
is to remove the <code>static</code> keyword.</p>
</div>
<div class="error-described"><h2 id="E0698" class="section-header"><a href="#E0698">E0698</a></h2>
<p>When using generators (or async) all type variables must be bound so a
generator can be constructed.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">async</span> <span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>() <span class="op">-</span><span class="op">&gt;</span> () {}

<span class="kw">async</span> <span class="kw">fn</span> <span class="ident">foo</span>() {
    <span class="ident">bar</span>().<span class="kw">await</span>; <span class="comment">// error: cannot infer type for `T`</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aasync%20fn%20bar%3CT%3E()%20-%3E%20()%20%7B%7D%0A%0Aasync%20fn%20foo()%20%7B%0A%20%20%20%20bar().await%3B%20%2F%2F%20error%3A%20cannot%20infer%20type%20for%20%60T%60%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
<p>In the above example <code>T</code> is unknowable by the compiler.
To fix this you must bind <code>T</code> to a concrete type such as <code>String</code>
so that a generator can then be constructed:</p>

<div class='information'><div class='tooltip edition' data-edition="2018">ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered edition">
<span class="kw">async</span> <span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span>() <span class="op">-</span><span class="op">&gt;</span> () {}

<span class="kw">async</span> <span class="kw">fn</span> <span class="ident">foo</span>() {
    <span class="ident">bar</span>::<span class="op">&lt;</span><span class="ident">String</span><span class="op">&gt;</span>().<span class="kw">await</span>;
    <span class="comment">//   ^^^^^^^^ specify type explicitly</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aasync%20fn%20bar%3CT%3E()%20-%3E%20()%20%7B%7D%0A%0Aasync%20fn%20foo()%20%7B%0A%20%20%20%20bar%3A%3A%3CString%3E().await%3B%0A%20%20%20%20%2F%2F%20%20%20%5E%5E%5E%5E%5E%5E%5E%5E%20specify%20type%20explicitly%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
</div>
<div class="error-described"><h2 id="E0699" class="section-header"><a href="#E0699">E0699</a></h2>
<p>A method was called on a raw pointer whose inner type wasn’t completely known.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">foo</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="number">1</span>;
<span class="kw">let</span> <span class="ident">bar</span> <span class="op">=</span> <span class="ident">foo</span> <span class="kw">as</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="kw">_</span>;
<span class="kw">if</span> <span class="ident">bar</span>.<span class="ident">is_null</span>() {
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bdeny(warnings)%5D%0Afn%20main()%20%7B%0Alet%20foo%20%3D%20%261%3B%0Alet%20bar%20%3D%20foo%20as%20*const%20_%3B%0Aif%20bar.is_null()%20%7B%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
<p>Here, the type of <code>bar</code> isn’t known; it could be a pointer to anything. Instead,
specify a type for the pointer (preferably something that makes sense for the
thing you’re pointing to):</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">foo</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="number">1</span>;
<span class="kw">let</span> <span class="ident">bar</span> <span class="op">=</span> <span class="ident">foo</span> <span class="kw">as</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">i32</span>;
<span class="kw">if</span> <span class="ident">bar</span>.<span class="ident">is_null</span>() {
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20foo%20%3D%20%261%3B%0Alet%20bar%20%3D%20foo%20as%20*const%20i32%3B%0Aif%20bar.is_null()%20%7B%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Even though <code>is_null()</code> exists as a method on any raw pointer, Rust shows this
error because  Rust allows for <code>self</code> to have arbitrary types (behind the
arbitrary_self_types feature flag).</p>
<p>This means that someone can specify such a function:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="kw">impl</span> <span class="ident">Foo</span> {
    <span class="kw">fn</span> <span class="ident">is_null</span>(<span class="self">self</span>: <span class="kw-2">*</span><span class="kw">const</span> <span class="self">Self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span> {
        <span class="comment">// do something else</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aimpl%20Foo%20%7B%0A%20%20%20%20fn%20is_null(self%3A%20*const%20Self)%20-%3E%20bool%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20do%20something%20else%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>and now when you call <code>.is_null()</code> on a raw pointer to <code>Foo</code>, there’s ambiguity.</p>
<p>Given that we don’t know what type the pointer is, and there’s potential
ambiguity for some types, we disallow calling methods on raw pointers when
the type is unknown.</p>
</div>
<div class="error-described"><h2 id="E0700" class="section-header"><a href="#E0700">E0700</a></h2>
<p>The <code>impl Trait</code> return type captures lifetime parameters that do not
appear within the <code>impl Trait</code> itself.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">cell</span>::<span class="ident">Cell</span>;

<span class="kw">trait</span> <span class="ident">Trait</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> { }

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="lifetime">&#39;b</span><span class="op">&gt;</span> <span class="ident">Trait</span><span class="op">&lt;</span><span class="lifetime">&#39;b</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Cell</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span><span class="op">&gt;</span> { }

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;x</span>, <span class="lifetime">&#39;y</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">Cell</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="lifetime">&#39;x</span> <span class="ident">u32</span><span class="op">&gt;</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw">impl</span> <span class="ident">Trait</span><span class="op">&lt;</span><span class="lifetime">&#39;y</span><span class="op">&gt;</span>
<span class="kw">where</span> <span class="lifetime">&#39;x</span>: <span class="lifetime">&#39;y</span>
{
    <span class="ident">x</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Acell%3A%3ACell%3B%0A%0Atrait%20Trait%3C'a%3E%20%7B%20%7D%0A%0Aimpl%3C'a%2C%20'b%3E%20Trait%3C'b%3E%20for%20Cell%3C%26'a%20u32%3E%20%7B%20%7D%0A%0Afn%20foo%3C'x%2C%20'y%3E(x%3A%20Cell%3C%26'x%20u32%3E)%20-%3E%20impl%20Trait%3C'y%3E%0Awhere%20'x%3A%20'y%0A%7B%0A%20%20%20%20x%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, the function <code>foo</code> returns a value of type <code>Cell&lt;&amp;'x u32&gt;</code>,
which references the lifetime <code>'x</code>. However, the return type is
declared as <code>impl Trait&lt;'y&gt;</code> – this indicates that <code>foo</code> returns
“some type that implements <code>Trait&lt;'y&gt;</code>”, but it also indicates that
the return type <strong>only captures data referencing the lifetime <code>'y</code></strong>.
In this case, though, we are referencing data with lifetime <code>'x</code>, so
this function is in error.</p>
<p>To fix this, you must reference the lifetime <code>'x</code> from the return
type. For example, changing the return type to <code>impl Trait&lt;'y&gt; + 'x</code>
would work:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">cell</span>::<span class="ident">Cell</span>;

<span class="kw">trait</span> <span class="ident">Trait</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> { }

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>,<span class="lifetime">&#39;b</span><span class="op">&gt;</span> <span class="ident">Trait</span><span class="op">&lt;</span><span class="lifetime">&#39;b</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="ident">Cell</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">u32</span><span class="op">&gt;</span> { }

<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;x</span>, <span class="lifetime">&#39;y</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="ident">Cell</span><span class="op">&lt;</span><span class="kw-2">&amp;</span><span class="lifetime">&#39;x</span> <span class="ident">u32</span><span class="op">&gt;</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw">impl</span> <span class="ident">Trait</span><span class="op">&lt;</span><span class="lifetime">&#39;y</span><span class="op">&gt;</span> <span class="op">+</span> <span class="lifetime">&#39;x</span>
<span class="kw">where</span> <span class="lifetime">&#39;x</span>: <span class="lifetime">&#39;y</span>
{
    <span class="ident">x</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Acell%3A%3ACell%3B%0A%0Atrait%20Trait%3C'a%3E%20%7B%20%7D%0A%0Aimpl%3C'a%2C'b%3E%20Trait%3C'b%3E%20for%20Cell%3C%26'a%20u32%3E%20%7B%20%7D%0A%0Afn%20foo%3C'x%2C%20'y%3E(x%3A%20Cell%3C%26'x%20u32%3E)%20-%3E%20impl%20Trait%3C'y%3E%20%2B%20'x%0Awhere%20'x%3A%20'y%0A%7B%0A%20%20%20%20x%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0701" class="section-header"><a href="#E0701">E0701</a></h2>
<p>This error indicates that a <code>#[non_exhaustive]</code> attribute was incorrectly placed
on something other than a struct or enum.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">non_exhaustive</span>]</span>
<span class="kw">trait</span> <span class="ident">Foo</span> { }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bnon_exhaustive%5D%0Atrait%20Foo%20%7B%20%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0703" class="section-header"><a href="#E0703">E0703</a></h2>
<p>Invalid ABI (Application Binary Interface) used in the code.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">extern</span> <span class="string">&quot;invalid&quot;</span> <span class="kw">fn</span> <span class="ident">foo</span>() {} <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aextern%20%22invalid%22%20fn%20foo()%20%7B%7D%20%2F%2F%20error!%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>At present few predefined ABI’s (like Rust, C, system, etc.) can be
used in Rust. Verify that the ABI is predefined. For example you can
replace the given ABI from ‘Rust’.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">extern</span> <span class="string">&quot;Rust&quot;</span> <span class="kw">fn</span> <span class="ident">foo</span>() {} <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aextern%20%22Rust%22%20fn%20foo()%20%7B%7D%20%2F%2F%20ok!%0Afn%20main()%20%7B%20%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0704" class="section-header"><a href="#E0704">E0704</a></h2>
<p>An incorrect visibility restriction was specified.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">pub</span>(<span class="ident">foo</span>) <span class="kw">struct</span> <span class="ident">Bar</span> {
        <span class="ident">x</span>: <span class="ident">i32</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Amod%20foo%20%7B%0A%20%20%20%20pub(foo)%20struct%20Bar%20%7B%0A%20%20%20%20%20%20%20%20x%3A%20i32%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To make struct <code>Bar</code> only visible in module <code>foo</code> the <code>in</code> keyword should be
used:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">mod</span> <span class="ident">foo</span> {
    <span class="kw">pub</span>(<span class="kw">in</span> <span class="kw">crate</span>::<span class="ident">foo</span>) <span class="kw">struct</span> <span class="ident">Bar</span> {
        <span class="ident">x</span>: <span class="ident">i32</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Amod%20foo%20%7B%0A%20%20%20%20pub(in%20crate%3A%3Afoo)%20struct%20Bar%20%7B%0A%20%20%20%20%20%20%20%20x%3A%20i32%0A%20%20%20%20%7D%0A%7D%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>For more information see the Rust Reference on <a href="https://doc.rust-lang.org/reference/visibility-and-privacy.html">Visibility</a>.</p>
</div>
<div class="error-described"><h2 id="E0705" class="section-header"><a href="#E0705">E0705</a></h2>
<p>A <code>#![feature]</code> attribute was declared for a feature that is stable in the
current edition, but not in all editions.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">rust_2018_preview</span>)]</span>
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">test_2018_feature</span>)]</span> <span class="comment">// error: the feature</span>
                               <span class="comment">// `test_2018_feature` is</span>
                               <span class="comment">// included in the Rust 2018 edition</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(rust_2018_preview)%5D%0A%23!%5Bfeature(test_2018_feature)%5D%20%2F%2F%20error%3A%20the%20feature%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%60test_2018_feature%60%20is%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20included%20in%20the%20Rust%202018%20edition%0Afn%20main()%20%7B%0A%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0706" class="section-header"><a href="#E0706">E0706</a></h2>
<p><code>async fn</code>s are not yet supported in traits in Rust.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">T</span> {
    <span class="comment">// Neither case is currently supported.</span>
    <span class="kw">async</span> <span class="kw">fn</span> <span class="ident">foo</span>() {}
    <span class="kw">async</span> <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20T%20%7B%0A%20%20%20%20%2F%2F%20Neither%20case%20is%20currently%20supported.%0A%20%20%20%20async%20fn%20foo()%20%7B%7D%0A%20%20%20%20async%20fn%20bar(%26self)%20%7B%7D%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
<p><code>async fn</code>s return an <code>impl Future</code>, making the following two examples
equivalent:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="kw">async</span> <span class="kw">fn</span> <span class="ident">foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">User</span> {
    <span class="macro">unimplemented</span><span class="macro">!</span>()
}
<span class="comment">// The async fn above gets desugared as follows:</span>
<span class="kw">fn</span> <span class="ident">foo</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw">impl</span> <span class="ident">Future</span><span class="op">&lt;</span><span class="ident">Output</span> <span class="op">=</span> <span class="ident">User</span><span class="op">&gt;</span> <span class="op">+</span> <span class="lifetime">&#39;_</span> {
    <span class="macro">unimplemented</span><span class="macro">!</span>()
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aasync%20fn%20foo()%20-%3E%20User%20%7B%0A%20%20%20%20unimplemented!()%0A%7D%0A%2F%2F%20The%20async%20fn%20above%20gets%20desugared%20as%20follows%3A%0Afn%20foo(%26self)%20-%3E%20impl%20Future%3COutput%20%3D%20User%3E%20%2B%20'_%20%7B%0A%20%20%20%20unimplemented!()%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
<p>But when it comes to supporting this in traits, there are <a href="https://smallcultfollowing.com/babysteps/blog/2019/10/26/async-fn-in-traits-are-hard/">a few implementation
issues</a>. One of them is returning <code>impl Trait</code> in traits is not
supported, as it would require <a href="https://github.com/rust-lang/rust/issues/44265">Generic Associated Types</a> to be supported:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="kw">impl</span> <span class="ident">MyDatabase</span> {
    <span class="kw">async</span> <span class="kw">fn</span> <span class="ident">get_user</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">User</span> {
        <span class="macro">unimplemented</span><span class="macro">!</span>()
    }
}

<span class="kw">impl</span> <span class="ident">MyDatabase</span> {
    <span class="kw">fn</span> <span class="ident">get_user</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw">impl</span> <span class="ident">Future</span><span class="op">&lt;</span><span class="ident">Output</span> <span class="op">=</span> <span class="ident">User</span><span class="op">&gt;</span> <span class="op">+</span> <span class="lifetime">&#39;_</span> {
        <span class="macro">unimplemented</span><span class="macro">!</span>()
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aimpl%20MyDatabase%20%7B%0A%20%20%20%20async%20fn%20get_user(%26self)%20-%3E%20User%20%7B%0A%20%20%20%20%20%20%20%20unimplemented!()%0A%20%20%20%20%7D%0A%7D%0A%0Aimpl%20MyDatabase%20%7B%0A%20%20%20%20fn%20get_user(%26self)%20-%3E%20impl%20Future%3COutput%20%3D%20User%3E%20%2B%20'_%20%7B%0A%20%20%20%20%20%20%20%20unimplemented!()%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
<p>Until these issues are resolved, you can use the <a href="https://crates.io/crates/async-trait"><code>async-trait</code> crate</a>, allowing
you to use <code>async fn</code> in traits by desugaring to “boxed futures”
(<code>Pin&lt;Box&lt;dyn Future + Send + 'async&gt;&gt;</code>).</p>
<p>Note that using these trait methods will result in a heap allocation
per-function-call. This is not a significant cost for the vast majority of
applications, but should be considered when deciding whether to use this
functionality in the public API of a low-level function that is expected to be
called millions of times a second.</p>
<p>You might be interested in visiting the <a href="https://rust-lang.github.io/async-book/07_workarounds/06_async_in_traits.html">async book</a> for further information.</p>
</div>
<div class="error-described"><h2 id="E0708" class="section-header"><a href="#E0708">E0708</a></h2>
<p><code>async</code> non-<code>move</code> closures with parameters are currently not supported.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">async_closure</span>)]</span>

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">add_one</span> <span class="op">=</span> <span class="kw">async</span> <span class="op">|</span><span class="ident">num</span>: <span class="ident">u8</span><span class="op">|</span> { <span class="comment">// error!</span>
        <span class="ident">num</span> <span class="op">+</span> <span class="number">1</span>
    };
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(async_closure)%5D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20add_one%20%3D%20async%20%7Cnum%3A%20u8%7C%20%7B%20%2F%2F%20error!%0A%20%20%20%20%20%20%20%20num%20%2B%201%0A%20%20%20%20%7D%3B%0A%7D&amp;version=nightly&amp;edition=2018">Run</a></div>
<p><code>async</code> with non-move is currently not supported with the current
version, you can use successfully by using move:</p>

<div class='information'><div class='tooltip edition' data-edition="2018">ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered edition">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">async_closure</span>)]</span>

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">add_one</span> <span class="op">=</span> <span class="kw">async</span> <span class="kw">move</span> <span class="op">|</span><span class="ident">num</span>: <span class="ident">u8</span><span class="op">|</span> { <span class="comment">// ok!</span>
        <span class="ident">num</span> <span class="op">+</span> <span class="number">1</span>
    };
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(async_closure)%5D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20add_one%20%3D%20async%20move%20%7Cnum%3A%20u8%7C%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20num%20%2B%201%0A%20%20%20%20%7D%3B%0A%7D&amp;version=nightly&amp;edition=2018">Run</a></div>
</div>
<div class="error-described"><h2 id="E0710" class="section-header"><a href="#E0710">E0710</a></h2>
<p>An unknown tool name was found in a scoped lint.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">allow</span>(<span class="ident">clipp</span>::<span class="ident">filter_map</span>)]</span> <span class="comment">// error!`</span>
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// business logic</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Ballow(clipp%3A%3Afilter_map)%5D%20%2F%2F%20error!%60%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20business%20logic%0A%7D&amp;edition=2015">Run</a></div>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">warn</span>(<span class="ident">clipp</span>::<span class="ident">filter_map</span>)]</span> <span class="comment">// error!`</span>
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// business logic</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Bwarn(clipp%3A%3Afilter_map)%5D%20%2F%2F%20error!%60%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20business%20logic%0A%7D&amp;edition=2015">Run</a></div>
<p>Please verify you didn’t misspell the tool’s name or that you didn’t
forget to import it in you project:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">allow</span>(<span class="ident">clippy</span>::<span class="ident">filter_map</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// business logic</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Ballow(clippy%3A%3Afilter_map)%5D%20%2F%2F%20ok!%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20business%20logic%0A%7D&amp;edition=2015">Run</a></div>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">warn</span>(<span class="ident">clippy</span>::<span class="ident">filter_map</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="comment">// business logic</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23%5Bwarn(clippy%3A%3Afilter_map)%5D%20%2F%2F%20ok!%0Afn%20main()%20%7B%0A%20%20%20%20%2F%2F%20business%20logic%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-undescribed"><h2 id="E0711" class="section-header"><a href="#E0711">E0711</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0712" class="section-header"><a href="#E0712">E0712</a></h2>
<p>A borrow of a thread-local variable was made inside a function which outlived
the lifetime of the function.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">thread_local</span>)]</span>

<span class="attribute">#[<span class="ident">thread_local</span>]</span>
<span class="kw">static</span> <span class="ident">FOO</span>: <span class="ident">u8</span> <span class="op">=</span> <span class="number">3</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">a</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">FOO</span>; <span class="comment">// error: thread-local variable borrowed past end of function</span>

    <span class="ident">std</span>::<span class="ident">thread</span>::<span class="ident">spawn</span>(<span class="kw">move</span> <span class="op">|</span><span class="op">|</span> {
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">a</span>);
    });
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(thread_local)%5D%0A%0A%23%5Bthread_local%5D%0Astatic%20FOO%3A%20u8%20%3D%203%3B%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20a%20%3D%20%26FOO%3B%20%2F%2F%20error%3A%20thread-local%20variable%20borrowed%20past%20end%20of%20function%0A%0A%20%20%20%20std%3A%3Athread%3A%3Aspawn(move%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20println!(%22%7B%7D%22%2C%20a)%3B%0A%20%20%20%20%7D)%3B%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0713" class="section-header"><a href="#E0713">E0713</a></h2>
<p>This error occurs when an attempt is made to borrow state past the end of the
lifetime of a type that implements the <code>Drop</code> trait.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">nll</span>)]</span>

<span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">S</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> { <span class="ident">data</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="kw-2">mut</span> <span class="ident">String</span> }

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">S</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) { <span class="self">self</span>.<span class="ident">data</span>.<span class="ident">push_str</span>(<span class="string">&quot;being dropped&quot;</span>); }
}

<span class="kw">fn</span> <span class="ident">demo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">s</span>: <span class="ident">S</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="kw-2">mut</span> <span class="ident">String</span> { <span class="kw">let</span> <span class="ident">p</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="kw-2">*</span><span class="ident">s</span>.<span class="ident">data</span>; <span class="ident">p</span> }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(nll)%5D%0A%0Afn%20main()%20%7B%0Apub%20struct%20S%3C'a%3E%20%7B%20data%3A%20%26'a%20mut%20String%20%7D%0A%0Aimpl%3C'a%3E%20Drop%20for%20S%3C'a%3E%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%20self.data.push_str(%22being%20dropped%22)%3B%20%7D%0A%7D%0A%0Afn%20demo%3C'a%3E(s%3A%20S%3C'a%3E)%20-%3E%20%26'a%20mut%20String%20%7B%20let%20p%20%3D%20%26mut%20*s.data%3B%20p%20%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Here, <code>demo</code> tries to borrow the string data held within its
argument <code>s</code> and then return that borrow. However, <code>S</code> is
declared as implementing <code>Drop</code>.</p>
<p>Structs implementing the <code>Drop</code> trait have an implicit destructor that
gets called when they go out of scope. This destructor gets exclusive
access to the fields of the struct when it runs.</p>
<p>This means that when <code>s</code> reaches the end of <code>demo</code>, its destructor
gets exclusive access to its <code>&amp;mut</code>-borrowed string data.  allowing
another borrow of that string data (<code>p</code>), to exist across the drop of
<code>s</code> would be a violation of the principle that <code>&amp;mut</code>-borrows have
exclusive, unaliased access to their referenced data.</p>
<p>This error can be fixed by changing <code>demo</code> so that the destructor does
not run while the string-data is borrowed; for example by taking <code>S</code>
by reference:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">pub</span> <span class="kw">struct</span> <span class="ident">S</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> { <span class="ident">data</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="kw-2">mut</span> <span class="ident">String</span> }

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">S</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) { <span class="self">self</span>.<span class="ident">data</span>.<span class="ident">push_str</span>(<span class="string">&quot;being dropped&quot;</span>); }
}

<span class="kw">fn</span> <span class="ident">demo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">s</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="kw-2">mut</span> <span class="ident">S</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="kw-2">mut</span> <span class="ident">String</span> { <span class="kw">let</span> <span class="ident">p</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="kw-2">*</span>(<span class="kw-2">*</span><span class="ident">s</span>).<span class="ident">data</span>; <span class="ident">p</span> }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Apub%20struct%20S%3C'a%3E%20%7B%20data%3A%20%26'a%20mut%20String%20%7D%0A%0Aimpl%3C'a%3E%20Drop%20for%20S%3C'a%3E%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%20self.data.push_str(%22being%20dropped%22)%3B%20%7D%0A%7D%0A%0Afn%20demo%3C'a%3E(s%3A%20%26'a%20mut%20S%3C'a%3E)%20-%3E%20%26'a%20mut%20String%20%7B%20let%20p%20%3D%20%26mut%20*(*s).data%3B%20p%20%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Note that this approach needs a reference to S with lifetime <code>'a</code>.
Nothing shorter than <code>'a</code> will suffice: a shorter lifetime would imply
that after <code>demo</code> finishes executing, something else (such as the
destructor!) could access <code>s.data</code> after the end of that shorter
lifetime, which would again violate the <code>&amp;mut</code>-borrow’s exclusive
access.</p>
</div>
<div class="error-described"><h2 id="E0714" class="section-header"><a href="#E0714">E0714</a></h2>
<p>A <code>#[marker]</code> trait contained an associated item.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">marker_trait_attr</span>)]</span>
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">associated_type_defaults</span>)]</span>

<span class="attribute">#[<span class="ident">marker</span>]</span>
<span class="kw">trait</span> <span class="ident">MarkerConst</span> {
    <span class="kw">const</span> <span class="ident">N</span>: <span class="ident">usize</span>; <span class="comment">// error!</span>
}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(marker_trait_attr)%5D%0A%23!%5Bfeature(associated_type_defaults)%5D%0A%0A%23%5Bmarker%5D%0Atrait%20MarkerConst%20%7B%0A%20%20%20%20const%20N%3A%20usize%3B%20%2F%2F%20error!%0A%7D%0A%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>The items of marker traits cannot be overridden, so there’s no need to have them
when they cannot be changed per-type anyway.  If you wanted them for ergonomic
reasons, consider making an extension trait instead.</p>
</div>
<div class="error-described"><h2 id="E0715" class="section-header"><a href="#E0715">E0715</a></h2>
<p>An <code>impl</code> for a <code>#[marker]</code> trait tried to override an associated item.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">marker_trait_attr</span>)]</span>

<span class="attribute">#[<span class="ident">marker</span>]</span>
<span class="kw">trait</span> <span class="ident">Marker</span> {
    <span class="kw">const</span> <span class="ident">N</span>: <span class="ident">usize</span> <span class="op">=</span> <span class="number">0</span>;
    <span class="kw">fn</span> <span class="ident">do_something</span>() {}
}

<span class="kw">struct</span> <span class="ident">OverrideConst</span>;
<span class="kw">impl</span> <span class="ident">Marker</span> <span class="kw">for</span> <span class="ident">OverrideConst</span> { <span class="comment">// error!</span>
    <span class="kw">const</span> <span class="ident">N</span>: <span class="ident">usize</span> <span class="op">=</span> <span class="number">1</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(marker_trait_attr)%5D%0A%0A%23%5Bmarker%5D%0Atrait%20Marker%20%7B%0A%20%20%20%20const%20N%3A%20usize%20%3D%200%3B%0A%20%20%20%20fn%20do_something()%20%7B%7D%0A%7D%0A%0Astruct%20OverrideConst%3B%0Aimpl%20Marker%20for%20OverrideConst%20%7B%20%2F%2F%20error!%0A%20%20%20%20const%20N%3A%20usize%20%3D%201%3B%0A%7D%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Because marker traits are allowed to have multiple implementations for the same
type, it’s not allowed to override anything in those implementations, as it
would be ambiguous which override should actually be used.</p>
</div>
<div class="error-described"><h2 id="E0716" class="section-header"><a href="#E0716">E0716</a></h2>
<p>A temporary value is being dropped while a borrow is still in active use.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i32</span> { <span class="number">22</span> }
<span class="kw">fn</span> <span class="ident">bar</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="ident">i32</span> { <span class="ident">x</span> }
<span class="kw">let</span> <span class="ident">p</span> <span class="op">=</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="ident">foo</span>());
         <span class="comment">// ------ creates a temporary</span>
<span class="kw">let</span> <span class="ident">q</span> <span class="op">=</span> <span class="kw-2">*</span><span class="ident">p</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo()%20-%3E%20i32%20%7B%2022%20%7D%0Afn%20bar(x%3A%20%26i32)%20-%3E%20%26i32%20%7B%20x%20%7D%0Alet%20p%20%3D%20bar(%26foo())%3B%0A%20%20%20%20%20%20%20%20%20%2F%2F%20------%20creates%20a%20temporary%0Alet%20q%20%3D%20*p%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, the expression <code>&amp;foo()</code> is borrowing the expression <code>foo()</code>. As <code>foo()</code> is
a call to a function, and not the name of a variable, this creates a
<strong>temporary</strong> – that temporary stores the return value from <code>foo()</code> so that it
can be borrowed. You could imagine that <code>let p = bar(&amp;foo());</code> is equivalent to
this:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">p</span> <span class="op">=</span> {
  <span class="kw">let</span> <span class="ident">tmp</span> <span class="op">=</span> <span class="ident">foo</span>(); <span class="comment">// the temporary</span>
  <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="ident">tmp</span>)
}; <span class="comment">// &lt;-- tmp is freed as we exit this block</span>
<span class="kw">let</span> <span class="ident">q</span> <span class="op">=</span> <span class="ident">p</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo()%20-%3E%20i32%20%7B%2022%20%7D%0Afn%20bar(x%3A%20%26i32)%20-%3E%20%26i32%20%7B%20x%20%7D%0Alet%20p%20%3D%20%7B%0A%20%20let%20tmp%20%3D%20foo()%3B%20%2F%2F%20the%20temporary%0A%20%20bar(%26tmp)%0A%7D%3B%20%2F%2F%20%3C--%20tmp%20is%20freed%20as%20we%20exit%20this%20block%0Alet%20q%20%3D%20p%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Whenever a temporary is created, it is automatically dropped (freed) according
to fixed rules. Ordinarily, the temporary is dropped at the end of the enclosing
statement – in this case, after the <code>let</code>. This is illustrated in the example
above by showing that <code>tmp</code> would be freed as we exit the block.</p>
<p>To fix this problem, you need to create a local variable to store the value in
rather than relying on a temporary. For example, you might change the original
program to the following:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i32</span> { <span class="number">22</span> }
<span class="kw">fn</span> <span class="ident">bar</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="ident">i32</span> { <span class="ident">x</span> }
<span class="kw">let</span> <span class="ident">value</span> <span class="op">=</span> <span class="ident">foo</span>(); <span class="comment">// dropped at the end of the enclosing block</span>
<span class="kw">let</span> <span class="ident">p</span> <span class="op">=</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="ident">value</span>);
<span class="kw">let</span> <span class="ident">q</span> <span class="op">=</span> <span class="kw-2">*</span><span class="ident">p</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo()%20-%3E%20i32%20%7B%2022%20%7D%0Afn%20bar(x%3A%20%26i32)%20-%3E%20%26i32%20%7B%20x%20%7D%0Alet%20value%20%3D%20foo()%3B%20%2F%2F%20dropped%20at%20the%20end%20of%20the%20enclosing%20block%0Alet%20p%20%3D%20bar(%26value)%3B%0Alet%20q%20%3D%20*p%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>By introducing the explicit <code>let value</code>, we allocate storage that will last
until the end of the enclosing block (when <code>value</code> goes out of scope). When we
borrow <code>&amp;value</code>, we are borrowing a local variable that already exists, and
hence no temporary is created.</p>
<p>Temporaries are not always dropped at the end of the enclosing statement. In
simple cases where the <code>&amp;</code> expression is immediately stored into a variable, the
compiler will automatically extend the lifetime of the temporary until the end
of the enclosing block. Therefore, an alternative way to fix the original
program is to write <code>let tmp = &amp;foo()</code> and not <code>let tmp = foo()</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i32</span> { <span class="number">22</span> }
<span class="kw">fn</span> <span class="ident">bar</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="ident">i32</span> { <span class="ident">x</span> }
<span class="kw">let</span> <span class="ident">value</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">foo</span>();
<span class="kw">let</span> <span class="ident">p</span> <span class="op">=</span> <span class="ident">bar</span>(<span class="ident">value</span>);
<span class="kw">let</span> <span class="ident">q</span> <span class="op">=</span> <span class="kw-2">*</span><span class="ident">p</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo()%20-%3E%20i32%20%7B%2022%20%7D%0Afn%20bar(x%3A%20%26i32)%20-%3E%20%26i32%20%7B%20x%20%7D%0Alet%20value%20%3D%20%26foo()%3B%0Alet%20p%20%3D%20bar(value)%3B%0Alet%20q%20%3D%20*p%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Here, we are still borrowing <code>foo()</code>, but as the borrow is assigned directly
into a variable, the temporary will not be dropped until the end of the
enclosing block. Similar rules apply when temporaries are stored into aggregate
structures like a tuple or struct:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="comment">// Here, two temporaries are created, but</span>
<span class="comment">// as they are stored directly into `value`,</span>
<span class="comment">// they are not dropped until the end of the</span>
<span class="comment">// enclosing block.</span>
<span class="kw">fn</span> <span class="ident">foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i32</span> { <span class="number">22</span> }
<span class="kw">let</span> <span class="ident">value</span> <span class="op">=</span> (<span class="kw-2">&amp;</span><span class="ident">foo</span>(), <span class="kw-2">&amp;</span><span class="ident">foo</span>());</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20Here%2C%20two%20temporaries%20are%20created%2C%20but%0A%2F%2F%20as%20they%20are%20stored%20directly%20into%20%60value%60%2C%0A%2F%2F%20they%20are%20not%20dropped%20until%20the%20end%20of%20the%0A%2F%2F%20enclosing%20block.%0Afn%20main()%20%7B%0Afn%20foo()%20-%3E%20i32%20%7B%2022%20%7D%0Alet%20value%20%3D%20(%26foo()%2C%20%26foo())%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-undescribed"><h2 id="E0717" class="section-header"><a href="#E0717">E0717</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0718" class="section-header"><a href="#E0718">E0718</a></h2>
<p>A <code>#[lang = &quot;..&quot;]</code> attribute was placed on the wrong item type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">lang_items</span>)]</span>

<span class="attribute">#[<span class="ident">lang</span> <span class="op">=</span> <span class="string">&quot;owned_box&quot;</span>]</span>
<span class="kw">static</span> <span class="ident">X</span>: <span class="ident">u32</span> <span class="op">=</span> <span class="number">42</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(lang_items)%5D%0A%0Afn%20main()%20%7B%0A%23%5Blang%20%3D%20%22owned_box%22%5D%0Astatic%20X%3A%20u32%20%3D%2042%3B%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0719" class="section-header"><a href="#E0719">E0719</a></h2>
<p>An associated type value was specified more than once.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">associated_type_bounds</span>)]</span>

<span class="kw">trait</span> <span class="ident">FooTrait</span> {}
<span class="kw">trait</span> <span class="ident">BarTrait</span> {}

<span class="comment">// error: associated type `Item` in trait `Iterator` is specified twice</span>
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Iterator</span><span class="op">&lt;</span><span class="ident">Item</span>: <span class="ident">FooTrait</span>, <span class="ident">Item</span>: <span class="ident">BarTrait</span><span class="op">&gt;</span><span class="op">&gt;</span> { <span class="ident">f</span>: <span class="ident">T</span> }</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(associated_type_bounds)%5D%0A%0Afn%20main()%20%7B%0Atrait%20FooTrait%20%7B%7D%0Atrait%20BarTrait%20%7B%7D%0A%0A%2F%2F%20error%3A%20associated%20type%20%60Item%60%20in%20trait%20%60Iterator%60%20is%20specified%20twice%0Astruct%20Foo%3CT%3A%20Iterator%3CItem%3A%20FooTrait%2C%20Item%3A%20BarTrait%3E%3E%20%7B%20f%3A%20T%20%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p><code>Item</code> in trait <code>Iterator</code> cannot be specified multiple times for struct <code>Foo</code>.
To fix this, create a new trait that is a combination of the desired traits and
specify the associated type with the new trait.</p>
<p>Corrected example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">associated_type_bounds</span>)]</span>

<span class="kw">trait</span> <span class="ident">FooTrait</span> {}
<span class="kw">trait</span> <span class="ident">BarTrait</span> {}
<span class="kw">trait</span> <span class="ident">FooBarTrait</span>: <span class="ident">FooTrait</span> <span class="op">+</span> <span class="ident">BarTrait</span> {}

<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Iterator</span><span class="op">&lt;</span><span class="ident">Item</span>: <span class="ident">FooBarTrait</span><span class="op">&gt;</span><span class="op">&gt;</span> { <span class="ident">f</span>: <span class="ident">T</span> } <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(associated_type_bounds)%5D%0A%0Afn%20main()%20%7B%0Atrait%20FooTrait%20%7B%7D%0Atrait%20BarTrait%20%7B%7D%0Atrait%20FooBarTrait%3A%20FooTrait%20%2B%20BarTrait%20%7B%7D%0A%0Astruct%20Foo%3CT%3A%20Iterator%3CItem%3A%20FooBarTrait%3E%3E%20%7B%20f%3A%20T%20%7D%20%2F%2F%20ok!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>For more information about associated types, see <a href="https://doc.rust-lang.org/book/ch19-03-advanced-traits.html#specifying-placeholder-types-in-trait-definitions-with-associated-types">the book</a>. For more
information on associated type bounds, see <a href="https://rust-lang.github.io/rfcs/2289-associated-type-bounds.html">RFC 2289</a>.</p>
</div>
<div class="error-described"><h2 id="E0720" class="section-header"><a href="#E0720">E0720</a></h2>
<p>An <code>impl Trait</code> type expands to a recursive type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">make_recursive_type</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="kw">impl</span> <span class="ident">Sized</span> {
    [<span class="ident">make_recursive_type</span>(), <span class="ident">make_recursive_type</span>()]
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20make_recursive_type()%20-%3E%20impl%20Sized%20%7B%0A%20%20%20%20%5Bmake_recursive_type()%2C%20make_recursive_type()%5D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>An <code>impl Trait</code> type must be expandable to a concrete type that contains no
<code>impl Trait</code> types. For example the previous example tries to create an
<code>impl Trait</code> type <code>T</code> that is equal to <code>[T, T]</code>.</p>
</div>
<div class="error-undescribed"><h2 id="E0722" class="section-header"><a href="#E0722">E0722</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0723" class="section-header"><a href="#E0723">E0723</a></h2>
<p>An unstable feature in <code>const</code> contexts was used.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">const</span> <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Copy</span><span class="op">&gt;</span>(<span class="kw">_</span>: <span class="ident">T</span>) { <span class="comment">// error!</span>
   <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aconst%20fn%20foo%3CT%3A%20Copy%3E(_%3A%20T)%20%7B%20%2F%2F%20error!%0A%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To enable this feature on a nightly version of rustc, add the <code>const_fn</code>
feature flag:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">const_fn</span>)]</span>

<span class="kw">const</span> <span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Copy</span><span class="op">&gt;</span>(<span class="kw">_</span>: <span class="ident">T</span>) { <span class="comment">// ok!</span>
   <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(const_fn)%5D%0A%0Afn%20main()%20%7B%0Aconst%20fn%20foo%3CT%3A%20Copy%3E(_%3A%20T)%20%7B%20%2F%2F%20ok!%0A%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0724" class="section-header"><a href="#E0724">E0724</a></h2>
<p><code>#[ffi_returns_twice]</code> was used on something other than a foreign function
declaration.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">ffi_returns_twice</span>)]</span>
<span class="attribute">#![<span class="ident">crate_type</span> <span class="op">=</span> <span class="string">&quot;lib&quot;</span>]</span>

<span class="attribute">#[<span class="ident">ffi_returns_twice</span>]</span> <span class="comment">// error!</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(ffi_returns_twice)%5D%0A%23!%5Bcrate_type%20%3D%20%22lib%22%5D%0A%0Afn%20main()%20%7B%0A%23%5Bffi_returns_twice%5D%20%2F%2F%20error!%0Apub%20fn%20foo()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p><code>#[ffi_returns_twice]</code> can only be used on foreign function declarations.
For example, we might correct the previous example by declaring
the function inside of an <code>extern</code> block.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">ffi_returns_twice</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {
   <span class="attribute">#[<span class="ident">ffi_returns_twice</span>]</span> <span class="comment">// ok!</span>
   <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span>();
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(ffi_returns_twice)%5D%0A%0Afn%20main()%20%7B%0Aextern%20%22C%22%20%7B%0A%20%20%20%23%5Bffi_returns_twice%5D%20%2F%2F%20ok!%0A%20%20%20pub%20fn%20foo()%3B%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0725" class="section-header"><a href="#E0725">E0725</a></h2>
<p>A feature attribute named a feature that was disallowed in the compiler
command line flags.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">never_type</span>)]</span> <span class="comment">// error: the feature `never_type` is not in</span>
                        <span class="comment">// the list of allowed features</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(never_type)%5D%20%2F%2F%20error%3A%20the%20feature%20%60never_type%60%20is%20not%20in%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20the%20list%20of%20allowed%20features%0Afn%20main()%20%7B%0A%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Delete the offending feature attribute, or add it to the list of allowed
features in the <code>-Z allow_features</code> flag.</p>
</div>
<div class="error-undescribed"><h2 id="E0726" class="section-header"><a href="#E0726">E0726</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0727" class="section-header"><a href="#E0727">E0727</a></h2>
<p>A <code>yield</code> clause was used in an <code>async</code> context.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">generators</span>)]</span>

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">generator</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
        <span class="kw">async</span> {
            <span class="kw">yield</span>;
        }
    };
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(generators)%5D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20generator%20%3D%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20async%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20yield%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%7D&amp;version=nightly&amp;edition=2018">Run</a></div>
<p>Here, the <code>yield</code> keyword is used in an <code>async</code> block,
which is not yet supported.</p>
<p>To fix this error, you have to move <code>yield</code> out of the <code>async</code> block:</p>

<div class='information'><div class='tooltip edition' data-edition="2018">ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered edition">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">generators</span>)]</span>

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">let</span> <span class="ident">generator</span> <span class="op">=</span> <span class="op">|</span><span class="op">|</span> {
        <span class="kw">yield</span>;
    };
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(generators)%5D%0A%0Afn%20main()%20%7B%0A%20%20%20%20let%20generator%20%3D%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20yield%3B%0A%20%20%20%20%7D%3B%0A%7D&amp;version=nightly&amp;edition=2018">Run</a></div>
</div>
<div class="error-described"><h2 id="E0728" class="section-header"><a href="#E0728">E0728</a></h2>
<p><a href="https://doc.rust-lang.org/std/keyword.await.html"><code>await</code></a> has been used outside <a href="https://doc.rust-lang.org/std/keyword.async.html"><code>async</code></a> function or <a href="https://doc.rust-lang.org/std/keyword.async.html"><code>async</code></a> block.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span>() {
    <span class="ident">wake_and_yield_once</span>().<span class="kw">await</span> <span class="comment">// `await` is used outside `async` context</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Apin%3A%3APin%3B%0Ause%20std%3A%3Afuture%3A%3AFuture%3B%0Ause%20std%3A%3Atask%3A%3A%7BContext%2C%20Poll%7D%3B%0A%0Astruct%20WakeOnceThenComplete(bool)%3B%0A%0Afn%20wake_and_yield_once()%20-%3E%20WakeOnceThenComplete%20%7B%0A%20%20%20%20WakeOnceThenComplete(false)%0A%7D%0A%0Aimpl%20Future%20for%20WakeOnceThenComplete%20%7B%0A%20%20%20%20type%20Output%20%3D%20()%3B%0A%20%20%20%20fn%20poll(mut%20self%3A%20Pin%3C%26mut%20Self%3E%2C%20cx%3A%20%26mut%20Context%3C'_%3E)%20-%3E%20Poll%3C()%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20self.0%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Poll%3A%3AReady(())%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cx.waker().wake_by_ref()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20self.0%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20Poll%3A%3APending%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Afn%20foo()%20%7B%0A%20%20%20%20wake_and_yield_once().await%20%2F%2F%20%60await%60%20is%20used%20outside%20%60async%60%20context%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
<p><a href="https://doc.rust-lang.org/std/keyword.await.html"><code>await</code></a> is used to suspend the current computation until the given
future is ready to produce a value. So it is legal only within
an <a href="https://doc.rust-lang.org/std/keyword.async.html"><code>async</code></a> context, like an <code>async</code> function or an <code>async</code> block.</p>

<div class='information'><div class='tooltip edition' data-edition="2018">ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered edition">
<span class="kw">async</span> <span class="kw">fn</span> <span class="ident">foo</span>() {
    <span class="ident">wake_and_yield_once</span>().<span class="kw">await</span> <span class="comment">// `await` is used within `async` function</span>
}

<span class="kw">fn</span> <span class="ident">bar</span>(<span class="ident">x</span>: <span class="ident">u8</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw">impl</span> <span class="ident">Future</span><span class="op">&lt;</span><span class="ident">Output</span> <span class="op">=</span> <span class="ident">u8</span><span class="op">&gt;</span> {
    <span class="kw">async</span> <span class="kw">move</span> {
        <span class="ident">wake_and_yield_once</span>().<span class="kw">await</span>; <span class="comment">// `await` is used within `async` block</span>
        <span class="ident">x</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Apin%3A%3APin%3B%0Ause%20std%3A%3Afuture%3A%3AFuture%3B%0Ause%20std%3A%3Atask%3A%3A%7BContext%2C%20Poll%7D%3B%0A%0Astruct%20WakeOnceThenComplete(bool)%3B%0A%0Afn%20wake_and_yield_once()%20-%3E%20WakeOnceThenComplete%20%7B%0A%20%20%20%20WakeOnceThenComplete(false)%0A%7D%0A%0Aimpl%20Future%20for%20WakeOnceThenComplete%20%7B%0A%20%20%20%20type%20Output%20%3D%20()%3B%0A%20%20%20%20fn%20poll(mut%20self%3A%20Pin%3C%26mut%20Self%3E%2C%20cx%3A%20%26mut%20Context%3C'_%3E)%20-%3E%20Poll%3C()%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20self.0%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Poll%3A%3AReady(())%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cx.waker().wake_by_ref()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20self.0%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20Poll%3A%3APending%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Aasync%20fn%20foo()%20%7B%0A%20%20%20%20wake_and_yield_once().await%20%2F%2F%20%60await%60%20is%20used%20within%20%60async%60%20function%0A%7D%0A%0Afn%20bar(x%3A%20u8)%20-%3E%20impl%20Future%3COutput%20%3D%20u8%3E%20%7B%0A%20%20%20%20async%20move%20%7B%0A%20%20%20%20%20%20%20%20wake_and_yield_once().await%3B%20%2F%2F%20%60await%60%20is%20used%20within%20%60async%60%20block%0A%20%20%20%20%20%20%20%20x%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
</div>
<div class="error-described"><h2 id="E0729" class="section-header"><a href="#E0729">E0729</a></h2>
<p>Support for Non-Lexical Lifetimes (NLL) has been included in the Rust compiler
since 1.31, and has been enabled on the 2015 edition since 1.36. The new borrow
checker for NLL uncovered some bugs in the old borrow checker, which in some
cases allowed unsound code to compile, resulting in memory safety issues.</p>
<h3 id="what-do-i-do" class="section-header"><a href="#what-do-i-do">What do I do?</a></h3>
<p>Change your code so the warning does no longer trigger. For backwards
compatibility, this unsound code may still compile (with a warning) right now.
However, at some point in the future, the compiler will no longer accept this
code and will throw a hard error.</p>
<h3 id="shouldnt-you-fix-the-old-borrow-checker" class="section-header"><a href="#shouldnt-you-fix-the-old-borrow-checker">Shouldn’t you fix the old borrow checker?</a></h3>
<p>The old borrow checker has known soundness issues that are basically impossible
to fix. The new NLL-based borrow checker is the fix.</p>
<h3 id="can-i-turn-these-warnings-into-errors-by-denying-a-lint" class="section-header"><a href="#can-i-turn-these-warnings-into-errors-by-denying-a-lint">Can I turn these warnings into errors by denying a lint?</a></h3>
<p>No.</p>
<h3 id="when-are-these-warnings-going-to-turn-into-errors" class="section-header"><a href="#when-are-these-warnings-going-to-turn-into-errors">When are these warnings going to turn into errors?</a></h3>
<p>No formal timeline for turning the warnings into errors has been set. See
<a href="https://github.com/rust-lang/rust/issues/58781">GitHub issue 58781</a> for more
information.</p>
<h3 id="why-do-i-get-this-message-with-code-that-doesnt-involve-borrowing" class="section-header"><a href="#why-do-i-get-this-message-with-code-that-doesnt-involve-borrowing">Why do I get this message with code that doesn’t involve borrowing?</a></h3>
<p>There are some known bugs that trigger this message.</p>
</div>
<div class="error-described"><h2 id="E0730" class="section-header"><a href="#E0730">E0730</a></h2>
<p>An array without a fixed length was pattern-matched.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">is_123</span><span class="op">&lt;</span><span class="kw">const</span> <span class="ident">N</span>: <span class="ident">usize</span><span class="op">&gt;</span>(<span class="ident">x</span>: [<span class="ident">u32</span>; <span class="ident">N</span>]) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span> {
    <span class="kw">match</span> <span class="ident">x</span> {
        [<span class="number">1</span>, <span class="number">2</span>, ..] <span class="op">=</span><span class="op">&gt;</span> <span class="bool-val">true</span>, <span class="comment">// error: cannot pattern-match on an</span>
                            <span class="comment">//        array without a fixed length</span>
        <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> <span class="bool-val">false</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20is_123%3Cconst%20N%3A%20usize%3E(x%3A%20%5Bu32%3B%20N%5D)%20-%3E%20bool%20%7B%0A%20%20%20%20match%20x%20%7B%0A%20%20%20%20%20%20%20%20%5B1%2C%202%2C%20..%5D%20%3D%3E%20true%2C%20%2F%2F%20error%3A%20cannot%20pattern-match%20on%20an%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20array%20without%20a%20fixed%20length%0A%20%20%20%20%20%20%20%20_%20%3D%3E%20false%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, you have two solutions:</p>
<ol>
<li>Use an array with a fixed length.</li>
<li>Use a slice.</li>
</ol>
<p>Example with an array with a fixed length:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">is_123</span>(<span class="ident">x</span>: [<span class="ident">u32</span>; <span class="number">3</span>]) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span> { <span class="comment">// We use an array with a fixed size</span>
    <span class="kw">match</span> <span class="ident">x</span> {
        [<span class="number">1</span>, <span class="number">2</span>, ..] <span class="op">=</span><span class="op">&gt;</span> <span class="bool-val">true</span>, <span class="comment">// ok!</span>
        <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> <span class="bool-val">false</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20is_123(x%3A%20%5Bu32%3B%203%5D)%20-%3E%20bool%20%7B%20%2F%2F%20We%20use%20an%20array%20with%20a%20fixed%20size%0A%20%20%20%20match%20x%20%7B%0A%20%20%20%20%20%20%20%20%5B1%2C%202%2C%20..%5D%20%3D%3E%20true%2C%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20_%20%3D%3E%20false%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Example with a slice:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">is_123</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span>[<span class="ident">u32</span>]) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span> { <span class="comment">// We use a slice</span>
    <span class="kw">match</span> <span class="ident">x</span> {
        [<span class="number">1</span>, <span class="number">2</span>, ..] <span class="op">=</span><span class="op">&gt;</span> <span class="bool-val">true</span>, <span class="comment">// ok!</span>
        <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> <span class="bool-val">false</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20is_123(x%3A%20%26%5Bu32%5D)%20-%3E%20bool%20%7B%20%2F%2F%20We%20use%20a%20slice%0A%20%20%20%20match%20x%20%7B%0A%20%20%20%20%20%20%20%20%5B1%2C%202%2C%20..%5D%20%3D%3E%20true%2C%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20_%20%3D%3E%20false%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0731" class="section-header"><a href="#E0731">E0731</a></h2>
<p>An enum with the representation hint <code>repr(transparent)</code> had zero or more than
one variants.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">transparent</span>)]</span>
<span class="kw">enum</span> <span class="ident">Status</span> { <span class="comment">// error: transparent enum needs exactly one variant, but has 2</span>
    <span class="ident">Errno</span>(<span class="ident">u32</span>),
    <span class="prelude-val">Ok</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brepr(transparent)%5D%0Aenum%20Status%20%7B%20%2F%2F%20error%3A%20transparent%20enum%20needs%20exactly%20one%20variant%2C%20but%20has%202%0A%20%20%20%20Errno(u32)%2C%0A%20%20%20%20Ok%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Because transparent enums are represented exactly like one of their variants at
run time, said variant must be uniquely determined. If there is no variant, or
if there are multiple variants, it is not clear how the enum should be
represented.</p>
</div>
<div class="error-described"><h2 id="E0732" class="section-header"><a href="#E0732">E0732</a></h2>
<p>An <code>enum</code> with a discriminant must specify a <code>#[repr(inttype)]</code>.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">arbitrary_enum_discriminant</span>)]</span>

<span class="kw">enum</span> <span class="ident">Enum</span> { <span class="comment">// error!</span>
    <span class="ident">Unit</span> <span class="op">=</span> <span class="number">1</span>,
    <span class="ident">Tuple</span>() <span class="op">=</span> <span class="number">2</span>,
    <span class="ident">Struct</span>{} <span class="op">=</span> <span class="number">3</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(arbitrary_enum_discriminant)%5D%0A%0Aenum%20Enum%20%7B%20%2F%2F%20error!%0A%20%20%20%20Unit%20%3D%201%2C%0A%20%20%20%20Tuple()%20%3D%202%2C%0A%20%20%20%20Struct%7B%7D%20%3D%203%2C%0A%7D%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>A <code>#[repr(inttype)]</code> must be provided on an <code>enum</code> if it has a non-unit
variant with a discriminant, or where there are both unit variants with
discriminants and non-unit variants. This restriction ensures that there
is a well-defined way to extract a variant’s discriminant from a value;
for instance:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">arbitrary_enum_discriminant</span>)]</span>

<span class="attribute">#[<span class="ident">repr</span>(<span class="ident">u8</span>)]</span>
<span class="kw">enum</span> <span class="ident">Enum</span> {
    <span class="ident">Unit</span> <span class="op">=</span> <span class="number">3</span>,
    <span class="ident">Tuple</span>(<span class="ident">u16</span>) <span class="op">=</span> <span class="number">2</span>,
    <span class="ident">Struct</span> {
        <span class="ident">a</span>: <span class="ident">u8</span>,
        <span class="ident">b</span>: <span class="ident">u16</span>,
    } <span class="op">=</span> <span class="number">1</span>,
}

<span class="kw">fn</span> <span class="ident">discriminant</span>(<span class="ident">v</span> : <span class="kw-2">&amp;</span><span class="ident">Enum</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u8</span> {
    <span class="kw">unsafe</span> { <span class="kw-2">*</span>(<span class="ident">v</span> <span class="kw">as</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">Enum</span> <span class="kw">as</span> <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">u8</span>) }
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="macro">assert_eq</span><span class="macro">!</span>(<span class="number">3</span>, <span class="ident">discriminant</span>(<span class="kw-2">&amp;</span><span class="ident">Enum</span>::<span class="ident">Unit</span>));
    <span class="macro">assert_eq</span><span class="macro">!</span>(<span class="number">2</span>, <span class="ident">discriminant</span>(<span class="kw-2">&amp;</span><span class="ident">Enum</span>::<span class="ident">Tuple</span>(<span class="number">5</span>)));
    <span class="macro">assert_eq</span><span class="macro">!</span>(<span class="number">1</span>, <span class="ident">discriminant</span>(<span class="kw-2">&amp;</span><span class="ident">Enum</span>::<span class="ident">Struct</span>{<span class="ident">a</span>: <span class="number">7</span>, <span class="ident">b</span>: <span class="number">11</span>}));
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(arbitrary_enum_discriminant)%5D%0A%0A%23%5Brepr(u8)%5D%0Aenum%20Enum%20%7B%0A%20%20%20%20Unit%20%3D%203%2C%0A%20%20%20%20Tuple(u16)%20%3D%202%2C%0A%20%20%20%20Struct%20%7B%0A%20%20%20%20%20%20%20%20a%3A%20u8%2C%0A%20%20%20%20%20%20%20%20b%3A%20u16%2C%0A%20%20%20%20%7D%20%3D%201%2C%0A%7D%0A%0Afn%20discriminant(v%20%3A%20%26Enum)%20-%3E%20u8%20%7B%0A%20%20%20%20unsafe%20%7B%20*(v%20as%20*const%20Enum%20as%20*const%20u8)%20%7D%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20assert_eq!(3%2C%20discriminant(%26Enum%3A%3AUnit))%3B%0A%20%20%20%20assert_eq!(2%2C%20discriminant(%26Enum%3A%3ATuple(5)))%3B%0A%20%20%20%20assert_eq!(1%2C%20discriminant(%26Enum%3A%3AStruct%7Ba%3A%207%2C%20b%3A%2011%7D))%3B%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0733" class="section-header"><a href="#E0733">E0733</a></h2>
<p>An <a href="https://doc.rust-lang.org/std/keyword.async.html"><code>async</code></a> function used recursion without boxing.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">async</span> <span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">n</span>: <span class="ident">usize</span>) {
    <span class="kw">if</span> <span class="ident">n</span> <span class="op">&gt;</span> <span class="number">0</span> {
        <span class="ident">foo</span>(<span class="ident">n</span> <span class="op">-</span> <span class="number">1</span>).<span class="kw">await</span>;
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aasync%20fn%20foo(n%3A%20usize)%20%7B%0A%20%20%20%20if%20n%20%3E%200%20%7B%0A%20%20%20%20%20%20%20%20foo(n%20-%201).await%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
<p>To perform async recursion, the <code>async fn</code> needs to be desugared such that the
<code>Future</code> is explicit in the return type:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">future</span>::<span class="ident">Future</span>;
<span class="kw">fn</span> <span class="ident">foo_desugared</span>(<span class="ident">n</span>: <span class="ident">usize</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw">impl</span> <span class="ident">Future</span><span class="op">&lt;</span><span class="ident">Output</span> <span class="op">=</span> ()<span class="op">&gt;</span> {
    <span class="kw">async</span> <span class="kw">move</span> {
        <span class="kw">if</span> <span class="ident">n</span> <span class="op">&gt;</span> <span class="number">0</span> {
            <span class="ident">foo_desugared</span>(<span class="ident">n</span> <span class="op">-</span> <span class="number">1</span>).<span class="kw">await</span>;
        }
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Afuture%3A%3AFuture%3B%0Afn%20foo_desugared(n%3A%20usize)%20-%3E%20impl%20Future%3COutput%20%3D%20()%3E%20%7B%0A%20%20%20%20async%20move%20%7B%0A%20%20%20%20%20%20%20%20if%20n%20%3E%200%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20foo_desugared(n%20-%201).await%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
<p>Finally, the future is wrapped in a pinned box:</p>

<div class='information'><div class='tooltip edition' data-edition="2018">ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered edition">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">future</span>::<span class="ident">Future</span>;
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">pin</span>::<span class="ident">Pin</span>;
<span class="kw">fn</span> <span class="ident">foo_recursive</span>(<span class="ident">n</span>: <span class="ident">usize</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Pin</span><span class="op">&lt;</span><span class="ident">Box</span><span class="op">&lt;</span><span class="kw">dyn</span> <span class="ident">Future</span><span class="op">&lt;</span><span class="ident">Output</span> <span class="op">=</span> ()<span class="op">&gt;</span><span class="op">&gt;</span><span class="op">&gt;</span> {
    <span class="ident">Box</span>::<span class="ident">pin</span>(<span class="kw">async</span> <span class="kw">move</span> {
        <span class="kw">if</span> <span class="ident">n</span> <span class="op">&gt;</span> <span class="number">0</span> {
            <span class="ident">foo_recursive</span>(<span class="ident">n</span> <span class="op">-</span> <span class="number">1</span>).<span class="kw">await</span>;
        }
    })
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Afuture%3A%3AFuture%3B%0Ause%20std%3A%3Apin%3A%3APin%3B%0Afn%20foo_recursive(n%3A%20usize)%20-%3E%20Pin%3CBox%3Cdyn%20Future%3COutput%20%3D%20()%3E%3E%3E%20%7B%0A%20%20%20%20Box%3A%3Apin(async%20move%20%7B%0A%20%20%20%20%20%20%20%20if%20n%20%3E%200%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20foo_recursive(n%20-%201).await%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
<p>The <code>Box&lt;...&gt;</code> ensures that the result is of known size, and the pin is
required to keep it in the same place in memory.</p>
</div>
<div class="error-described"><h2 id="E0734" class="section-header"><a href="#E0734">E0734</a></h2>
<p>A stability attribute has been used outside of the standard library.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">rustc_deprecated</span>(<span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;b&quot;</span>, <span class="ident">reason</span> <span class="op">=</span> <span class="string">&quot;text&quot;</span>)]</span> <span class="comment">// invalid</span>
<span class="attribute">#[<span class="ident">stable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;a&quot;</span>, <span class="ident">since</span> <span class="op">=</span> <span class="string">&quot;b&quot;</span>)]</span> <span class="comment">// invalid</span>
<span class="attribute">#[<span class="ident">unstable</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;b&quot;</span>, <span class="ident">issue</span> <span class="op">=</span> <span class="string">&quot;none&quot;</span>)]</span> <span class="comment">// invalid</span>
<span class="kw">fn</span> <span class="ident">foo</span>(){}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Brustc_deprecated(since%20%3D%20%22b%22%2C%20reason%20%3D%20%22text%22)%5D%20%2F%2F%20invalid%0A%23%5Bstable(feature%20%3D%20%22a%22%2C%20since%20%3D%20%22b%22)%5D%20%2F%2F%20invalid%0A%23%5Bunstable(feature%20%3D%20%22b%22%2C%20issue%20%3D%20%22none%22)%5D%20%2F%2F%20invalid%0Afn%20foo()%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>These attributes are meant to only be used by the standard library and are
rejected in your own crates.</p>
</div>
<div class="error-described"><h2 id="E0735" class="section-header"><a href="#E0735">E0735</a></h2>
<p>Type parameter defaults cannot use <code>Self</code> on structs, enums, or unions.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">Foo</span><span class="op">&lt;</span><span class="ident">X</span> <span class="op">=</span> <span class="ident">Box</span><span class="op">&lt;</span><span class="self">Self</span><span class="op">&gt;</span><span class="op">&gt;</span> {
    <span class="ident">field1</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">X</span><span class="op">&gt;</span>,
    <span class="ident">field2</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">X</span><span class="op">&gt;</span>,
}
<span class="comment">// error: type parameters cannot use `Self` in their defaults.</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20Foo%3CX%20%3D%20Box%3CSelf%3E%3E%20%7B%0A%20%20%20%20field1%3A%20Option%3CX%3E%2C%0A%20%20%20%20field2%3A%20Option%3CX%3E%2C%0A%7D%0A%2F%2F%20error%3A%20type%20parameters%20cannot%20use%20%60Self%60%20in%20their%20defaults.%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0736" class="section-header"><a href="#E0736">E0736</a></h2>
<p><code>#[track_caller]</code> and <code>#[naked]</code> cannot both be applied to the same function.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">naked</span>]</span>
<span class="attribute">#[<span class="ident">track_caller</span>]</span>
<span class="kw">fn</span> <span class="ident">foo</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bnaked%5D%0A%23%5Btrack_caller%5D%0Afn%20foo()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>This is primarily due to ABI incompatibilities between the two attributes.
See <a href="https://github.com/rust-lang/rfcs/blob/master/text/2091-inline-semantic.md">RFC 2091</a> for details on this and other limitations.</p>
</div>
<div class="error-described"><h2 id="E0737" class="section-header"><a href="#E0737">E0737</a></h2>
<p><code>#[track_caller]</code> requires functions to have the <code>&quot;Rust&quot;</code> ABI for implicitly
receiving caller location. See <a href="https://github.com/rust-lang/rfcs/blob/master/text/2091-inline-semantic.md">RFC 2091</a> for details on this and other
restrictions.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">track_caller</span>]</span>
<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> <span class="kw">fn</span> <span class="ident">foo</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Btrack_caller%5D%0Aextern%20%22C%22%20fn%20foo()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0739" class="section-header"><a href="#E0739">E0739</a></h2>
<p><code>#[track_caller]</code> can not be applied on struct.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">track_caller</span>]</span>
<span class="kw">struct</span> <span class="ident">Bar</span> {
    <span class="ident">a</span>: <span class="ident">u8</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Btrack_caller%5D%0Astruct%20Bar%20%7B%0A%20%20%20%20a%3A%20u8%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0740" class="section-header"><a href="#E0740">E0740</a></h2>
<p>A <code>union</code> was declared with fields with destructors.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="ident">union</span> <span class="ident">Test</span> {
    <span class="ident">a</span>: <span class="ident">A</span>, <span class="comment">// error!</span>
}

<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Debug</span>)]</span>
<span class="kw">struct</span> <span class="ident">A</span>(<span class="ident">i32</span>);

<span class="kw">impl</span> <span class="ident">Drop</span> <span class="kw">for</span> <span class="ident">A</span> {
    <span class="kw">fn</span> <span class="ident">drop</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) { <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;A&quot;</span>); }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aunion%20Test%20%7B%0A%20%20%20%20a%3A%20A%2C%20%2F%2F%20error!%0A%7D%0A%0A%23%5Bderive(Debug)%5D%0Astruct%20A(i32)%3B%0A%0Aimpl%20Drop%20for%20A%20%7B%0A%20%20%20%20fn%20drop(%26mut%20self)%20%7B%20println!(%22A%22)%3B%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>A <code>union</code> cannot have fields with destructors.</p>
</div>
<div class="error-described"><h2 id="E0741" class="section-header"><a href="#E0741">E0741</a></h2>
<p>A non-structural-match type was used as the type of a const generic parameter.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">const_generics</span>)]</span>

<span class="kw">struct</span> <span class="ident">A</span>;

<span class="kw">struct</span> <span class="ident">B</span><span class="op">&lt;</span><span class="kw">const</span> <span class="ident">X</span>: <span class="ident">A</span><span class="op">&gt;</span>; <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(const_generics)%5D%0A%0Afn%20main()%20%7B%0Astruct%20A%3B%0A%0Astruct%20B%3Cconst%20X%3A%20A%3E%3B%20%2F%2F%20error!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Only structural-match types (that is, types that derive <code>PartialEq</code> and <code>Eq</code>)
may be used as the types of const generic parameters.</p>
<p>To fix the previous code example, we derive <code>PartialEq</code> and <code>Eq</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">const_generics</span>)]</span>

<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">PartialEq</span>, <span class="ident">Eq</span>)]</span> <span class="comment">// We derive both traits here.</span>
<span class="kw">struct</span> <span class="ident">A</span>;

<span class="kw">struct</span> <span class="ident">B</span><span class="op">&lt;</span><span class="kw">const</span> <span class="ident">X</span>: <span class="ident">A</span><span class="op">&gt;</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(const_generics)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bderive(PartialEq%2C%20Eq)%5D%20%2F%2F%20We%20derive%20both%20traits%20here.%0Astruct%20A%3B%0A%0Astruct%20B%3Cconst%20X%3A%20A%3E%3B%20%2F%2F%20ok!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0742" class="section-header"><a href="#E0742">E0742</a></h2>
<p>Visibility is restricted to a module which isn’t an ancestor of the current
item.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">Sea</span> {}

<span class="kw">pub</span> (<span class="kw">in</span> <span class="kw">crate</span>::<span class="ident">Sea</span>) <span class="kw">struct</span> <span class="ident">Shark</span>; <span class="comment">// error!</span>

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Apub%20mod%20Sea%20%7B%7D%0A%0Apub%20(in%20crate%3A%3ASea)%20struct%20Shark%3B%20%2F%2F%20error!%0A%0Afn%20main()%20%7B%7D&amp;edition=2018">Run</a></div>
<p>To fix this error, we need to move the <code>Shark</code> struct inside the <code>Sea</code> module:</p>

<div class='information'><div class='tooltip edition' data-edition="2018">ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered edition">
<span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">Sea</span> {
    <span class="kw">pub</span> (<span class="kw">in</span> <span class="kw">crate</span>::<span class="ident">Sea</span>) <span class="kw">struct</span> <span class="ident">Shark</span>; <span class="comment">// ok!</span>
}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Apub%20mod%20Sea%20%7B%0A%20%20%20%20pub%20(in%20crate%3A%3ASea)%20struct%20Shark%3B%20%2F%2F%20ok!%0A%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2018">Run</a></div>
<p>Of course, you can do it as long as the module you’re referring to is an
ancestor:</p>

<div class='information'><div class='tooltip edition' data-edition="2018">ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered edition">
<span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">Earth</span> {
    <span class="kw">pub</span> <span class="kw">mod</span> <span class="ident">Sea</span> {
        <span class="kw">pub</span> (<span class="kw">in</span> <span class="kw">crate</span>::<span class="ident">Earth</span>) <span class="kw">struct</span> <span class="ident">Shark</span>; <span class="comment">// ok!</span>
    }
}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Apub%20mod%20Earth%20%7B%0A%20%20%20%20pub%20mod%20Sea%20%7B%0A%20%20%20%20%20%20%20%20pub%20(in%20crate%3A%3AEarth)%20struct%20Shark%3B%20%2F%2F%20ok!%0A%20%20%20%20%7D%0A%7D%0A%0Afn%20main()%20%7B%7D&amp;edition=2018">Run</a></div>
</div>
<div class="error-described"><h2 id="E0743" class="section-header"><a href="#E0743">E0743</a></h2>
<p>The C-variadic type <code>...</code> has been nested inside another type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">c_variadic</span>)]</span>

<span class="kw">fn</span> <span class="ident">foo2</span>(<span class="ident">x</span>: <span class="ident">u8</span>, <span class="ident">y</span>: <span class="kw-2">&amp;</span>...) {} <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(c_variadic)%5D%0A%0Afn%20main()%20%7B%0Afn%20foo2(x%3A%20u8%2C%20y%3A%20%26...)%20%7B%7D%20%2F%2F%20error!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Only foreign functions can use the C-variadic type (<code>...</code>). In such functions,
<code>...</code> may only occur non-nested. That is, <code>y: &amp;'a ...</code> is not allowed.</p>
<p>A C-variadic type is used to give an undefined number of parameters to a given
function (like <code>printf</code> in C). The equivalent in Rust would be to use macros
directly (like <code>println!</code> for example).</p>
</div>
<div class="error-described"><h2 id="E0744" class="section-header"><a href="#E0744">E0744</a></h2>
<p>An unsupported expression was used inside a const context.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">const</span> <span class="kw">_</span>: <span class="ident">i32</span> <span class="op">=</span> {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">x</span> <span class="op">=</span> <span class="number">0</span>;

    <span class="kw">for</span> <span class="ident">i</span> <span class="kw">in</span> <span class="number">0</span>..<span class="number">4</span> { <span class="comment">// error!</span>
        <span class="ident">x</span> <span class="op">+</span><span class="op">=</span> <span class="ident">i</span>;
    }
};</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aconst%20_%3A%20i32%20%3D%20%7B%0A%20%20%20%20let%20mut%20x%20%3D%200%3B%0A%0A%20%20%20%20for%20i%20in%200..4%20%7B%20%2F%2F%20error!%0A%20%20%20%20%20%20%20%20x%20%2B%3D%20i%3B%0A%20%20%20%20%7D%0A%7D%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>At the moment, <code>for</code> loops, <code>.await</code>, and the <code>Try</code> operator (<code>?</code>) are forbidden
inside a <code>const</code>, <code>static</code>, or <code>const fn</code>.</p>
<p>This may be allowed at some point in the future, but the implementation is not
yet complete. See the tracking issues for <a href="https://github.com/rust-lang/rust/issues/69431"><code>async</code></a> and <a href="https://github.com/rust-lang/rust/issues/74935"><code>?</code></a> in <code>const fn</code>, and
(to support <code>for</code> loops in <code>const fn</code>) the tracking issues for <a href="https://github.com/rust-lang/rust/issues/67792"><code>impl const Trait for Ty</code></a> and <a href="https://github.com/rust-lang/rust/issues/57349"><code>&amp;mut T</code></a> in <code>const fn</code>.</p>
</div>
<div class="error-described"><h2 id="E0745" class="section-header"><a href="#E0745">E0745</a></h2>
<p>The address of temporary value was taken.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">temp_address</span>() {
    <span class="kw">let</span> <span class="ident">ptr</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">raw</span> <span class="kw">const</span> <span class="number">2</span>; <span class="comment">// error!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(raw_ref_op)%5D%0Afn%20main()%20%7B%0Afn%20temp_address()%20%7B%0A%20%20%20%20let%20ptr%20%3D%20%26raw%20const%202%3B%20%2F%2F%20error!%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>In this example, <code>2</code> is destroyed right after the assignment, which means that
<code>ptr</code> now points to an unavailable location.</p>
<p>To avoid this error, first bind the temporary to a named local variable:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">temp_address</span>() {
    <span class="kw">let</span> <span class="ident">val</span> <span class="op">=</span> <span class="number">2</span>;
    <span class="kw">let</span> <span class="ident">ptr</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">raw</span> <span class="kw">const</span> <span class="ident">val</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(raw_ref_op)%5D%0Afn%20main()%20%7B%0Afn%20temp_address()%20%7B%0A%20%20%20%20let%20val%20%3D%202%3B%0A%20%20%20%20let%20ptr%20%3D%20%26raw%20const%20val%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0746" class="section-header"><a href="#E0746">E0746</a></h2>
<p>An unboxed trait object was used as a return value.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">T</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>);
}
<span class="kw">struct</span> <span class="ident">S</span>(<span class="ident">usize</span>);
<span class="kw">impl</span> <span class="ident">T</span> <span class="kw">for</span> <span class="ident">S</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}
}

<span class="comment">// Having the trait `T` as return type is invalid because</span>
<span class="comment">// unboxed trait objects do not have a statically known size:</span>
<span class="kw">fn</span> <span class="ident">foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">dyn</span> <span class="ident">T</span> { <span class="comment">// error!</span>
    <span class="ident">S</span>(<span class="number">42</span>)
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20T%20%7B%0A%20%20%20%20fn%20bar(%26self)%3B%0A%7D%0Astruct%20S(usize)%3B%0Aimpl%20T%20for%20S%20%7B%0A%20%20%20%20fn%20bar(%26self)%20%7B%7D%0A%7D%0A%0A%2F%2F%20Having%20the%20trait%20%60T%60%20as%20return%20type%20is%20invalid%20because%0A%2F%2F%20unboxed%20trait%20objects%20do%20not%20have%20a%20statically%20known%20size%3A%0Afn%20foo()%20-%3E%20dyn%20T%20%7B%20%2F%2F%20error!%0A%20%20%20%20S(42)%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Return types cannot be <code>dyn Trait</code>s as they must be <code>Sized</code>.</p>
<p>To avoid the error there are a couple of options.</p>
<p>If there is a single type involved, you can use <a href="https://doc.rust-lang.org/book/ch10-02-traits.html#returning-types-that-implement-traits"><code>impl Trait</code></a>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="comment">// The compiler will select `S(usize)` as the materialized return type of this</span>
<span class="comment">// function, but callers will only know that the return type implements `T`.</span>
<span class="kw">fn</span> <span class="ident">foo</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="kw">impl</span> <span class="ident">T</span> { <span class="comment">// ok!</span>
    <span class="ident">S</span>(<span class="number">42</span>)
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20T%20%7B%0A%20%20%20%20fn%20bar(%26self)%3B%0A%7D%0Astruct%20S(usize)%3B%0Aimpl%20T%20for%20S%20%7B%0A%20%20%20%20fn%20bar(%26self)%20%7B%7D%0A%7D%0A%2F%2F%20The%20compiler%20will%20select%20%60S(usize)%60%20as%20the%20materialized%20return%20type%20of%20this%0A%2F%2F%20function%2C%20but%20callers%20will%20only%20know%20that%20the%20return%20type%20implements%20%60T%60.%0Afn%20foo()%20-%3E%20impl%20T%20%7B%20%2F%2F%20ok!%0A%20%20%20%20S(42)%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>If there are multiple types involved, the only way you care to interact with
them is through the trait’s interface, and having to rely on dynamic dispatch
is acceptable, then you can use <a href="https://doc.rust-lang.org/book/ch17-02-trait-objects.html#using-trait-objects-that-allow-for-values-of-different-types">trait objects</a> with <code>Box</code>, or other container
types like <code>Rc</code> or <code>Arc</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">O</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">str</span>);
<span class="kw">impl</span> <span class="ident">T</span> <span class="kw">for</span> <span class="ident">O</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {}
}

<span class="comment">// This now returns a &quot;trait object&quot; and callers are only be able to access</span>
<span class="comment">// associated items from `T`.</span>
<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="ident">bool</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">dyn</span> <span class="ident">T</span><span class="op">&gt;</span> { <span class="comment">// ok!</span>
    <span class="kw">if</span> <span class="ident">x</span> {
        <span class="ident">Box</span>::<span class="ident">new</span>(<span class="ident">S</span>(<span class="number">42</span>))
    } <span class="kw">else</span> {
        <span class="ident">Box</span>::<span class="ident">new</span>(<span class="ident">O</span>(<span class="string">&quot;val&quot;</span>))
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20T%20%7B%0A%20%20%20%20fn%20bar(%26self)%3B%0A%7D%0Astruct%20S(usize)%3B%0Aimpl%20T%20for%20S%20%7B%0A%20%20%20%20fn%20bar(%26self)%20%7B%7D%0A%7D%0Astruct%20O(%26'static%20str)%3B%0Aimpl%20T%20for%20O%20%7B%0A%20%20%20%20fn%20bar(%26self)%20%7B%7D%0A%7D%0A%0A%2F%2F%20This%20now%20returns%20a%20%22trait%20object%22%20and%20callers%20are%20only%20be%20able%20to%20access%0A%2F%2F%20associated%20items%20from%20%60T%60.%0Afn%20foo(x%3A%20bool)%20-%3E%20Box%3Cdyn%20T%3E%20%7B%20%2F%2F%20ok!%0A%20%20%20%20if%20x%20%7B%0A%20%20%20%20%20%20%20%20Box%3A%3Anew(S(42))%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20Box%3A%3Anew(O(%22val%22))%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Finally, if you wish to still be able to access the original type, you can
create a new <code>enum</code> with a variant for each type:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">enum</span> <span class="ident">E</span> {
    <span class="ident">S</span>(<span class="ident">S</span>),
    <span class="ident">O</span>(<span class="ident">O</span>),
}

<span class="comment">// The caller can access the original types directly, but it needs to match on</span>
<span class="comment">// the returned `enum E`.</span>
<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="ident">bool</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">E</span> {
    <span class="kw">if</span> <span class="ident">x</span> {
        <span class="ident">E</span>::<span class="ident">S</span>(<span class="ident">S</span>(<span class="number">42</span>))
    } <span class="kw">else</span> {
        <span class="ident">E</span>::<span class="ident">O</span>(<span class="ident">O</span>(<span class="string">&quot;val&quot;</span>))
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20T%20%7B%0A%20%20%20%20fn%20bar(%26self)%3B%0A%7D%0Astruct%20S(usize)%3B%0Aimpl%20T%20for%20S%20%7B%0A%20%20%20%20fn%20bar(%26self)%20%7B%7D%0A%7D%0Astruct%20O(%26'static%20str)%3B%0Aimpl%20T%20for%20O%20%7B%0A%20%20%20%20fn%20bar(%26self)%20%7B%7D%0A%7D%0Aenum%20E%20%7B%0A%20%20%20%20S(S)%2C%0A%20%20%20%20O(O)%2C%0A%7D%0A%0A%2F%2F%20The%20caller%20can%20access%20the%20original%20types%20directly%2C%20but%20it%20needs%20to%20match%20on%0A%2F%2F%20the%20returned%20%60enum%20E%60.%0Afn%20foo(x%3A%20bool)%20-%3E%20E%20%7B%0A%20%20%20%20if%20x%20%7B%0A%20%20%20%20%20%20%20%20E%3A%3AS(S(42))%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20E%3A%3AO(O(%22val%22))%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>You can even implement the <code>trait</code> on the returned <code>enum</code> so the callers
<em>don’t</em> have to match on the returned value to invoke the associated items:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">impl</span> <span class="ident">T</span> <span class="kw">for</span> <span class="ident">E</span> {
    <span class="kw">fn</span> <span class="ident">bar</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) {
        <span class="kw">match</span> <span class="self">self</span> {
            <span class="ident">E</span>::<span class="ident">S</span>(<span class="ident">s</span>) <span class="op">=</span><span class="op">&gt;</span> <span class="ident">s</span>.<span class="ident">bar</span>(),
            <span class="ident">E</span>::<span class="ident">O</span>(<span class="ident">o</span>) <span class="op">=</span><span class="op">&gt;</span> <span class="ident">o</span>.<span class="ident">bar</span>(),
        }
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20T%20%7B%0A%20%20%20%20fn%20bar(%26self)%3B%0A%7D%0Astruct%20S(usize)%3B%0Aimpl%20T%20for%20S%20%7B%0A%20%20%20%20fn%20bar(%26self)%20%7B%7D%0A%7D%0Astruct%20O(%26'static%20str)%3B%0Aimpl%20T%20for%20O%20%7B%0A%20%20%20%20fn%20bar(%26self)%20%7B%7D%0A%7D%0Aenum%20E%20%7B%0A%20%20%20%20S(S)%2C%0A%20%20%20%20O(O)%2C%0A%7D%0Aimpl%20T%20for%20E%20%7B%0A%20%20%20%20fn%20bar(%26self)%20%7B%0A%20%20%20%20%20%20%20%20match%20self%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20E%3A%3AS(s)%20%3D%3E%20s.bar()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20E%3A%3AO(o)%20%3D%3E%20o.bar()%2C%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>If you decide to use trait objects, be aware that these rely on
<a href="https://doc.rust-lang.org/book/ch17-02-trait-objects.html#trait-objects-perform-dynamic-dispatch">dynamic dispatch</a>, which has performance implications, as the compiler needs
to emit code that will figure out which method to call <em>at runtime</em> instead of
during compilation. Using trait objects we are trading flexibility for
performance.</p>
</div>
<div class="error-described"><h2 id="E0747" class="section-header"><a href="#E0747">E0747</a></h2>
<p>Generic arguments were not provided in the same order as the corresponding
generic parameters are declared.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">S</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="ident">T</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">T</span>);

<span class="kw">type</span> <span class="ident">X</span> <span class="op">=</span> <span class="ident">S</span><span class="op">&lt;</span>(), <span class="lifetime">&#39;static</span><span class="op">&gt;</span>; <span class="comment">// error: the type argument is provided before the</span>
                         <span class="comment">// lifetime argument</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20S%3C'a%2C%20T%3E(%26'a%20T)%3B%0A%0Atype%20X%20%3D%20S%3C()%2C%20'static%3E%3B%20%2F%2F%20error%3A%20the%20type%20argument%20is%20provided%20before%20the%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20lifetime%20argument%0A%7D&amp;edition=2015">Run</a></div>
<p>The argument order should be changed to match the parameter declaration
order, as in the following:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">struct</span> <span class="ident">S</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="ident">T</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">T</span>);

<span class="kw">type</span> <span class="ident">X</span> <span class="op">=</span> <span class="ident">S</span><span class="op">&lt;</span><span class="lifetime">&#39;static</span>, ()<span class="op">&gt;</span>; <span class="comment">// ok</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20S%3C'a%2C%20T%3E(%26'a%20T)%3B%0A%0Atype%20X%20%3D%20S%3C'static%2C%20()%3E%3B%20%2F%2F%20ok%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0748" class="section-header"><a href="#E0748">E0748</a></h2>
<p>A raw string isn’t correctly terminated because the trailing <code>#</code> count doesn’t
match its leading <code>#</code> count.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">dolphins</span> <span class="op">=</span> <span class="string">r##&quot;Dolphins!&quot;#; // error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=let%20dolphins%20%3D%20r%23%23%22Dolphins!%22%23%3B%20%2F%2F%20error!&amp;edition=2015">Run</a></div>
<p>To terminate a raw string, you have to have the same number of <code>#</code> at the end
as at the beginning. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">dolphins</span> <span class="op">=</span> <span class="string">r#&quot;Dolphins!&quot;#</span>; <span class="comment">// One `#` at the beginning, one at the end so</span>
                               <span class="comment">// all good!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20dolphins%20%3D%20r%23%22Dolphins!%22%23%3B%20%2F%2F%20One%20%60%23%60%20at%20the%20beginning%2C%20one%20at%20the%20end%20so%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20all%20good!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0749" class="section-header"><a href="#E0749">E0749</a></h2>
<p>An item was added on a negative impl.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">MyTrait</span> {
    <span class="kw">type</span> <span class="ident">Foo</span>;
}

<span class="kw">impl</span> <span class="op">!</span><span class="ident">MyTrait</span> <span class="kw">for</span> <span class="ident">u32</span> {
    <span class="kw">type</span> <span class="ident">Foo</span> <span class="op">=</span> <span class="ident">i32</span>; <span class="comment">// error!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(negative_impls)%5D%0Afn%20main()%20%7B%0Atrait%20MyTrait%20%7B%0A%20%20%20%20type%20Foo%3B%0A%7D%0A%0Aimpl%20!MyTrait%20for%20u32%20%7B%0A%20%20%20%20type%20Foo%20%3D%20i32%3B%20%2F%2F%20error!%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Negative impls are not allowed to have any items. Negative impls declare that a
trait is <strong>not</strong> implemented (and never will be) and hence there is no need to
specify the values for trait methods or other items.</p>
<p>One way to fix this is to remove the items in negative impls:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">trait</span> <span class="ident">MyTrait</span> {
    <span class="kw">type</span> <span class="ident">Foo</span>;
}

<span class="kw">impl</span> <span class="op">!</span><span class="ident">MyTrait</span> <span class="kw">for</span> <span class="ident">u32</span> {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(negative_impls)%5D%0Afn%20main()%20%7B%0Atrait%20MyTrait%20%7B%0A%20%20%20%20type%20Foo%3B%0A%7D%0A%0Aimpl%20!MyTrait%20for%20u32%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0750" class="section-header"><a href="#E0750">E0750</a></h2>
<p>A negative impl was made default impl.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">MyTrait</span> {
    <span class="kw">type</span> <span class="ident">Foo</span>;
}

<span class="ident">default</span> <span class="kw">impl</span> <span class="op">!</span><span class="ident">MyTrait</span> <span class="kw">for</span> <span class="ident">u32</span> {} <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(negative_impls)%5D%0A%23!%5Bfeature(specialization)%5D%0Atrait%20MyTrait%20%7B%0A%20%20%20%20type%20Foo%3B%0A%7D%0A%0Adefault%20impl%20!MyTrait%20for%20u32%20%7B%7D%20%2F%2F%20error!%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Negative impls cannot be default impls. A default impl supplies default values
for the items within to be used by other impls, whereas a negative impl declares
that there are no other impls. Combining it does not make sense.</p>
</div>
<div class="error-described"><h2 id="E0751" class="section-header"><a href="#E0751">E0751</a></h2>
<p>There are both a positive and negative trait implementation for the same type.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">MyTrait</span> {}
<span class="kw">impl</span> <span class="ident">MyTrait</span> <span class="kw">for</span> <span class="ident">i32</span> { }
<span class="kw">impl</span> <span class="op">!</span><span class="ident">MyTrait</span> <span class="kw">for</span> <span class="ident">i32</span> { } <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20MyTrait%20%7B%7D%0Aimpl%20MyTrait%20for%20i32%20%7B%20%7D%0Aimpl%20!MyTrait%20for%20i32%20%7B%20%7D%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>Negative implementations are a promise that the trait will never be implemented
for the given types. Therefore, both cannot exists at the same time.</p>
</div>
<div class="error-described"><h2 id="E0752" class="section-header"><a href="#E0752">E0752</a></h2>
<p>The entry point of the program was marked as <code>async</code>.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="ident">async</span> <span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), ()<span class="op">&gt;</span> { <span class="comment">// error!</span>
    <span class="prelude-val">Ok</span>(())
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Aasync%20fn%20main()%20-%3E%20Result%3C()%2C%20()%3E%20%7B%20%2F%2F%20error!%0A%20%20%20%20Ok(())%0A%7D&amp;edition=2015">Run</a></div>
<p><code>fn main()</code> or the specified start function is not allowed to be <code>async</code>. Not
having a correct async runtime library setup may cause this error. To fix it,
declare the entry point without <code>async</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), ()<span class="op">&gt;</span> { <span class="comment">// ok!</span>
    <span class="prelude-val">Ok</span>(())
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20-%3E%20Result%3C()%2C%20()%3E%20%7B%20%2F%2F%20ok!%0A%20%20%20%20Ok(())%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0753" class="section-header"><a href="#E0753">E0753</a></h2>
<p>An inner doc comment was used in an invalid context.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span>() {}
<span class="doccomment">//! foo</span>
<span class="comment">// ^ error!</span>
<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20foo()%20%7B%7D%0A%2F%2F!%20foo%0A%2F%2F%20%5E%20error!%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>Inner document can only be used before items. For example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="doccomment">//! A working comment applied to the module!</span>
<span class="kw">fn</span> <span class="ident">foo</span>() {
    <span class="doccomment">//! Another working comment!</span>
}
<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F!%20A%20working%20comment%20applied%20to%20the%20module!%0Afn%20foo()%20%7B%0A%20%20%20%20%2F%2F!%20Another%20working%20comment!%0A%7D%0Afn%20main()%20%7B%7D&amp;edition=2015">Run</a></div>
<p>In case you want to document the item following the doc comment, you might want
to use outer doc comment:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="doccomment">/// I am an outer doc comment</span>
<span class="attribute">#[<span class="ident">doc</span> <span class="op">=</span> <span class="string">&quot;I am also an outer doc comment!&quot;</span>]</span>
<span class="kw">fn</span> <span class="ident">foo</span>() {
    <span class="comment">// ...</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%2F%2F%2F%20I%20am%20an%20outer%20doc%20comment%0A%23%5Bdoc%20%3D%20%22I%20am%20also%20an%20outer%20doc%20comment!%22%5D%0Afn%20foo()%20%7B%0A%20%20%20%20%2F%2F%20...%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0754" class="section-header"><a href="#E0754">E0754</a></h2>
<p>A non-ASCII identifier was used in an invalid context.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">

<span class="kw">mod</span> <span class="ident">řųśť</span>; <span class="comment">// error!</span>

<span class="attribute">#[<span class="ident">no_mangle</span>]</span>
<span class="kw">fn</span> <span class="ident">řųśť</span>() {} <span class="comment">// error!</span>

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(non_ascii_idents)%5D%0A%0Amod%20%C5%99%C5%B3%C5%9B%C5%A5%3B%20%2F%2F%20error!%0A%0A%23%5Bno_mangle%5D%0Afn%20%C5%99%C5%B3%C5%9B%C5%A5()%20%7B%7D%20%2F%2F%20error!%0A%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Non-ASCII can be used as module names if it is inlined or if a <code>#[path]</code>
attribute is specified. For example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">

<span class="kw">mod</span> <span class="ident">řųśť</span> { <span class="comment">// ok!</span>
    <span class="kw">const</span> <span class="ident">IS_GREAT</span>: <span class="ident">bool</span> <span class="op">=</span> <span class="bool-val">true</span>;
}

<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(non_ascii_idents)%5D%0A%0Amod%20%C5%99%C5%B3%C5%9B%C5%A5%20%7B%20%2F%2F%20ok!%0A%20%20%20%20const%20IS_GREAT%3A%20bool%20%3D%20true%3B%0A%7D%0A%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0755" class="section-header"><a href="#E0755">E0755</a></h2>
<p>The <code>ffi_pure</code> attribute was used on a non-foreign function.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">ffi_pure</span>)]</span>

<span class="attribute">#[<span class="ident">ffi_pure</span>]</span> <span class="comment">// error!</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(ffi_pure)%5D%0A%0A%23%5Bffi_pure%5D%20%2F%2F%20error!%0Apub%20fn%20foo()%20%7B%7D%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>The <code>ffi_pure</code> attribute can only be used on foreign functions which do not have
side effects or infinite loops:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">ffi_pure</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {
    <span class="attribute">#[<span class="ident">ffi_pure</span>]</span> <span class="comment">// ok!</span>
    <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">strlen</span>(<span class="ident">s</span>: <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">i8</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">isize</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(ffi_pure)%5D%0A%0Aextern%20%22C%22%20%7B%0A%20%20%20%20%23%5Bffi_pure%5D%20%2F%2F%20ok!%0A%20%20%20%20pub%20fn%20strlen(s%3A%20*const%20i8)%20-%3E%20isize%3B%0A%7D%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>You can find more information about it in the <a href="https://doc.rust-lang.org/unstable-book/language-features/ffi-pure.html">unstable Rust Book</a>.</p>
</div>
<div class="error-described"><h2 id="E0756" class="section-header"><a href="#E0756">E0756</a></h2>
<p>The <code>ffi_const</code> attribute was used on something other than a foreign function
declaration.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">ffi_const</span>)]</span>

<span class="attribute">#[<span class="ident">ffi_const</span>]</span> <span class="comment">// error!</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">foo</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(ffi_const)%5D%0A%0A%23%5Bffi_const%5D%20%2F%2F%20error!%0Apub%20fn%20foo()%20%7B%7D%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>The <code>ffi_const</code> attribute can only be used on foreign function declarations
which have no side effects except for their return value:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">ffi_const</span>)]</span>

<span class="kw">extern</span> <span class="string">&quot;C&quot;</span> {
    <span class="attribute">#[<span class="ident">ffi_const</span>]</span> <span class="comment">// ok!</span>
    <span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">strlen</span>(<span class="ident">s</span>: <span class="kw-2">*</span><span class="kw">const</span> <span class="ident">i8</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i32</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(ffi_const)%5D%0A%0Aextern%20%22C%22%20%7B%0A%20%20%20%20%23%5Bffi_const%5D%20%2F%2F%20ok!%0A%20%20%20%20pub%20fn%20strlen(s%3A%20*const%20i8)%20-%3E%20i32%3B%0A%7D%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>You can get more information about it in the <a href="https://doc.rust-lang.org/nightly/unstable-book/language-features/ffi-const.html">unstable Rust Book</a>.</p>
</div>
<div class="error-undescribed"><h2 id="E0757" class="section-header"><a href="#E0757">E0757</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0758" class="section-header"><a href="#E0758">E0758</a></h2>
<p>A multi-line (doc-)comment is unterminated.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="comment">/* I am not terminated!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%2F*%20I%20am%20not%20terminated!&amp;edition=2015">Run</a></div>
<p>The same goes for doc comments:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="doccomment">/*! I am not terminated!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%2F*!%20I%20am%20not%20terminated!&amp;edition=2015">Run</a></div>
<p>You need to end your multi-line comment with <code>*/</code> in order to fix this error:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="comment">/* I am terminated! */</span>
<span class="doccomment">/*! I am also terminated! */</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%2F*%20I%20am%20terminated!%20*%2F%0A%2F*!%20I%20am%20also%20terminated!%20*%2F%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0759" class="section-header"><a href="#E0759">E0759</a></h2>
<p>Return type involving a trait did not require <code>'static</code> lifetime.</p>
<p>Erroneous code examples:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">fmt</span>::<span class="ident">Debug</span>;

<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw">impl</span> <span class="ident">Debug</span> { <span class="comment">// error!</span>
    <span class="ident">x</span>
}

<span class="kw">fn</span> <span class="ident">bar</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">dyn</span> <span class="ident">Debug</span><span class="op">&gt;</span> { <span class="comment">// error!</span>
    <span class="ident">Box</span>::<span class="ident">new</span>(<span class="ident">x</span>)
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Afmt%3A%3ADebug%3B%0A%0Afn%20foo(x%3A%20%26i32)%20-%3E%20impl%20Debug%20%7B%20%2F%2F%20error!%0A%20%20%20%20x%0A%7D%0A%0Afn%20bar(x%3A%20%26i32)%20-%3E%20Box%3Cdyn%20Debug%3E%20%7B%20%2F%2F%20error!%0A%20%20%20%20Box%3A%3Anew(x)%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Add <code>'static</code> requirement to fix them:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw">impl</span> <span class="ident">Debug</span> <span class="op">+</span> <span class="lifetime">&#39;static</span> { <span class="comment">// ok!</span>
    <span class="ident">x</span>
}

<span class="kw">fn</span> <span class="ident">bar</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">dyn</span> <span class="ident">Debug</span> <span class="op">+</span> <span class="lifetime">&#39;static</span><span class="op">&gt;</span> { <span class="comment">// ok!</span>
    <span class="ident">Box</span>::<span class="ident">new</span>(<span class="ident">x</span>)
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Afmt%3A%3ADebug%3B%0Afn%20foo(x%3A%20%26i32)%20-%3E%20impl%20Debug%20%2B%20'static%20%7B%20%2F%2F%20ok!%0A%20%20%20%20x%0A%7D%0A%0Afn%20bar(x%3A%20%26i32)%20-%3E%20Box%3Cdyn%20Debug%20%2B%20'static%3E%20%7B%20%2F%2F%20ok!%0A%20%20%20%20Box%3A%3Anew(x)%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Both <a href="https://doc.rust-lang.org/book/ch17-02-trait-objects.html#using-trait-objects-that-allow-for-values-of-different-types"><code>dyn Trait</code></a> and <a href="https://doc.rust-lang.org/book/ch10-02-traits.html#returning-types-that-implement-traits"><code>impl Trait</code></a> in return types have an implicit
<code>'static</code> requirement, meaning that the value implementing them that is being
returned has to be either a <code>'static</code> borrow or an owned value.</p>
<p>In order to change the requirement from <code>'static</code> to be a lifetime derived from
its arguments, you can add an explicit bound, either to an anonymous lifetime
<code>'_</code> or some appropriate named lifetime.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw">impl</span> <span class="ident">Debug</span> <span class="op">+</span> <span class="lifetime">&#39;_</span> {
    <span class="ident">x</span>
}
<span class="kw">fn</span> <span class="ident">bar</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">dyn</span> <span class="ident">Debug</span> <span class="op">+</span> <span class="lifetime">&#39;_</span><span class="op">&gt;</span> {
    <span class="ident">Box</span>::<span class="ident">new</span>(<span class="ident">x</span>)
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Afmt%3A%3ADebug%3B%0Afn%20foo(x%3A%20%26i32)%20-%3E%20impl%20Debug%20%2B%20'_%20%7B%0A%20%20%20%20x%0A%7D%0Afn%20bar(x%3A%20%26i32)%20-%3E%20Box%3Cdyn%20Debug%20%2B%20'_%3E%20%7B%0A%20%20%20%20Box%3A%3Anew(x)%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>These are equivalent to the following explicit lifetime annotations:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw">impl</span> <span class="ident">Debug</span> <span class="op">+</span> <span class="lifetime">&#39;a</span> {
    <span class="ident">x</span>
}
<span class="kw">fn</span> <span class="ident">bar</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="ident">x</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">dyn</span> <span class="ident">Debug</span> <span class="op">+</span> <span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="ident">Box</span>::<span class="ident">new</span>(<span class="ident">x</span>)
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Afmt%3A%3ADebug%3B%0Afn%20foo%3C'a%3E(x%3A%20%26'a%20i32)%20-%3E%20impl%20Debug%20%2B%20'a%20%7B%0A%20%20%20%20x%0A%7D%0Afn%20bar%3C'a%3E(x%3A%20%26'a%20i32)%20-%3E%20Box%3Cdyn%20Debug%20%2B%20'a%3E%20%7B%0A%20%20%20%20Box%3A%3Anew(x)%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0760" class="section-header"><a href="#E0760">E0760</a></h2>
<p><code>async fn</code>/<code>impl trait</code> return type cannot contain a projection
or <code>Self</code> that references lifetimes from a parent scope.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">struct</span> <span class="ident">S</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>);

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">S</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="kw">async</span> <span class="kw">fn</span> <span class="ident">new</span>(<span class="ident">i</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span> {
        <span class="ident">S</span>(<span class="kw-2">&amp;</span><span class="number">22</span>)
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20S%3C'a%3E(%26'a%20i32)%3B%0A%0Aimpl%3C'a%3E%20S%3C'a%3E%20%7B%0A%20%20%20%20async%20fn%20new(i%3A%20%26'a%20i32)%20-%3E%20Self%20%7B%0A%20%20%20%20%20%20%20%20S(%2622)%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
<p>To fix this error we need to spell out <code>Self</code> to <code>S&lt;'a&gt;</code>:</p>

<div class='information'><div class='tooltip edition' data-edition="2018">ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered edition">
<span class="kw">struct</span> <span class="ident">S</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>);

<span class="kw">impl</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> <span class="ident">S</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
    <span class="kw">async</span> <span class="kw">fn</span> <span class="ident">new</span>(<span class="ident">i</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">i32</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">S</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span><span class="op">&gt;</span> {
        <span class="ident">S</span>(<span class="kw-2">&amp;</span><span class="number">22</span>)
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astruct%20S%3C'a%3E(%26'a%20i32)%3B%0A%0Aimpl%3C'a%3E%20S%3C'a%3E%20%7B%0A%20%20%20%20async%20fn%20new(i%3A%20%26'a%20i32)%20-%3E%20S%3C'a%3E%20%7B%0A%20%20%20%20%20%20%20%20S(%2622)%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
<p>This will be allowed at some point in the future,
but the implementation is not yet complete.
See the <a href="https://github.com/rust-lang/rust/issues/61949">issue-61949</a> for this limitation.</p>
</div>
<div class="error-described"><h2 id="E0761" class="section-header"><a href="#E0761">E0761</a></h2>
<p>Multiple candidate files were found for an out-of-line module.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="comment">// file: ambiguous_module/mod.rs</span>

<span class="kw">fn</span> <span class="ident">foo</span>() {}

<span class="comment">// file: ambiguous_module.rs</span>

<span class="kw">fn</span> <span class="ident">foo</span>() {}

<span class="comment">// file: lib.rs</span>

<span class="kw">mod</span> <span class="ident">ambiguous_module</span>; <span class="comment">// error: file for module `ambiguous_module`</span>
                      <span class="comment">// found at both ambiguous_module.rs and</span>
                      <span class="comment">// ambiguous_module.rs/mod.rs</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%2F%2F%20file%3A%20ambiguous_module%2Fmod.rs%0A%0Afn%20main()%20%7B%0Afn%20foo()%20%7B%7D%0A%0A%2F%2F%20file%3A%20ambiguous_module.rs%0A%0Afn%20foo()%20%7B%7D%0A%0A%2F%2F%20file%3A%20lib.rs%0A%0Amod%20ambiguous_module%3B%20%2F%2F%20error%3A%20file%20for%20module%20%60ambiguous_module%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20found%20at%20both%20ambiguous_module.rs%20and%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20ambiguous_module.rs%2Fmod.rs%0A%7D&amp;edition=2015">Run</a></div>
<p>Please remove this ambiguity by deleting/renaming one of the candidate files.</p>
</div>
<div class="error-described"><h2 id="E0762" class="section-header"><a href="#E0762">E0762</a></h2>
<p>A character literal wasn’t ended with a quote.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">static</span> <span class="ident">C</span>: <span class="ident">char</span> <span class="op">=</span> <span class="string">&#39;●; </span><span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=static%20C%3A%20char%20%3D%20'%E2%97%8F%3B%20%2F%2F%20error!&amp;edition=2015">Run</a></div>
<p>To fix this error, add the missing quote:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">static</span> <span class="ident">C</span>: <span class="ident">char</span> <span class="op">=</span> <span class="string">&#39;●&#39;</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Astatic%20C%3A%20char%20%3D%20'%E2%97%8F'%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0763" class="section-header"><a href="#E0763">E0763</a></h2>
<p>A byte constant wasn’t correctly ended.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">c</span> <span class="op">=</span> <span class="string">b&#39;a; </span><span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=let%20c%20%3D%20b'a%3B%20%2F%2F%20error!&amp;edition=2015">Run</a></div>
<p>To fix this error, add the missing quote:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">c</span> <span class="op">=</span> <span class="string">b&#39;a&#39;</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20c%20%3D%20b'a'%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0764" class="section-header"><a href="#E0764">E0764</a></h2>
<p>A mutable reference was used in a constant.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">const_fn</span>)]</span>
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">const_mut_refs</span>)]</span>

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">const</span> <span class="ident">OH_NO</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="kw-2">mut</span> <span class="ident">usize</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="number">1</span>; <span class="comment">// error!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(const_fn)%5D%0A%23!%5Bfeature(const_mut_refs)%5D%0A%0Afn%20main()%20%7B%0A%20%20%20%20const%20OH_NO%3A%20%26'static%20mut%20usize%20%3D%20%26mut%201%3B%20%2F%2F%20error!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>Mutable references (<code>&amp;mut</code>) can only be used in constant functions, not statics
or constants. This limitation exists to prevent the creation of constants that
have a mutable reference in their final value. If you had a constant of
<code>&amp;mut i32</code> type, you could modify the value through that reference, making the
constant essentially mutable.</p>
<p>While there could be a more fine-grained scheme in the future that allows
mutable references if they are not “leaked” to the final value, a more
conservative approach was chosen for now. <code>const fn</code> do not have this problem,
as the borrow checker will prevent the <code>const fn</code> from returning new mutable
references.</p>
<p>Remember: you cannot use a function call inside a constant or static. However,
you can totally use it in constant functions:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">const_fn</span>)]</span>
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">const_mut_refs</span>)]</span>

<span class="kw">const</span> <span class="kw">fn</span> <span class="ident">foo</span>(<span class="ident">x</span>: <span class="ident">usize</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">usize</span> {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">y</span> <span class="op">=</span> <span class="number">1</span>;
    <span class="kw">let</span> <span class="ident">z</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">y</span>;
    <span class="kw-2">*</span><span class="ident">z</span> <span class="op">+</span><span class="op">=</span> <span class="ident">x</span>;
    <span class="ident">y</span>
}

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="kw">const</span> <span class="ident">FOO</span>: <span class="ident">usize</span> <span class="op">=</span> <span class="ident">foo</span>(<span class="number">10</span>); <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(const_fn)%5D%0A%23!%5Bfeature(const_mut_refs)%5D%0A%0Aconst%20fn%20foo(x%3A%20usize)%20-%3E%20usize%20%7B%0A%20%20%20%20let%20mut%20y%20%3D%201%3B%0A%20%20%20%20let%20z%20%3D%20%26mut%20y%3B%0A%20%20%20%20*z%20%2B%3D%20x%3B%0A%20%20%20%20y%0A%7D%0A%0Afn%20main()%20%7B%0A%20%20%20%20const%20FOO%3A%20usize%20%3D%20foo(10)%3B%20%2F%2F%20ok!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0765" class="section-header"><a href="#E0765">E0765</a></h2>
<p>A double quote string (<code>&quot;</code>) was not terminated.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">s</span> <span class="op">=</span> <span class="string">&quot;; // error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=let%20s%20%3D%20%22%3B%20%2F%2F%20error!&amp;edition=2015">Run</a></div>
<p>To fix this error, add the missing double quote at the end of the string:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">s</span> <span class="op">=</span> <span class="string">&quot;&quot;</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20s%20%3D%20%22%22%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0766" class="section-header"><a href="#E0766">E0766</a></h2>
<p>A double quote byte string (<code>b&quot;</code>) was not terminated.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">s</span> <span class="op">=</span> <span class="string">b&quot;; // error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=let%20s%20%3D%20b%22%3B%20%2F%2F%20error!&amp;edition=2015">Run</a></div>
<p>To fix this error, add the missing double quote at the end of the string:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">s</span> <span class="op">=</span> <span class="string">b&quot;&quot;</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20s%20%3D%20b%22%22%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0767" class="section-header"><a href="#E0767">E0767</a></h2>
<p>An unreachable label was used.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="lifetime">&#39;a</span>: <span class="kw">loop</span> {
    <span class="op">|</span><span class="op">|</span> {
        <span class="kw">loop</span> { <span class="kw">break</span> <span class="lifetime">&#39;a</span> } <span class="comment">// error: use of unreachable label `&#39;a`</span>
    };
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A'a%3A%20loop%20%7B%0A%20%20%20%20%7C%7C%20%7B%0A%20%20%20%20%20%20%20%20loop%20%7B%20break%20'a%20%7D%20%2F%2F%20error%3A%20use%20of%20unreachable%20label%20%60'a%60%0A%20%20%20%20%7D%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Ensure that the label is within scope. Labels are not reachable through
functions, closures, async blocks or modules. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="lifetime">&#39;a</span>: <span class="kw">loop</span> {
    <span class="kw">break</span> <span class="lifetime">&#39;a</span>; <span class="comment">// ok!</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A'a%3A%20loop%20%7B%0A%20%20%20%20break%20'a%3B%20%2F%2F%20ok!%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0768" class="section-header"><a href="#E0768">E0768</a></h2>
<p>A number in a non-decimal base has no digits.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">let</span> <span class="ident">s</span>: <span class="ident">i32</span> <span class="op">=</span> <span class="number">0b</span>; <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20s%3A%20i32%20%3D%200b%3B%20%2F%2F%20error!%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, add the missing digits:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">s</span>: <span class="ident">i32</span> <span class="op">=</span> <span class="number">0b1</span>; <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Alet%20s%3A%20i32%20%3D%200b1%3B%20%2F%2F%20ok!%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0769" class="section-header"><a href="#E0769">E0769</a></h2>
<p>A tuple struct or tuple variant was used in a pattern as if it were a struct or
struct variant.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">enum</span> <span class="ident">E</span> {
    <span class="ident">A</span>(<span class="ident">i32</span>),
}

<span class="kw">let</span> <span class="ident">e</span> <span class="op">=</span> <span class="ident">E</span>::<span class="ident">A</span>(<span class="number">42</span>);

<span class="kw">match</span> <span class="ident">e</span> {
    <span class="ident">E</span>::<span class="ident">A</span> { <span class="ident">number</span> } <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">// error!</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">number</span>);
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20E%20%7B%0A%20%20%20%20A(i32)%2C%0A%7D%0A%0Alet%20e%20%3D%20E%3A%3AA(42)%3B%0A%0Amatch%20e%20%7B%0A%20%20%20%20E%3A%3AA%20%7B%20number%20%7D%20%3D%3E%20%7B%20%2F%2F%20error!%0A%20%20%20%20%20%20%20%20println!(%22%7B%7D%22%2C%20number)%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>To fix this error, you can use the tuple pattern:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">match</span> <span class="ident">e</span> {
    <span class="ident">E</span>::<span class="ident">A</span>(<span class="ident">number</span>) <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">// ok!</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">number</span>);
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20E%20%7B%0A%20%20%20%20A(i32)%2C%0A%7D%0Alet%20e%20%3D%20E%3A%3AA(42)%3B%0Amatch%20e%20%7B%0A%20%20%20%20E%3A%3AA(number)%20%3D%3E%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20println!(%22%7B%7D%22%2C%20number)%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>Alternatively, you can also use the struct pattern by using the correct field
names and binding them to new identifiers:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">match</span> <span class="ident">e</span> {
    <span class="ident">E</span>::<span class="ident">A</span> { <span class="number">0</span>: <span class="ident">number</span> } <span class="op">=</span><span class="op">&gt;</span> { <span class="comment">// ok!</span>
        <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">number</span>);
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Aenum%20E%20%7B%0A%20%20%20%20A(i32)%2C%0A%7D%0Alet%20e%20%3D%20E%3A%3AA(42)%3B%0Amatch%20e%20%7B%0A%20%20%20%20E%3A%3AA%20%7B%200%3A%20number%20%7D%20%3D%3E%20%7B%20%2F%2F%20ok!%0A%20%20%20%20%20%20%20%20println!(%22%7B%7D%22%2C%20number)%3B%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0770" class="section-header"><a href="#E0770">E0770</a></h2>
<p>The type of a const parameter references other generic parameters.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">const_generics</span>)]</span>
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="kw">const</span> <span class="ident">N</span>: <span class="ident">T</span><span class="op">&gt;</span>() {} <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(const_generics)%5D%0Afn%20main()%20%7B%0Afn%20foo%3CT%2C%20const%20N%3A%20T%3E()%20%7B%7D%20%2F%2F%20error!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>To fix this error, use a concrete type for the const parameter:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">fn</span> <span class="ident">foo</span><span class="op">&lt;</span><span class="ident">T</span>, <span class="kw">const</span> <span class="ident">N</span>: <span class="ident">usize</span><span class="op">&gt;</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Afn%20foo%3CT%2C%20const%20N%3A%20usize%3E()%20%7B%7D%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0771" class="section-header"><a href="#E0771">E0771</a></h2>
<p>A non-<code>'static</code> lifetime was used in a const generic. This is currently not
allowed.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">const_generics</span>)]</span>

<span class="kw">fn</span> <span class="ident">function_with_str</span><span class="op">&lt;</span><span class="lifetime">&#39;a</span>, <span class="kw">const</span> <span class="ident">STRING</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a</span> <span class="ident">str</span><span class="op">&gt;</span>() {} <span class="comment">// error!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(const_generics)%5D%0A%0Afn%20main()%20%7B%0Afn%20function_with_str%3C'a%2C%20const%20STRING%3A%20%26'a%20str%3E()%20%7B%7D%20%2F%2F%20error!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>To fix this issue, the lifetime in the const generic need to be changed to
<code>'static</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">const_generics</span>)]</span>

<span class="kw">fn</span> <span class="ident">function_with_str</span><span class="op">&lt;</span><span class="kw">const</span> <span class="ident">STRING</span>: <span class="kw-2">&amp;</span><span class="lifetime">&#39;static</span> <span class="ident">str</span><span class="op">&gt;</span>() {} <span class="comment">// ok!</span></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(const_generics)%5D%0A%0Afn%20main()%20%7B%0Afn%20function_with_str%3Cconst%20STRING%3A%20%26'static%20str%3E()%20%7B%7D%20%2F%2F%20ok!%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>For more information, see <a href="https://github.com/rust-lang/rust/issues/74052">GitHub issue #74052</a>.</p>
</div>
<div class="error-undescribed"><h2 id="E0772" class="section-header"><a href="#E0772">E0772</a></h2>
<p>No description.</p>
</div>
<div class="error-described"><h2 id="E0773" class="section-header"><a href="#E0773">E0773</a></h2>
<p>A builtin-macro was defined more than once.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">decl_macro</span>)]</span>
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">rustc_attrs</span>)]</span>

<span class="attribute">#[<span class="ident">rustc_builtin_macro</span>]</span>
<span class="kw">pub</span> <span class="kw">macro</span> <span class="ident">test</span>(<span class="macro-nonterminal">$</span><span class="macro-nonterminal">item</span>:<span class="ident">item</span>) {
    <span class="comment">/* compiler built-in */</span>
}

<span class="kw">mod</span> <span class="ident">inner</span> {
    <span class="attribute">#[<span class="ident">rustc_builtin_macro</span>]</span>
    <span class="kw">pub</span> <span class="kw">macro</span> <span class="ident">test</span>(<span class="macro-nonterminal">$</span><span class="macro-nonterminal">item</span>:<span class="ident">item</span>) {
        <span class="comment">/* compiler built-in */</span>
    }
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(decl_macro)%5D%0A%23!%5Bfeature(rustc_attrs)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brustc_builtin_macro%5D%0Apub%20macro%20test(%24item%3Aitem)%20%7B%0A%20%20%20%20%2F*%20compiler%20built-in%20*%2F%0A%7D%0A%0Amod%20inner%20%7B%0A%20%20%20%20%23%5Brustc_builtin_macro%5D%0A%20%20%20%20pub%20macro%20test(%24item%3Aitem)%20%7B%0A%20%20%20%20%20%20%20%20%2F*%20compiler%20built-in%20*%2F%0A%20%20%20%20%7D%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>To fix the issue, remove the duplicate declaration:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">decl_macro</span>)]</span>
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">rustc_attrs</span>)]</span>

<span class="attribute">#[<span class="ident">rustc_builtin_macro</span>]</span>
<span class="kw">pub</span> <span class="kw">macro</span> <span class="ident">test</span>(<span class="macro-nonterminal">$</span><span class="macro-nonterminal">item</span>:<span class="ident">item</span>) {
    <span class="comment">/* compiler built-in */</span>
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(decl_macro)%5D%0A%23!%5Bfeature(rustc_attrs)%5D%0A%0Afn%20main()%20%7B%0A%23%5Brustc_builtin_macro%5D%0Apub%20macro%20test(%24item%3Aitem)%20%7B%0A%20%20%20%20%2F*%20compiler%20built-in%20*%2F%0A%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>In very rare edge cases, this may happen when loading <code>core</code> or <code>std</code> twice,
once with <code>check</code> metadata and once with <code>build</code> metadata.
For more information, see <a href="https://github.com/rust-lang/rust/pull/75176#issuecomment-683234468">#75176</a>.</p>
</div>
<div class="error-described"><h2 id="E0774" class="section-header"><a href="#E0774">E0774</a></h2>
<p><code>derive</code> was applied on something which is not a struct, a union or an enum.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="kw">trait</span> <span class="ident">Foo</span> {
    <span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>)]</span> <span class="comment">// error!</span>
    <span class="kw">type</span> <span class="ident">Bar</span>;
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Atrait%20Foo%20%7B%0A%20%20%20%20%23%5Bderive(Clone)%5D%20%2F%2F%20error!%0A%20%20%20%20type%20Bar%3B%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>As said above, the <code>derive</code> attribute is only allowed on structs, unions or
enums:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">struct</span> <span class="ident">Bar</span> {
    <span class="ident">field</span>: <span class="ident">u32</span>,
}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bderive(Clone)%5D%20%2F%2F%20ok!%0Astruct%20Bar%20%7B%0A%20%20%20%20field%3A%20u32%2C%0A%7D%0A%7D&amp;edition=2015">Run</a></div>
<p>You can find more information about <code>derive</code> in the <a href="https://doc.rust-lang.org/book/appendix-03-derivable-traits.html">Rust Book</a>.</p>
</div>
<div class="error-described"><h2 id="E0775" class="section-header"><a href="#E0775">E0775</a></h2>
<p><code>#[cmse_nonsecure_entry]</code> is only valid for targets with the TrustZone-M
extension.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">cmse_nonsecure_entry</span>)]</span>

<span class="attribute">#[<span class="ident">cmse_nonsecure_entry</span>]</span>
<span class="kw">pub</span> <span class="kw">extern</span> <span class="string">&quot;C&quot;</span> <span class="kw">fn</span> <span class="ident">entry_function</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(cmse_nonsecure_entry)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bcmse_nonsecure_entry%5D%0Apub%20extern%20%22C%22%20fn%20entry_function()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>To fix this error, compile your code for a Rust target that supports the
TrustZone-M extension. The current possible targets are:</p>
<ul>
<li><code>thumbv8m.main-none-eabi</code></li>
<li><code>thumbv8m.main-none-eabihf</code></li>
<li><code>thumbv8m.base-none-eabi</code></li>
</ul>
</div>
<div class="error-described"><h2 id="E0776" class="section-header"><a href="#E0776">E0776</a></h2>
<p><code>#[cmse_nonsecure_entry]</code> functions require a C ABI</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">cmse_nonsecure_entry</span>)]</span>

<span class="attribute">#[<span class="ident">no_mangle</span>]</span>
<span class="attribute">#[<span class="ident">cmse_nonsecure_entry</span>]</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">entry_function</span>(<span class="ident">input</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">u32</span><span class="op">&gt;</span>) {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(cmse_nonsecure_entry)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bno_mangle%5D%0A%23%5Bcmse_nonsecure_entry%5D%0Apub%20fn%20entry_function(input%3A%20Vec%3Cu32%3E)%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>To fix this error, declare your entry function with a C ABI, using <code>extern &quot;C&quot;</code>.</p>
</div>
<div class="error-described"><h2 id="E0777" class="section-header"><a href="#E0777">E0777</a></h2>
<p>A literal value was used inside <code>#[derive]</code>.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#[<span class="ident">derive</span>(<span class="string">&quot;Clone&quot;</span>)]</span> <span class="comment">// error!</span>
<span class="kw">struct</span> <span class="ident">Foo</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bderive(%22Clone%22)%5D%20%2F%2F%20error!%0Astruct%20Foo%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Only paths to traits are allowed as argument inside <code>#[derive]</code>. You can find
more information about the <code>#[derive]</code> attribute in the <a href="https://doc.rust-lang.org/book/appendix-03-derivable-traits.html">Rust Book</a>.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>)]</span> <span class="comment">// ok!</span>
<span class="kw">struct</span> <span class="ident">Foo</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0A%23%5Bderive(Clone)%5D%20%2F%2F%20ok!%0Astruct%20Foo%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0778" class="section-header"><a href="#E0778">E0778</a></h2>
<p>The <code>instruction_set</code> attribute was malformed.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">isa_attribute</span>)]</span>

<span class="attribute">#[<span class="ident">instruction_set</span>()]</span> <span class="comment">// error: expected one argument</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">something</span>() {}
<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(isa_attribute)%5D%0A%0A%23%5Binstruction_set()%5D%20%2F%2F%20error%3A%20expected%20one%20argument%0Apub%20fn%20something()%20%7B%7D%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>The parenthesized <code>instruction_set</code> attribute requires the parameter to be
specified:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">isa_attribute</span>)]</span>

<span class="attribute">#[<span class="ident">cfg_attr</span>(<span class="ident">target_arch</span><span class="op">=</span><span class="string">&quot;arm&quot;</span>, <span class="ident">instruction_set</span>(<span class="ident">arm</span>::<span class="ident">a32</span>))]</span>
<span class="kw">fn</span> <span class="ident">something</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(isa_attribute)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bcfg_attr(target_arch%3D%22arm%22%2C%20instruction_set(arm%3A%3Aa32))%5D%0Afn%20something()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>or:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">isa_attribute</span>)]</span>

<span class="attribute">#[<span class="ident">cfg_attr</span>(<span class="ident">target_arch</span><span class="op">=</span><span class="string">&quot;arm&quot;</span>, <span class="ident">instruction_set</span>(<span class="ident">arm</span>::<span class="ident">t32</span>))]</span>
<span class="kw">fn</span> <span class="ident">something</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(isa_attribute)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bcfg_attr(target_arch%3D%22arm%22%2C%20instruction_set(arm%3A%3At32))%5D%0Afn%20something()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>For more information see the <a href="https://doc.rust-lang.org/reference/attributes/codegen.html"><code>instruction_set</code> attribute</a>
section of the Reference.</p>
</div>
<div class="error-described"><h2 id="E0779" class="section-header"><a href="#E0779">E0779</a></h2>
<p>An unknown argument was given to the <code>instruction_set</code> attribute.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">isa_attribute</span>)]</span>

<span class="attribute">#[<span class="ident">instruction_set</span>(<span class="ident">intel</span>::<span class="ident">x64</span>)]</span> <span class="comment">// error: invalid argument</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">something</span>() {}
<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(isa_attribute)%5D%0A%0A%23%5Binstruction_set(intel%3A%3Ax64)%5D%20%2F%2F%20error%3A%20invalid%20argument%0Apub%20fn%20something()%20%7B%7D%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>The <code>instruction_set</code> attribute only supports two arguments currently:</p>
<ul>
<li>arm::a32</li>
<li>arm::t32</li>
</ul>
<p>All other arguments given to the <code>instruction_set</code> attribute will return this
error. Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">isa_attribute</span>)]</span>

<span class="attribute">#[<span class="ident">cfg_attr</span>(<span class="ident">target_arch</span><span class="op">=</span><span class="string">&quot;arm&quot;</span>, <span class="ident">instruction_set</span>(<span class="ident">arm</span>::<span class="ident">a32</span>))]</span> <span class="comment">// ok!</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">something</span>() {}
<span class="kw">fn</span> <span class="ident">main</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(isa_attribute)%5D%0A%0A%23%5Bcfg_attr(target_arch%3D%22arm%22%2C%20instruction_set(arm%3A%3Aa32))%5D%20%2F%2F%20ok!%0Apub%20fn%20something()%20%7B%7D%0Afn%20main()%20%7B%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>For more information see the <a href="https://doc.rust-lang.org/reference/attributes/codegen.html"><code>instruction_set</code> attribute</a>
section of the Reference.</p>
</div>
<div class="error-described"><h2 id="E0780" class="section-header"><a href="#E0780">E0780</a></h2>
<p>Cannot use <code>doc(inline)</code> with anonymous imports</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">

<span class="attribute">#[<span class="ident">doc</span>(<span class="ident">inline</span>)]</span> <span class="comment">// error: invalid doc argument</span>
<span class="kw">pub</span> <span class="kw">use</span> <span class="ident">foo</span>::<span class="ident">Foo</span> <span class="kw">as</span> <span class="kw">_</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%0Afn%20main()%20%7B%0A%23%5Bdoc(inline)%5D%20%2F%2F%20error%3A%20invalid%20doc%20argument%0Apub%20use%20foo%3A%3AFoo%20as%20_%3B%0A%7D&amp;edition=2015">Run</a></div>
<p>Anonymous imports are always rendered with <code>#[doc(no_inline)]</code>. To fix this
error, remove the <code>#[doc(inline)]</code> attribute.</p>
<p>Example:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">

<span class="kw">pub</span> <span class="kw">use</span> <span class="ident">foo</span>::<span class="ident">Foo</span> <span class="kw">as</span> <span class="kw">_</span>;</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%0Afn%20main()%20%7B%0Apub%20use%20foo%3A%3AFoo%20as%20_%3B%0A%7D&amp;edition=2015">Run</a></div>
</div>
<div class="error-described"><h2 id="E0781" class="section-header"><a href="#E0781">E0781</a></h2>
<p>The <code>C-cmse-nonsecure-call</code> ABI can only be used with function pointers.</p>
<p>Erroneous code example:</p>

<div class='information'><div class='tooltip compile_fail'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered compile_fail">
<span class="attribute">#![<span class="ident">feature</span>(<span class="ident">abi_c_cmse_nonsecure_call</span>)]</span>

<span class="kw">pub</span> <span class="kw">extern</span> <span class="string">&quot;C-cmse-nonsecure-call&quot;</span> <span class="kw">fn</span> <span class="ident">test</span>() {}</pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(abi_c_cmse_nonsecure_call)%5D%0A%0Afn%20main()%20%7B%0Apub%20extern%20%22C-cmse-nonsecure-call%22%20fn%20test()%20%7B%7D%0A%7D&amp;version=nightly&amp;edition=2015">Run</a></div>
<p>The <code>C-cmse-nonsecure-call</code> ABI should be used by casting function pointers to
specific addresses.</p>
</div>
<script>
function onEach(arr, func) {
    if (arr && arr.length > 0 && func) {
        for (var i = 0; i < arr.length; i++) {
            func(arr[i]);
        }
    }
}

function hasClass(elem, className) {
    if (elem && className && elem.className) {
        var elemClass = elem.className;
        var start = elemClass.indexOf(className);
        if (start === -1) {
            return false;
        } else if (elemClass.length === className.length) {
            return true;
        } else {
            if (start > 0 && elemClass[start - 1] !== ' ') {
                return false;
            }
            var end = start + className.length;
            if (end < elemClass.length && elemClass[end] !== ' ') {
                return false;
            }
            return true;
        }
        if (start > 0 && elemClass[start - 1] !== ' ') {
            return false;
        }
        var end = start + className.length;
        if (end < elemClass.length && elemClass[end] !== ' ') {
            return false;
        }
        return true;
    }
    return false;
}

onEach(document.getElementsByClassName('rust-example-rendered'), function(e) {
    if (hasClass(e, 'compile_fail')) {
        e.addEventListener("mouseover", function(event) {
            e.previousElementSibling.childNodes[0].style.color = '#f00';
        });
        e.addEventListener("mouseout", function(event) {
            e.previousElementSibling.childNodes[0].style.color = '';
        });
    } else if (hasClass(e, 'ignore')) {
        e.addEventListener("mouseover", function(event) {
            e.previousElementSibling.childNodes[0].style.color = '#ff9200';
        });
        e.addEventListener("mouseout", function(event) {
            e.previousElementSibling.childNodes[0].style.color = '';
        });
    }
});
</script>
</body>
</html>
